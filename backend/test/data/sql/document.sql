CREATE TABLE document
(
    "id"            INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    "name"          TEXT                                    NOT NULL,
    "data_category" TEXT                                    NOT NULL REFERENCES "data_categories" ("code"),
    "data_type"     TEXT REFERENCES "data_types" ("code")   NOT NULL,
    "format"        TEXT REFERENCES "file_formats" ("code") NOT NULL,
    "size"          BIGINT                                  NOT NULL,
    "url"           TEXT                                    NOT NULL,
    "hash"          TEXT
);
CREATE INDEX IF NOT EXISTS idx_document_name ON "document" ("name");
CREATE INDEX IF NOT EXISTS idx_document_data_type ON "document" ("data_type");
CREATE INDEX IF NOT EXISTS idx_document_format ON "document" ("format");