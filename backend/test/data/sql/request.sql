CREATE TABLE request
(
    "id"                       INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    "status"                   TEXT      NOT NULL REFERENCES "statuses" NOT NULL,
    "priority"                 TEXT      NOT NULL REFERENCES "priorities" ("code"),
    "request_code"             TEXT,
    "ordering_physician"       TEXT,
    "ordering_organisation_id" INTEGER REFERENCES "organization" ("id"),
    "order_number"             TEXT,
    "created_on"               TIMESTAMP NOT NULL,
    "updated_on"               TIMESTAMP NOT NULL
);

CREATE INDEX IF NOT EXISTS idx_request_status ON "request" ("status");
CREATE INDEX IF NOT EXISTS idx_request_priority ON "request" ("priority");
CREATE INDEX IF NOT EXISTS idx_request_created_on ON "request" ("created_on");