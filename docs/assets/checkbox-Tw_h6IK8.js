import{j as n}from"./jsx-runtime-Cf8x2fCZ.js";import{r as a}from"./index-t5q4d8OJ.js";import{b as j,u as A,c as L,P as g,a as P}from"./index-Bjkhh2p3.js";import{u as O}from"./index-Kp-sCbH1.js";import{u as H}from"./index-CTFHtJli.js";import{P as K}from"./index-V1T-MO6M.js";import{c as T}from"./utils-CytzSlOG.js";import{c as q}from"./index-C66Dxnp2.js";import{C as U}from"./check-1JYhj4AL.js";var v="Checkbox",[V,ae]=L(v),[X,F]=V(v),N=a.forwardRef((e,u)=>{const{__scopeCheckbox:t,name:c,checked:i,defaultChecked:r,required:h,disabled:l,value:b="on",onCheckedChange:x,form:C,...y}=e,[o,w]=a.useState(null),R=j(u,s=>w(s)),f=a.useRef(!1),k=o?C||!!o.closest("form"):!0,[p,E]=A({prop:i,defaultProp:r??!1,onChange:x,caller:v}),z=a.useRef(p);return a.useEffect(()=>{const s=o==null?void 0:o.form;if(s){const m=()=>E(z.current);return s.addEventListener("reset",m),()=>s.removeEventListener("reset",m)}},[o,E]),n.jsxs(X,{scope:t,state:p,disabled:l,children:[n.jsx(g.button,{type:"button",role:"checkbox","aria-checked":d(p)?"mixed":p,"aria-required":h,"data-state":B(p),"data-disabled":l?"":void 0,disabled:l,value:b,...y,ref:R,onKeyDown:P(e.onKeyDown,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:P(e.onClick,s=>{E(m=>d(m)?!0:!m),k&&(f.current=s.isPropagationStopped(),f.current||s.stopPropagation())})}),k&&n.jsx(S,{control:o,bubbles:!f.current,name:c,value:b,checked:p,required:h,disabled:l,form:C,style:{transform:"translateX(-100%)"},defaultChecked:d(r)?!1:r})]})});N.displayName=v;var I="CheckboxIndicator",_=a.forwardRef((e,u)=>{const{__scopeCheckbox:t,forceMount:c,...i}=e,r=F(I,t);return n.jsx(K,{present:c||d(r.state)||r.state===!0,children:n.jsx(g.span,{"data-state":B(r.state),"data-disabled":r.disabled?"":void 0,...i,ref:u,style:{pointerEvents:"none",...e.style}})})});_.displayName=I;var $="CheckboxBubbleInput",S=a.forwardRef(({__scopeCheckbox:e,control:u,checked:t,bubbles:c=!0,defaultChecked:i,...r},h)=>{const l=a.useRef(null),b=j(l,h),x=O(t),C=H(u);a.useEffect(()=>{const o=l.current;if(!o)return;const w=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(w,"checked").set;if(x!==t&&f){const k=new Event("click",{bubbles:c});o.indeterminate=d(t),f.call(o,d(t)?!1:t),o.dispatchEvent(k)}},[x,t,c]);const y=a.useRef(d(t)?!1:t);return n.jsx(g.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,...r,tabIndex:-1,ref:b,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});S.displayName=$;function d(e){return e==="indeterminate"}function B(e){return d(e)?"indeterminate":e?"checked":"unchecked"}var D=N,G=_;const J=q({slots:{base:"peer shrink-0 rounded-sm border ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring shadow disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:text-primary-foreground",icon:""},variants:{size:{default:{base:"w-4 h-4",icon:"w-3 h-3"},xs:{base:"w-3.5 h-3.5",icon:"w-3 h-3"},sm:{base:"w-4 h-4",icon:"w-3 h-3"},md:{base:"w-5 h-5",icon:"w-4 h-4"},lg:{base:"w-6 h-6",icon:"w-5 h-5"}}},defaultVariants:{size:"default"}}),M=a.forwardRef(({className:e,size:u,...t},c)=>{const i=J({size:u});return n.jsx(D,{ref:c,className:i.base({className:e}),...t,children:n.jsx(G,{className:T("flex items-center justify-center text-current"),children:n.jsx(U,{className:i.icon()})})})});M.displayName=D.displayName;M.__docgenInfo={description:"",methods:[]};export{M as C};
