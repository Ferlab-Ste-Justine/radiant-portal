import{j as h}from"./jsx-runtime-D_zvdyIk.js";import{a as tt,r as a}from"./index-DUAV1Q2A.js";import{f as rt}from"./index-DhvbgntC.js";import{a as ye}from"./index-B-lxVbXh.js";import{R as nt,P as at,O as lt,a as st}from"./index-BiAv9jRD.js";import{P as B}from"./index-aKoabQ1X.js";import{u as ae}from"./Combination-BCojpehm.js";import{c as it}from"./index-C66Dxnp2.js";import{c as A}from"./utils-BNf5BS2b.js";import{X as Ie}from"./dialog-Ba-0DRJa.js";import{c as ot}from"./createLucideIcon-DirO1-NP.js";import{S as ut}from"./spinner-CbKTttg0.js";import"./v4-CtRu48qb.js";import"./index-5epIGEb9.js";import"./index-VDvXe9nZ.js";import"./index-CqVsPxxY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var Ce=1,dt=.9,ft=.8,mt=.17,ve=.1,he=.999,pt=.9999,vt=.99,ht=/[\\\/_+.#"@\[\(\{&]/,gt=/[\\\/_+.#"@\[\(\{&]/g,bt=/[\s-]/,Ke=/[\s-]/g;function we(e,r,t,i,s,f,u){if(f===r.length)return s===e.length?Ce:vt;var g=`${s},${f}`;if(u[g]!==void 0)return u[g];for(var y=i.charAt(f),p=t.indexOf(y,s),m=0,c,w,S,I;p>=0;)c=we(e,r,t,i,p+1,f+1,u),c>m&&(p===s?c*=Ce:ht.test(e.charAt(p-1))?(c*=ft,S=e.slice(s,p-1).match(gt),S&&s>0&&(c*=Math.pow(he,S.length))):bt.test(e.charAt(p-1))?(c*=dt,I=e.slice(s,p-1).match(Ke),I&&s>0&&(c*=Math.pow(he,I.length))):(c*=mt,s>0&&(c*=Math.pow(he,p-s))),e.charAt(p)!==r.charAt(f)&&(c*=pt)),(c<ve&&t.charAt(p-1)===i.charAt(f+1)||i.charAt(f+1)===i.charAt(f)&&t.charAt(p-1)!==i.charAt(f))&&(w=we(e,r,t,i,p+1,f+2,u),w*ve>c&&(c=w*ve)),c>m&&(m=c),p=t.indexOf(y,p+1);return u[g]=m,m}function Oe(e){return e.toLowerCase().replace(Ke," ")}function xt(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,we(e,r,Oe(e),Oe(r),0,0,{})}var ge={exports:{}},be={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve;function yt(){if(Ve)return be;Ve=1;var e=tt();function r(c,w){return c===w&&(c!==0||1/c===1/w)||c!==c&&w!==w}var t=typeof Object.is=="function"?Object.is:r,i=e.useState,s=e.useEffect,f=e.useLayoutEffect,u=e.useDebugValue;function g(c,w){var S=w(),I=i({inst:{value:S,getSnapshot:w}}),T=I[0].inst,D=I[1];return f(function(){T.value=S,T.getSnapshot=w,y(T)&&D({inst:T})},[c,S,w]),s(function(){return y(T)&&D({inst:T}),c(function(){y(T)&&D({inst:T})})},[c]),u(S),S}function y(c){var w=c.getSnapshot;c=c.value;try{var S=w();return!t(c,S)}catch{return!0}}function p(c,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:g;return be.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,be}var Me;function wt(){return Me||(Me=1,ge.exports=yt()),ge.exports}var St=wt(),ie='[cmdk-group=""]',xe='[cmdk-group-items=""]',Et='[cmdk-group-heading=""]',Ee='[cmdk-item=""]',Te=`${Ee}:not([aria-disabled="true"])`,Se="cmdk-item-select",Y="data-value",kt=(e,r,t)=>xt(e,r,t),ze=a.createContext(void 0),ue=()=>a.useContext(ze),Ge=a.createContext(void 0),ke=()=>a.useContext(Ge),Ue=a.createContext(void 0),We=a.forwardRef((e,r)=>{let t=re(()=>{var n,d;return{search:"",value:(d=(n=e.value)!=null?n:e.defaultValue)!=null?d:"",filtered:{count:0,items:new Map,groups:new Set}}}),i=re(()=>new Set),s=re(()=>new Map),f=re(()=>new Map),u=re(()=>new Set),g=Be(e),{label:y,children:p,value:m,onValueChange:c,filter:w,shouldFilter:S,loop:I,disablePointerSelection:T=!1,vimBindings:D=!0,...Z}=e,G=ae(),H=ae(),R=ae(),E=a.useRef(null),j=At();Q(()=>{if(m!==void 0){let n=m.trim();t.current.value=n,V.emit()}},[m]),Q(()=>{j(6,se)},[]);let V=a.useMemo(()=>({subscribe:n=>(u.current.add(n),()=>u.current.delete(n)),snapshot:()=>t.current,setState:(n,d,v)=>{var o,k,N;if(!Object.is(t.current[n],d)){if(t.current[n]=d,n==="search")P(),J(),j(1,le);else if(n==="value"&&(v||j(5,se),((o=g.current)==null?void 0:o.value)!==void 0)){let q=d??"";(N=(k=g.current).onValueChange)==null||N.call(k,q);return}V.emit()}},emit:()=>{u.current.forEach(n=>n())}}),[]),C=a.useMemo(()=>({value:(n,d,v)=>{var o;d!==((o=f.current.get(n))==null?void 0:o.value)&&(f.current.set(n,{value:d,keywords:v}),t.current.filtered.items.set(n,_(d,v)),j(2,()=>{J(),V.emit()}))},item:(n,d)=>(i.current.add(n),d&&(s.current.has(d)?s.current.get(d).add(n):s.current.set(d,new Set([n]))),j(3,()=>{P(),J(),t.current.value||le(),V.emit()}),()=>{f.current.delete(n),i.current.delete(n),t.current.filtered.items.delete(n);let v=U();j(4,()=>{P(),(v==null?void 0:v.getAttribute("id"))===n&&le(),V.emit()})}),group:n=>(s.current.has(n)||s.current.set(n,new Set),()=>{f.current.delete(n),s.current.delete(n)}),filter:()=>g.current.shouldFilter,label:y||e["aria-label"],getDisablePointerSelection:()=>g.current.disablePointerSelection,listId:G,inputId:R,labelId:H,listInnerRef:E}),[]);function _(n,d){var v,o;let k=(o=(v=g.current)==null?void 0:v.filter)!=null?o:kt;return n?k(n,t.current.search,d):0}function J(){if(!t.current.search||g.current.shouldFilter===!1)return;let n=t.current.filtered.items,d=[];t.current.filtered.groups.forEach(o=>{let k=s.current.get(o),N=0;k.forEach(q=>{let z=n.get(q);N=Math.max(z,N)}),d.push([o,N])});let v=E.current;K().sort((o,k)=>{var N,q;let z=o.getAttribute("id"),l=k.getAttribute("id");return((N=n.get(l))!=null?N:0)-((q=n.get(z))!=null?q:0)}).forEach(o=>{let k=o.closest(xe);k?k.appendChild(o.parentElement===k?o:o.closest(`${xe} > *`)):v.appendChild(o.parentElement===v?o:o.closest(`${xe} > *`))}),d.sort((o,k)=>k[1]-o[1]).forEach(o=>{var k;let N=(k=E.current)==null?void 0:k.querySelector(`${ie}[${Y}="${encodeURIComponent(o[0])}"]`);N==null||N.parentElement.appendChild(N)})}function le(){let n=K().find(v=>v.getAttribute("aria-disabled")!=="true"),d=n==null?void 0:n.getAttribute(Y);V.setState("value",d||void 0)}function P(){var n,d,v,o;if(!t.current.search||g.current.shouldFilter===!1){t.current.filtered.count=i.current.size;return}t.current.filtered.groups=new Set;let k=0;for(let N of i.current){let q=(d=(n=f.current.get(N))==null?void 0:n.value)!=null?d:"",z=(o=(v=f.current.get(N))==null?void 0:v.keywords)!=null?o:[],l=_(q,z);t.current.filtered.items.set(N,l),l>0&&k++}for(let[N,q]of s.current)for(let z of q)if(t.current.filtered.items.get(z)>0){t.current.filtered.groups.add(N);break}t.current.filtered.count=k}function se(){var n,d,v;let o=U();o&&(((n=o.parentElement)==null?void 0:n.firstChild)===o&&((v=(d=o.closest(ie))==null?void 0:d.querySelector(Et))==null||v.scrollIntoView({block:"nearest"})),o.scrollIntoView({block:"nearest"}))}function U(){var n;return(n=E.current)==null?void 0:n.querySelector(`${Ee}[aria-selected="true"]`)}function K(){var n;return Array.from(((n=E.current)==null?void 0:n.querySelectorAll(Te))||[])}function x(n){let d=K()[n];d&&V.setState("value",d.getAttribute(Y))}function $(n){var d;let v=U(),o=K(),k=o.findIndex(q=>q===v),N=o[k+n];(d=g.current)!=null&&d.loop&&(N=k+n<0?o[o.length-1]:k+n===o.length?o[0]:o[k+n]),N&&V.setState("value",N.getAttribute(Y))}function F(n){let d=U(),v=d==null?void 0:d.closest(ie),o;for(;v&&!o;)v=n>0?Tt(v,ie):qt(v,ie),o=v==null?void 0:v.querySelector(Te);o?V.setState("value",o.getAttribute(Y)):$(n)}let ee=()=>x(K().length-1),L=n=>{n.preventDefault(),n.metaKey?ee():n.altKey?F(1):$(1)},te=n=>{n.preventDefault(),n.metaKey?x(0):n.altKey?F(-1):$(-1)};return a.createElement(B.div,{ref:r,tabIndex:-1,...Z,"cmdk-root":"",onKeyDown:n=>{var d;if((d=Z.onKeyDown)==null||d.call(Z,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{D&&n.ctrlKey&&L(n);break}case"ArrowDown":{L(n);break}case"p":case"k":{D&&n.ctrlKey&&te(n);break}case"ArrowUp":{te(n);break}case"Home":{n.preventDefault(),x(0);break}case"End":{n.preventDefault(),ee();break}case"Enter":if(!n.nativeEvent.isComposing&&n.keyCode!==229){n.preventDefault();let v=U();if(v){let o=new Event(Se);v.dispatchEvent(o)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Lt},y),pe(e,n=>a.createElement(Ge.Provider,{value:V},a.createElement(ze.Provider,{value:C},n))))}),Nt=a.forwardRef((e,r)=>{var t,i;let s=ae(),f=a.useRef(null),u=a.useContext(Ue),g=ue(),y=Be(e),p=(i=(t=y.current)==null?void 0:t.forceMount)!=null?i:u==null?void 0:u.forceMount;Q(()=>{if(!p)return g.item(s,u==null?void 0:u.id)},[p]);let m=He(s,f,[e.value,e.children,f],e.keywords),c=ke(),w=W(j=>j.value&&j.value===m.current),S=W(j=>p||g.filter()===!1?!0:j.search?j.filtered.items.get(s)>0:!0);a.useEffect(()=>{let j=f.current;if(!(!j||e.disabled))return j.addEventListener(Se,I),()=>j.removeEventListener(Se,I)},[S,e.onSelect,e.disabled]);function I(){var j,V;T(),(V=(j=y.current).onSelect)==null||V.call(j,m.current)}function T(){c.setState("value",m.current,!0)}if(!S)return null;let{disabled:D,value:Z,onSelect:G,forceMount:H,keywords:R,...E}=e;return a.createElement(B.div,{ref:oe([f,r]),...E,id:s,"cmdk-item":"",role:"option","aria-disabled":!!D,"aria-selected":!!w,"data-disabled":!!D,"data-selected":!!w,onPointerMove:D||g.getDisablePointerSelection()?void 0:T,onClick:D?void 0:I},e.children)}),Rt=a.forwardRef((e,r)=>{let{heading:t,children:i,forceMount:s,...f}=e,u=ae(),g=a.useRef(null),y=a.useRef(null),p=ae(),m=ue(),c=W(S=>s||m.filter()===!1?!0:S.search?S.filtered.groups.has(u):!0);Q(()=>m.group(u),[]),He(u,g,[e.value,e.heading,y]);let w=a.useMemo(()=>({id:u,forceMount:s}),[s]);return a.createElement(B.div,{ref:oe([g,r]),...f,"cmdk-group":"",role:"presentation",hidden:c?void 0:!0},t&&a.createElement("div",{ref:y,"cmdk-group-heading":"","aria-hidden":!0,id:p},t),pe(e,S=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?p:void 0},a.createElement(Ue.Provider,{value:w},S))))}),jt=a.forwardRef((e,r)=>{let{alwaysRender:t,...i}=e,s=a.useRef(null),f=W(u=>!u.search);return!t&&!f?null:a.createElement(B.div,{ref:oe([s,r]),...i,"cmdk-separator":"",role:"separator"})}),It=a.forwardRef((e,r)=>{let{onValueChange:t,...i}=e,s=e.value!=null,f=ke(),u=W(m=>m.search),g=W(m=>m.value),y=ue(),p=a.useMemo(()=>{var m;let c=(m=y.listInnerRef.current)==null?void 0:m.querySelector(`${Ee}[${Y}="${encodeURIComponent(g)}"]`);return c==null?void 0:c.getAttribute("id")},[]);return a.useEffect(()=>{e.value!=null&&f.setState("search",e.value)},[e.value]),a.createElement(B.input,{ref:r,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":y.listId,"aria-labelledby":y.labelId,"aria-activedescendant":p,id:y.inputId,type:"text",value:s?e.value:u,onChange:m=>{s||f.setState("search",m.target.value),t==null||t(m.target.value)}})}),Ct=a.forwardRef((e,r)=>{let{children:t,label:i="Suggestions",...s}=e,f=a.useRef(null),u=a.useRef(null),g=ue();return a.useEffect(()=>{if(u.current&&f.current){let y=u.current,p=f.current,m,c=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let w=y.offsetHeight;p.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return c.observe(y),()=>{cancelAnimationFrame(m),c.unobserve(y)}}},[]),a.createElement(B.div,{ref:oe([f,r]),...s,"cmdk-list":"",role:"listbox","aria-label":i,id:g.listId},pe(e,y=>a.createElement("div",{ref:oe([u,g.listInnerRef]),"cmdk-list-sizer":""},y)))}),Ot=a.forwardRef((e,r)=>{let{open:t,onOpenChange:i,overlayClassName:s,contentClassName:f,container:u,...g}=e;return a.createElement(nt,{open:t,onOpenChange:i},a.createElement(at,{container:u},a.createElement(lt,{"cmdk-overlay":"",className:s}),a.createElement(st,{"aria-label":e.label,"cmdk-dialog":"",className:f},a.createElement(We,{ref:r,...g}))))}),Vt=a.forwardRef((e,r)=>W(t=>t.filtered.count===0)?a.createElement(B.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Mt=a.forwardRef((e,r)=>{let{progress:t,children:i,label:s="Loading...",...f}=e;return a.createElement(B.div,{ref:r,...f,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},pe(e,u=>a.createElement("div",{"aria-hidden":!0},u)))}),M=Object.assign(We,{List:Ct,Item:Nt,Input:It,Group:Rt,Separator:jt,Dialog:Ot,Empty:Vt,Loading:Mt});function Tt(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function qt(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function Be(e){let r=a.useRef(e);return Q(()=>{r.current=e}),r}var Q=typeof window>"u"?a.useEffect:a.useLayoutEffect;function re(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function oe(e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}function W(e){let r=ke(),t=()=>e(r.snapshot());return St.useSyncExternalStore(r.subscribe,t,t)}function He(e,r,t,i=[]){let s=a.useRef(),f=ue();return Q(()=>{var u;let g=(()=>{var p;for(let m of t){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(p=m.current.textContent)==null?void 0:p.trim():s.current}})(),y=i.map(p=>p.trim());f.value(e,g,y),(u=r.current)==null||u.setAttribute(Y,g),s.current=g}),s}var At=()=>{let[e,r]=a.useState(),t=re(()=>new Map);return Q(()=>{t.current.forEach(i=>i()),t.current=new Map},[e]),(i,s)=>{t.current.set(i,s),r({})}};function Dt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function pe({asChild:e,children:r},t){return e&&a.isValidElement(r)?a.cloneElement(Dt(r),{ref:r.ref},t(r.props.children)):t(r)}var Lt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _t=it({base:"inline-flex items-center rounded-sm border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"},size:{default:"text-xs py-1 px-2",xs:"text-xs py-1 px-2",sm:"text-sm py-1 px-2",md:"text-sm py-1 px-3",lg:"text-base py-1 px-4"}},defaultVariants:{variant:"default",size:"default"}});function Je({className:e,variant:r,size:t,...i}){return h.jsx("div",{className:_t({variant:r,size:t,className:e}),...i})}Je.__docgenInfo={description:"",methods:[],displayName:"Badge",composes:["VariantProps"]};const Ne=a.forwardRef(({className:e,...r},t)=>h.jsx(M,{ref:t,className:A("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Ne.displayName=M.displayName;const Xe=a.forwardRef(({className:e,...r},t)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(ct,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(M.Input,{ref:t,className:A("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Xe.displayName=M.Input.displayName;const Re=a.forwardRef(({className:e,...r},t)=>h.jsx(M.List,{ref:t,className:A("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Re.displayName=M.List.displayName;const Ye=a.forwardRef((e,r)=>h.jsx(M.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ye.displayName=M.Empty.displayName;const je=a.forwardRef(({className:e,...r},t)=>h.jsx(M.Group,{ref:t,className:A("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));je.displayName=M.Group.displayName;const Qe=a.forwardRef(({className:e,...r},t)=>h.jsx(M.Separator,{ref:t,className:A("-mx-1 h-px bg-border",e),...r}));Qe.displayName=M.Separator.displayName;const ne=a.forwardRef(({className:e,...r},t)=>h.jsx(M.Item,{ref:t,className:A("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));ne.displayName=M.Item.displayName;Ne.__docgenInfo={description:"",methods:[]};Xe.__docgenInfo={description:"",methods:[]};Re.__docgenInfo={description:"",methods:[]};Ye.__docgenInfo={description:"",methods:[]};je.__docgenInfo={description:"",methods:[]};ne.__docgenInfo={description:"",methods:[]};Qe.__docgenInfo={description:"",methods:[]};function $t(e,r){const[t,i]=a.useState(e);return a.useEffect(()=>{const s=setTimeout(()=>i(e),r||500);return()=>{clearTimeout(s)}},[e,r]),t}function de(e,r){if(e.length===0)return{};if(!r)return{"":e};const t={};return e.forEach(i=>{const s=i[r]||"";t[s]||(t[s]=[]),t[s].push(i)}),t}function Ft(e,r){const t=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))t[i]=s.filter(f=>!r.find(u=>u.value===f.value));return t}function qe(e,r){return r.filter(t=>e.includes(t.value))}function Kt(e,r){for(const[,t]of Object.entries(e))if(t.some(i=>r.find(s=>s.value===i.value)))return!0;return!1}function ce({value:e,onChange:r,placeholder:t,defaultOptions:i=[],options:s,debounceDelay:f=500,onSearch:u,onSearchSync:g,loadingIndicator:y,emptyIndicator:p,maxSelected:m=Number.MAX_SAFE_INTEGER,onMaxSelected:c,hidePlaceholderWhenSelected:w,disabled:S,groupBy:I,className:T,badgeClassName:D,selectFirstItem:Z=!0,creatable:G=!1,triggerSearchOnFocus:H=!1,commandProps:R,inputProps:E,hideClearAllButton:j=!1,ref:V}){const C=a.useRef(null),[_,J]=a.useState(!1),[le,P]=a.useState(!1),[se,U]=a.useState(!1),K=a.useRef(null),[x,$]=a.useState(qe(e||[],i)),[F,ee]=a.useState(de(i,I)),[L,te]=a.useState(""),n=$t(L,f);a.useImperativeHandle(V,()=>({selectedValue:[...x],input:C.current,focus:()=>{var l;return(l=C==null?void 0:C.current)==null?void 0:l.focus()},reset:()=>$([])}),[x]);const d=l=>{K.current&&!K.current.contains(l.target)&&C.current&&!C.current.contains(l.target)&&(J(!1),C.current.blur())},v=a.useCallback(l=>{const b=x.filter(O=>O.value!==l.value);$(b),r==null||r(b.map(O=>O.value))},[r,x]),o=a.useCallback(l=>{const b=C.current;b&&((l.key==="Delete"||l.key==="Backspace")&&b.value===""&&x.length>0&&(x[x.length-1].fixed||v(x[x.length-1])),l.key==="Escape"&&b.blur())},[v,x]);a.useEffect(()=>(_?(document.addEventListener("mousedown",d),document.addEventListener("touchend",d)):(document.removeEventListener("mousedown",d),document.removeEventListener("touchend",d)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchend",d)}),[_]),a.useEffect(()=>{e&&i.length>0&&$(qe(e,i))},[e,i]),a.useEffect(()=>{if(!s||u)return;const l=de(s||[],I);JSON.stringify(l)!==JSON.stringify(F)&&ee(l)},[i,s,I,u,F]),a.useEffect(()=>{const l=()=>{const O=g==null?void 0:g(n);ee(de(O||[],I))};(async()=>{!g||!_||(H&&l(),n&&l())})()},[n,I,_,H]),a.useEffect(()=>{const l=async()=>{U(!0);const O=await(u==null?void 0:u(n));ee(de(O||[],I)),U(!1)};(async()=>{!u||!_||(H&&await l(),n&&await l())})()},[n,I,_,H]);const k=()=>{if(!G||Kt(F,[{value:L,label:L}])||x.find(b=>b.value===L))return;const l=h.jsx(ne,{value:L,className:"cursor-pointer",onMouseDown:b=>{b.preventDefault(),b.stopPropagation()},onSelect:b=>{if(x.length>=m){c==null||c(x.length);return}te("");const O=[...x,{value:b,label:b}];$(O),r==null||r(O.map(X=>X.value))},children:`Create "${L}"`});if(!u&&L.length>0||u&&n.length>0&&!se)return l},N=a.useCallback(()=>{if(p)return u&&!G&&Object.keys(F).length===0?h.jsx(ne,{value:"-",disabled:!0,children:p}):h.jsx(Ze,{children:p})},[G,p,u,F]),q=a.useMemo(()=>Ft(F,x),[F,x]),z=a.useCallback(()=>{if(R!=null&&R.filter)return R.filter;if(G)return(l,b)=>l.toLowerCase().includes(b.toLowerCase())?1:-1},[G,R==null?void 0:R.filter]);return h.jsxs(Ne,{ref:K,...R,onKeyDown:l=>{var b;o(l),(b=R==null?void 0:R.onKeyDown)==null||b.call(R,l)},className:A("h-auto overflow-visible bg-background",R==null?void 0:R.className),shouldFilter:(R==null?void 0:R.shouldFilter)!==void 0?R.shouldFilter:!u,filter:z(),children:[h.jsx("div",{className:A("flex min-h-10 rounded-md border border-input text-base md:text-sm ring-offset-background focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-ring",{"px-3 py-2":x.length!==0,"cursor-text":!S&&x.length!==0},T),onClick:()=>{var l;S||(l=C==null?void 0:C.current)==null||l.focus()},children:h.jsxs("div",{className:"relative flex flex-1 flex-wrap gap-1",children:[x.map(l=>h.jsxs(Je,{size:"xs",variant:"default",className:A("rounded-lg","data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",D),"data-fixed":l.fixed,"data-disabled":S||void 0,children:[l.label,h.jsx("button",{className:A("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:cursor-pointer",(S||l.fixed)&&"hidden"),onKeyDown:b=>{b.key==="Enter"&&v(l)},onMouseDown:b=>{b.preventDefault(),b.stopPropagation()},onClick:()=>v(l),children:h.jsx(Ie,{size:12,className:"text-primary-foreground"})})]},l.value)),h.jsx(M.Input,{...E,ref:C,value:L,disabled:S,onValueChange:l=>{var b;te(l),(b=E==null?void 0:E.onValueChange)==null||b.call(E,l)},onBlur:l=>{var b;le||J(!1),(b=E==null?void 0:E.onBlur)==null||b.call(E,l)},onFocus:l=>{var b;J(!0),(b=E==null?void 0:E.onFocus)==null||b.call(E,l)},placeholder:w&&x.length!==0?"":t,className:A("flex-1 bg-transparent outline-none placeholder:text-muted-foreground",{"w-full":w,"px-3 py-2":x.length===0,"ml-1":x.length!==0},E==null?void 0:E.className)}),h.jsx("button",{type:"button",onClick:()=>{$(x.filter(l=>l.fixed)),r==null||r(x.filter(l=>l.fixed).map(l=>l.value))},className:A("absolute right-0 h-[26px] p-0",(j||S||x.length<1||x.filter(l=>l.fixed).length===x.length)&&"hidden"),children:h.jsx(Ie,{size:18,className:""})})]})}),h.jsx("div",{className:"relative",children:_&&h.jsx(Re,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{P(!1)},onMouseEnter:()=>{P(!0)},onMouseUp:()=>{var l;(l=C==null?void 0:C.current)==null||l.focus()},children:se?h.jsx(h.Fragment,{children:y}):h.jsxs(h.Fragment,{children:[N(),k(),!Z&&h.jsx(ne,{value:"-",className:"hidden"}),Object.entries(q).map(([l,b])=>h.jsx(je,{heading:l,className:"h-full overflow-auto",children:h.jsx(h.Fragment,{children:b.map(O=>h.jsx(ne,{value:O.label,disabled:O.disable,onMouseDown:X=>{X.preventDefault(),X.stopPropagation()},onSelect:()=>{if(x.length>=m){c==null||c(x.length);return}te("");const X=[...x,O];$(X),r==null||r(X.map(et=>et.value))},className:A("cursor-pointer",O.disable&&"cursor-default text-muted-foreground"),children:O.label},O.value))})},l))]})})})]})}const Ze=a.forwardRef(({className:e,...r},t)=>W(s=>s.filtered.count===0)?h.jsx("div",{ref:t,className:A("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...r}):null);Ze.displayName="CommandEmpty";ce.displayName="MultipleSelector";ce.__docgenInfo={description:"",methods:[{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"reset",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MultipleSelector",props:{ref:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<MultipleSelectorRef>",elements:[{name:"MultipleSelectorRef"}]},description:""},value:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},defaultOptions:{required:!1,tsType:{name:"Array",elements:[{name:"MultiSelectorOption"}],raw:"MultiSelectorOption[]"},description:"",defaultValue:{value:"[]",computed:!1}},options:{required:!1,tsType:{name:"Array",elements:[{name:"MultiSelectorOption"}],raw:"MultiSelectorOption[]"},description:"manually controlled options"},placeholder:{required:!1,tsType:{name:"string"},description:""},loadingIndicator:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Loading component."},emptyIndicator:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Empty component."},debounceDelay:{required:!1,tsType:{name:"number"},description:"Debounce time for async search. Only work with `onSearch`.",defaultValue:{value:"500",computed:!1}},triggerSearchOnFocus:{required:!1,tsType:{name:"boolean"},description:"Only work with `onSearch` prop. Trigger search when `onFocus`.\nFor example, when user click on the input, it will trigger the search to get initial options.",defaultValue:{value:"false",computed:!1}},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => Promise<MultiSelectorOption[]>",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"MultiSelectorOption"}],raw:"MultiSelectorOption[]"}],raw:"Promise<MultiSelectorOption[]>"}}},description:"async search"},onSearchSync:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => MultiSelectorOption[]",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"Array",elements:[{name:"MultiSelectorOption"}],raw:"MultiSelectorOption[]"}}},description:`sync search. This search will not showing loadingIndicator.
The rest props are the same as async search.
i.e.: creatable, groupBy, delay.`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(options: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"options"}],return:{name:"void"}}},description:""},maxSelected:{required:!1,tsType:{name:"number"},description:"Limit the maximum number of selected options.",defaultValue:{value:"Number.MAX_SAFE_INTEGER",computed:!0}},onMaxSelected:{required:!1,tsType:{name:"signature",type:"function",raw:"(maxLimit: number) => void",signature:{arguments:[{type:{name:"number"},name:"maxLimit"}],return:{name:"void"}}},description:"When the number of selected options exceeds the limit, the onMaxSelected will be called."},hidePlaceholderWhenSelected:{required:!1,tsType:{name:"boolean"},description:"Hide the placeholder when there are options selected."},disabled:{required:!1,tsType:{name:"boolean"},description:""},groupBy:{required:!1,tsType:{name:"string"},description:"Group the options base on provided key."},className:{required:!1,tsType:{name:"string"},description:""},badgeClassName:{required:!1,tsType:{name:"string"},description:""},selectFirstItem:{required:!1,tsType:{name:"boolean"},description:`First item selected is a default behavior by cmdk. That is why the default is true.
This is a workaround solution by add a dummy item.

@reference: https://github.com/pacocoursey/cmdk/issues/171`,defaultValue:{value:"true",computed:!1}},creatable:{required:!1,tsType:{name:"boolean"},description:"Allow user to create option when there is no option matched.",defaultValue:{value:"false",computed:!1}},commandProps:{required:!1,tsType:{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<typeof Command>",elements:[{name:"Command"}]},description:"Props of `Command`"},inputProps:{required:!1,tsType:{name:"Omit",elements:[{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>",elements:[{name:"CommandPrimitive.Input"}]},{name:"union",raw:'"value" | "placeholder" | "disabled"',elements:[{name:"literal",value:'"value"'},{name:"literal",value:'"placeholder"'},{name:"literal",value:'"disabled"'}]}],raw:`Omit<
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>,
  "value" | "placeholder" | "disabled"
>`},description:"Props of `CommandInput`"},hideClearAllButton:{required:!1,tsType:{name:"boolean"},description:"hide the clear all button.",defaultValue:{value:"false",computed:!1}}}};const ar={title:"Base/Data Entry/Multi Selector",component:ce,args:{value:[],onChange:rt(),placeholder:"Placeholder"}},Pe=[{label:"Nextjs",value:"Nextjs"},{label:"Vite",value:"vite"},{label:"Nuxt",value:"nuxt",disable:!0},{label:"Vue",value:"vue, disable: true",disable:!0},{label:"Remix",value:"remix"},{label:"Svelte",value:"svelte",disable:!0},{label:"Angular",value:"angular",disable:!0},{label:"Ember",value:"ember",disable:!0},{label:"React",value:"react"},{label:"Gatsby",value:"gatsby",disable:!0},{label:"Astro",value:"astro",disable:!0}],fe={render:()=>{const[e,r]=a.useState(["Nextjs"]);return h.jsx(ce,{value:e,onChange:t=>{r(t),ye("onChange")(t)},className:"max-w-[300px]",placeholder:"Placeholder",commandProps:{className:"max-w-[300px]"},defaultOptions:Pe})}},me={render:()=>{const[e,r]=a.useState(["Nextjs"]);return h.jsx(ce,{value:e,onChange:t=>{r(t),ye("onChange")(t)},onSearch:async t=>(ye("onSearch")(t),new Promise(i=>{setTimeout(()=>i(Pe),1e3)})),debounceDelay:300,loadingIndicator:h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx(ut,{size:20})}),className:"max-w-[300px]",placeholder:"Placeholder",commandProps:{className:"max-w-[300px]"}})}};var Ae,De,Le;fe.parameters={...fe.parameters,docs:{...(Ae=fe.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  render: () => {
    const [values, setValues] = useState<string[]>(["Nextjs"]);
    return <MultiSelector value={values} onChange={newValues => {
      setValues(newValues);
      action("onChange")(newValues);
    }} className="max-w-[300px]" placeholder="Placeholder" commandProps={{
      className: "max-w-[300px]"
    }} defaultOptions={defaultOptions} />;
  }
}`,...(Le=(De=fe.parameters)==null?void 0:De.docs)==null?void 0:Le.source}}};var _e,$e,Fe;me.parameters={...me.parameters,docs:{...(_e=me.parameters)==null?void 0:_e.docs,source:{originalSource:`{
  render: () => {
    const [values, setValues] = useState<string[]>(["Nextjs"]);
    return <MultiSelector value={values} onChange={newValues => {
      setValues(newValues);
      action("onChange")(newValues);
    }} onSearch={async searchValue => {
      action("onSearch")(searchValue);
      return new Promise(resolve => {
        setTimeout(() => resolve(defaultOptions), 1000);
      });
    }} debounceDelay={300} loadingIndicator={<div className="flex items-center justify-center p-8">
            <Spinner size={20} />
          </div>} className="max-w-[300px]" placeholder="Placeholder" commandProps={{
      className: "max-w-[300px]"
    }} />;
  }
}`,...(Fe=($e=me.parameters)==null?void 0:$e.docs)==null?void 0:Fe.source}}};const lr=["Default","AsyncSearch"];export{me as AsyncSearch,fe as Default,lr as __namedExportsOrder,ar as default};
