import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{a as ee}from"./index-B-lxVbXh.js";import{q as j,M as re}from"./query-builder-remote-CzQy3Xv-.js";import{r as i}from"./index-tvICUrOf.js";import{B as oe}from"./button-DrgHO3YC.js";import{L as te}from"./label-BX6-Aqla.js";import{u as ae,c as T,P as k,b as I,a as N}from"./index-Csi1vtvD.js";import{j as O,u as se,R as ie,I as ne,k as ce}from"./dropdown-menu-CMZaZ8cH.js";import{u as de}from"./index-DJkr1wGX.js";import{u as le}from"./index-C1xbsqtW.js";import{P as ue}from"./index-pLOVI5Ig.js";import{c as B}from"./utils-CytzSlOG.js";import{u as pe,C as me}from"./applications-config-B4jBJrF9.js";import{u as fe}from"./i18n-yYV8OoNX.js";import"./index-yBjzXJbu.js";import"./v4-CtRu48qb.js";import"./ActionButton-Cw-9aGzR.js";import"./button.variants-B79LQKoe.js";import"./index-C66Dxnp2.js";import"./ellipsis-NIzCCAdy.js";import"./createLucideIcon-DKFpjrVJ.js";import"./spinner-Bn71UZIB.js";import"./index-_r67kdfS.js";import"./index-fNjTmf9T.js";import"./Combination-CmKP2mMJ.js";import"./index-CueSDTQu.js";import"./check-CfPT3E_d.js";import"./iframe-CkObih7S.js";var E="Radio",[ye,q]=T(E),[ve,ge]=ye(E),L=i.forwardRef((r,c)=>{const{__scopeRadio:t,name:l,checked:s=!1,required:a,disabled:d,value:v="on",onCheck:u,form:m,...f}=r,[p,o]=i.useState(null),n=I(c,R=>o(R)),y=i.useRef(!1),g=p?m||!!p.closest("form"):!0;return e.jsxs(ve,{scope:t,checked:s,disabled:d,children:[e.jsx(k.button,{type:"button",role:"radio","aria-checked":s,"data-state":U(s),"data-disabled":d?"":void 0,disabled:d,value:v,...f,ref:n,onClick:N(r.onClick,R=>{s||u==null||u(),g&&(y.current=R.isPropagationStopped(),y.current||R.stopPropagation())})}),g&&e.jsx(V,{control:p,bubbles:!y.current,name:l,value:v,checked:s,required:a,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});L.displayName=E;var M="RadioIndicator",Q=i.forwardRef((r,c)=>{const{__scopeRadio:t,forceMount:l,...s}=r,a=ge(M,t);return e.jsx(ue,{present:l||a.checked,children:e.jsx(k.span,{"data-state":U(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:c})})});Q.displayName=M;var Re="RadioBubbleInput",V=i.forwardRef(({__scopeRadio:r,control:c,checked:t,bubbles:l=!0,...s},a)=>{const d=i.useRef(null),v=I(d,a),u=le(t),m=de(c);return i.useEffect(()=>{const f=d.current;if(!f)return;const p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&n){const y=new Event("click",{bubbles:l});n.call(f,t),f.dispatchEvent(y)}},[u,t,l]),e.jsx(k.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:v,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});V.displayName=Re;function U(r){return r?"checked":"unchecked"}var xe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[he,Ze]=T(_,[O,q]),K=O(),z=q(),[ke,_e]=he(_),H=i.forwardRef((r,c)=>{const{__scopeRadioGroup:t,name:l,defaultValue:s,value:a,required:d=!1,disabled:v=!1,orientation:u,dir:m,loop:f=!0,onValueChange:p,...o}=r,n=K(t),y=se(m),[g,R]=ae({prop:a,defaultProp:s??"",onChange:p,caller:_});return e.jsx(ke,{scope:t,name:l,required:d,disabled:v,value:g,onValueChange:R,children:e.jsx(ie,{asChild:!0,...n,orientation:u,dir:y,loop:f,children:e.jsx(k.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":v?"":void 0,dir:y,...o,ref:c})})})});H.displayName=_;var $="RadioGroupItem",W=i.forwardRef((r,c)=>{const{__scopeRadioGroup:t,disabled:l,...s}=r,a=_e($,t),d=a.disabled||l,v=K(t),u=z(t),m=i.useRef(null),f=I(c,m),p=a.value===s.value,o=i.useRef(!1);return i.useEffect(()=>{const n=g=>{xe.includes(g.key)&&(o.current=!0)},y=()=>o.current=!1;return document.addEventListener("keydown",n),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",y)}},[]),e.jsx(ne,{asChild:!0,...v,focusable:!d,active:p,children:e.jsx(L,{disabled:d,required:a.required,checked:p,...u,...s,name:a.name,ref:f,onCheck:()=>a.onValueChange(s.value),onKeyDown:N(n=>{n.key==="Enter"&&n.preventDefault()}),onFocus:N(s.onFocus,()=>{var n;o.current&&((n=m.current)==null||n.click())})})})});W.displayName=$;var be="RadioGroupIndicator",X=i.forwardRef((r,c)=>{const{__scopeRadioGroup:t,...l}=r,s=z(t);return e.jsx(Q,{...s,...l,ref:c})});X.displayName=be;var Y=H,J=W,je=X;const C=i.forwardRef(({className:r,...c},t)=>e.jsx(Y,{className:B("grid gap-2",r),...c,ref:t}));C.displayName=Y.displayName;const S=i.forwardRef(({className:r,...c},t)=>e.jsx(J,{ref:t,className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...c,children:e.jsx(je,{className:"flex items-center justify-center",children:e.jsx(ce,{className:"h-2.5 w-2.5 fill-current text-current"})})}));S.displayName=J.displayName;C.__docgenInfo={description:"",methods:[]};S.__docgenInfo={description:"",methods:[]};function b({data:r,field:c}){const{t}=fe(),[l,s]=i.useState(r||[]),[a,d]=i.useState(null),u=pe().variant_entity.app_id;i.useEffect(()=>{let o=j.getActiveQuery(u).content.find(n=>n.content.field===c.key);if(o){let n=o.content.value;n.length>=1&&d(n[0])}else d(null);s(r||[])},[r]);const m=i.useCallback(o=>{o.key!==a&&o.key!==void 0&&(d(o.key||null),j.updateActiveQueryField(u,{field:c.key,value:[...o.key],merge_strategy:re.OVERRIDE_VALUES}))},[a]),f=i.useCallback(o=>a===o.key,[a]),p=i.useCallback(()=>{d(null)},[a]);return e.jsxs("div",{className:"p-2 w-full max-w-md",children:[e.jsx(C,{children:l.map(o=>e.jsx("div",{className:"space-y-3 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{value:o.key||"",id:o.key,checked:f(o),onClick:()=>{m(o)}}),e.jsx(te,{htmlFor:o.key,children:o.key})]}),e.jsx("span",{className:"bg-accent px-2 py-1 rounded-md font-mono text-xs",children:o.count})]})},o.key))}),a!==null&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-border"}),e.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:e.jsx(oe,{className:"text-gray-600",onClick:p,children:t("common.filters.buttons.clear")})})]})]})}b.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const Z={variant_entity:{app_id:"variant_entity_toggle_filter",aggregations:[{key:"chromosome",type:"multiple"},{key:"filter",type:"multiple"},{key:"zygosity",type:"multiple"},{key:"impact_score",type:"multiple"},{key:"variant_class",type:"multiple"},{key:"symbol",type:"multiple"}]}},er={title:"Feature/Query Filters/Toggle Filter",component:b,args:{data:[],field:{key:"chromosome",type:"boolean"}},decorators:[r=>e.jsx(me,{config:Z,children:e.jsx(r,{})})]},x={args:{data:[{key:"true",count:10030},{key:"false",count:200}]},render:r=>e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})})},h={args:{data:[{key:"Option6",count:600},{key:"Option5",count:500}]},render:r=>(ee("activeQuery")(j.updateActiveQueryField(Z.variant_entity.app_id,{field:"chromosome",value:["true"]})),e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})}))};var w,A,P;x.parameters={...x.parameters,docs:{...(w=x.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'true',
      count: 10030
    }, {
      key: 'false',
      count: 200
    }]
  },
  render: args => {
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(P=(A=x.parameters)==null?void 0:A.docs)==null?void 0:P.source}}};var G,F,D;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'Option6',
      count: 600
    }, {
      key: 'Option5',
      count: 500
    }]
  },
  render: args => {
    action('activeQuery')(queryBuilderRemote.updateActiveQueryField(config.variant_entity.app_id, {
      field: 'chromosome',
      value: ['true']
    }));
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(D=(F=h.parameters)==null?void 0:F.docs)==null?void 0:D.source}}};const rr=["Default","DataAppliedToQueryBuilder"];export{h as DataAppliedToQueryBuilder,x as Default,rr as __namedExportsOrder,er as default};
