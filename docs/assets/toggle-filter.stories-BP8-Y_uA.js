import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as Z}from"./index-B-lxVbXh.js";import{q as b,M as ee}from"./query-builder-remote-Dylwn0Sg.js";import{r as i}from"./index-DUAV1Q2A.js";import{B as re}from"./button-CxxI4gy-.js";import{L as oe}from"./label-B8_SsO4Y.js";import{u as te,c as D,P as j,d as T,b as _}from"./index-CpwtQhPK.js";import{g as O,u as ae,h as se,I as ie,i as ne}from"./dropdown-menu-B4A7Rs1f.js";import{u as ce}from"./index-D74gQ3ji.js";import{u as de}from"./index-DeoL25kd.js";import{P as le}from"./check-CSglOr1T.js";import{c as q}from"./utils-BNf5BS2b.js";import{u as ue,C as pe}from"./applications-config-DDwFTzON.js";import"./v4-CtRu48qb.js";import"./api-DIydnFvJ.js";import"./ActionButton-DnR3bAYu.js";import"./button.variants-DG8R81Cn.js";import"./index-C66Dxnp2.js";import"./createLucideIcon-BJ1WAg3L.js";import"./IconButton-C7j2XGxo.js";import"./index-CSO_qfi8.js";import"./index-CqVsPxxY.js";import"./Combination-GE29BHtn.js";var C="Radio",[me,L]=D(C),[fe,ye]=me(C),M=i.forwardRef((o,n)=>{const{__scopeRadio:a,name:c,checked:t=!1,required:s,disabled:d,value:p="on",onCheck:u,form:f,...v}=o,[r,l]=i.useState(null),m=T(n,R=>l(R)),y=i.useRef(!1),g=r?f||!!r.closest("form"):!0;return e.jsxs(fe,{scope:a,checked:t,disabled:d,children:[e.jsx(j.button,{type:"button",role:"radio","aria-checked":t,"data-state":V(t),"data-disabled":d?"":void 0,disabled:d,value:p,...v,ref:m,onClick:_(o.onClick,R=>{t||u==null||u(),g&&(y.current=R.isPropagationStopped(),y.current||R.stopPropagation())})}),g&&e.jsx(ve,{control:r,bubbles:!y.current,name:c,value:p,checked:t,required:s,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});M.displayName=C;var Q="RadioIndicator",B=i.forwardRef((o,n)=>{const{__scopeRadio:a,forceMount:c,...t}=o,s=ye(Q,a);return e.jsx(le,{present:c||s.checked,children:e.jsx(j.span,{"data-state":V(s.checked),"data-disabled":s.disabled?"":void 0,...t,ref:n})})});B.displayName=Q;var ve=o=>{const{control:n,checked:a,bubbles:c=!0,...t}=o,s=i.useRef(null),d=de(a),p=ce(n);return i.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==a&&r){const l=new Event("click",{bubbles:c});r.call(u,a),u.dispatchEvent(l)}},[d,a,c]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:a,...t,tabIndex:-1,ref:s,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function V(o){return o?"checked":"unchecked"}var ge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N="RadioGroup",[Re,ze]=D(N,[O,L]),K=O(),U=L(),[xe,he]=Re(N),z=i.forwardRef((o,n)=>{const{__scopeRadioGroup:a,name:c,defaultValue:t,value:s,required:d=!1,disabled:p=!1,orientation:u,dir:f,loop:v=!0,onValueChange:r,...l}=o,m=K(a),y=ae(f),[g,R]=te({prop:s,defaultProp:t,onChange:r});return e.jsx(xe,{scope:a,name:c,required:d,disabled:p,value:g,onValueChange:R,children:e.jsx(se,{asChild:!0,...m,orientation:u,dir:y,loop:v,children:e.jsx(j.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":p?"":void 0,dir:y,...l,ref:n})})})});z.displayName=N;var H="RadioGroupItem",$=i.forwardRef((o,n)=>{const{__scopeRadioGroup:a,disabled:c,...t}=o,s=he(H,a),d=s.disabled||c,p=K(a),u=U(a),f=i.useRef(null),v=T(n,f),r=s.value===t.value,l=i.useRef(!1);return i.useEffect(()=>{const m=g=>{ge.includes(g.key)&&(l.current=!0)},y=()=>l.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),e.jsx(ie,{asChild:!0,...p,focusable:!d,active:r,children:e.jsx(M,{disabled:d,required:s.required,checked:r,...u,...t,name:s.name,ref:v,onCheck:()=>s.onValueChange(t.value),onKeyDown:_(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:_(t.onFocus,()=>{var m;l.current&&((m=f.current)==null||m.click())})})})});$.displayName=H;var ke="RadioGroupIndicator",W=i.forwardRef((o,n)=>{const{__scopeRadioGroup:a,...c}=o,t=U(a);return e.jsx(B,{...t,...c,ref:n})});W.displayName=ke;var X=z,Y=$,be=W;const E=i.forwardRef(({className:o,...n},a)=>e.jsx(X,{className:q("grid gap-2",o),...n,ref:a}));E.displayName=X.displayName;const I=i.forwardRef(({className:o,...n},a)=>e.jsx(Y,{ref:a,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),...n,children:e.jsx(be,{className:"flex items-center justify-center",children:e.jsx(ne,{className:"h-2.5 w-2.5 fill-current text-current"})})}));I.displayName=Y.displayName;E.__docgenInfo={description:"",methods:[]};I.__docgenInfo={description:"",methods:[]};function k({data:o,field:n}){const[a,c]=i.useState(o||[]),[t,s]=i.useState(null),p=ue().variant_entity.app_id;i.useEffect(()=>{let r=b.getActiveQuery(p).content.find(l=>l.content.field===n.key);if(r){let l=r.content.value;l.length>=1&&s(l[0])}else s(null);c(o||[])},[o]);const u=i.useCallback(r=>{r.key!==t&&r.key!==void 0&&(s(r.key||null),b.updateActiveQueryField(p,{field:n.key,value:[...r.key],merge_strategy:ee.OVERRIDE_VALUES}))},[t]),f=i.useCallback(r=>t===r.key,[t]),v=i.useCallback(()=>{s(null)},[t]);return e.jsxs("div",{className:"p-2 w-full max-w-md",children:[e.jsx(E,{children:a.map(r=>e.jsx("div",{className:"space-y-3 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{value:r.key||"",id:r.key,checked:f(r),onClick:()=>{u(r)}}),e.jsx(oe,{htmlFor:r.key,children:r.key})]}),e.jsx("span",{className:"bg-gray-200 px-2 py-1 rounded-md font-mono text-xs",children:r.count})]})},r.key))}),t!==null&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-border"}),e.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:e.jsx(re,{className:"text-gray-600",onClick:v,children:"Clear"})})]})]})}k.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const J={variant_entity:{app_id:"variant_entity_toggle_filter",aggregations:[{key:"chromosome",type:"multiple"},{key:"filter",type:"multiple"},{key:"zygosity",type:"multiple"},{key:"impact_score",type:"multiple"},{key:"variant_class",type:"multiple"},{key:"symbol",type:"multiple"}]}},He={title:"Feature/Query Filters/Toggle Filter",component:k,tags:["autodocs"],args:{data:[],field:{key:"chromosome",type:"boolean"}},decorators:[o=>e.jsx(pe,{config:J,children:e.jsx(o,{})})]},x={args:{data:[{key:"true",count:10030},{key:"false",count:200}]},render:o=>e.jsx("div",{className:"space-y-6",children:e.jsx(k,{...o})})},h={args:{data:[{key:"Option6",count:600},{key:"Option5",count:500}]},render:o=>(Z("activeQuery")(b.updateActiveQueryField(J.variant_entity.app_id,{field:"chromosome",value:["true"]})),e.jsx("div",{className:"space-y-6",children:e.jsx(k,{...o})}))};var S,w,A;x.parameters={...x.parameters,docs:{...(S=x.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'true',
      count: 10030
    }, {
      key: 'false',
      count: 200
    }]
  },
  render: args => {
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(A=(w=x.parameters)==null?void 0:w.docs)==null?void 0:A.source}}};var P,G,F;h.parameters={...h.parameters,docs:{...(P=h.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'Option6',
      count: 600
    }, {
      key: 'Option5',
      count: 500
    }]
  },
  render: args => {
    action('activeQuery')(queryBuilderRemote.updateActiveQueryField(config.variant_entity.app_id, {
      field: 'chromosome',
      value: ['true']
    }));
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(F=(G=h.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};const $e=["Default","DataAppliedToQueryBuilder"];export{h as DataAppliedToQueryBuilder,x as Default,$e as __namedExportsOrder,He as default};
