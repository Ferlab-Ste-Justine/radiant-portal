import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{fn as u}from"./index-BgJgh-x_.js";import{a as oe}from"./index-B-lxVbXh.js";import{w as Wt,x as Jt,n as Yt,B as H,S as le,v as W,q as O}from"./query-builder-remote-CV1kkaXN.js";import{d as D,e as v,C as Re,f as p,h as Xt,i as $t,j as Kt,k as we,l as Gt,m as Zt,o as Ee,n as Le,P as en,a as tn,u as nn,p as ze,Q as rn,b as an,q as Q,g as _}from"./utils-CtktDC6R.js";import{R as x,r as y}from"./index-t5q4d8OJ.js";import{u as Ue,c as on,P as Ve,b as sn,a as ln}from"./index-Bjkhh2p3.js";import{i as un,u as dn,C as cn}from"./dropdown-menu-xf-jiMEf.js";import{c as He,R as mn,T as hn,b as fn}from"./index-BvMVmMSo.js";import{u as yn}from"./index-KhTUl610.js";import{c as R}from"./utils-CytzSlOG.js";import{C as vn}from"./chevron-down-B0uzl_ed.js";import{B as m}from"./button-CbbVWId-.js";import{T as We}from"./trash-DZaBvLz0.js";import{T as j,a as k,b as F}from"./tooltip-BvHXuUN3.js";import{D as ue,a as de,b as ce,c as me,d as he,e as fe}from"./dialog-DVZakI6I.js";import{t as A,n as ye,g as je,a as pn,e as gn,m as ke,b as L,u as Je,s as Ye,F as Xe,c as $e,d as Ke,f as Ge,h as Ze,i as et,z as Y,P as tt,j as M,k as T,l as Cn,o as ne}from"./en-US-BYofGJs_.js";import{I as nt}from"./input-DXdBqDMR.js";import{c as $}from"./createLucideIcon-BOZfVBeY.js";import"./i18n-CJXa5-w1.js";import{S as bn}from"./spinner-BoKAmKqu.js";import{n as xn}from"./number-format-BmdRvOec.js";import{C as Sn}from"./checkbox-Tw_h6IK8.js";import{c as Qn}from"./index-C66Dxnp2.js";import{a as qn}from"./alert-dialog-store-CZoSfA8g.js";import{A as wn}from"./ActionButton-D4jVLNva.js";import"./button.variants-B79LQKoe.js";import{d as Fe}from"./capitalize-DEtw7XLf.js";import{S as jn}from"./switch-Bu6o7BnP.js";import{S as kn,a as Fn,L as In}from"./list-item-with-action-BNY7-C7u.js";import{S as Pn,a as An,c as Dn,d as Nn,e as Bn}from"./select-C340VIr7.js";import{U as _n}from"./user-iqzSZKBv.js";import"./index-yBjzXJbu.js";import"./v4-CtRu48qb.js";import"./api-CU3RBd8i.js";import"./less-than-or-equal-operator-icon-BeMEXZ7b.js";import"./not-in-operator-icon-C8Fl8SMz.js";import"./chevron-left-JBJxu620.js";import"./x-Bt7o6wSZ.js";import"./conditional-wrapper-BBX8pIPQ.js";import"./Combination-CdAak5pT.js";import"./index-BiFLoO8l.js";import"./index-CC5eZYhG.js";import"./index-fNjTmf9T.js";import"./index-CTFHtJli.js";import"./index-V1T-MO6M.js";import"./separator-Bb2s55f8.js";import"./check-1JYhj4AL.js";import"./index-BmfKZQ-K.js";import"./index-w83wLIv_.js";import"./label-FPd8fHBc.js";import"./info-A6rwbVaT.js";import"./iframe-COl4o3pn.js";import"./index-Kp-sCbH1.js";import"./ellipsis-e_tKH1yv.js";import"./pen-DUZAaT1O.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Tn=$("Folder",Mn);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rn=$("RotateCcw",On);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],it=$("Save",En);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zn=$("Star",Ln);function J(t,i){const n=+A(t)-+A(i);return n<0?-1:n>0?1:n}function Un(t,i,n){const[r,a]=ye(n==null?void 0:n.in,t,i),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function Vn(t){return i=>{const r=(t?Math[t]:Math.trunc)(i);return r===0?0:r}}function Hn(t,i){return+A(t)-+A(i)}function Wn(t,i){const n=A(t,i==null?void 0:i.in);return n.setHours(23,59,59,999),n}function Jn(t,i){const n=A(t,i==null?void 0:i.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Yn(t,i){const n=A(t,i==null?void 0:i.in);return+Wn(n,i)==+Jn(n,i)}function Xn(t,i,n){const[r,a,o]=ye(n==null?void 0:n.in,t,t,i),l=J(a,o),s=Math.abs(Un(a,o));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*s);let d=J(a,o)===-l;Yn(r)&&s===1&&J(r,o)===1&&(d=!1);const h=l*(s-+d);return h===0?0:h}function $n(t,i,n){const r=Hn(t,i)/1e3;return Vn(n==null?void 0:n.roundingMethod)(r)}function Kn(t,i,n){const r=pn(),a=(n==null?void 0:n.locale)??r.locale??gn,o=2520,l=J(t,i);if(isNaN(l))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=ye(n==null?void 0:n.in,...l>0?[i,t]:[t,i]),c=$n(h,d),g=(je(h)-je(d))/1e3,f=Math.round((c-g)/60);let C;if(f<2)return n!=null&&n.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,s):c<10?a.formatDistance("lessThanXSeconds",10,s):c<20?a.formatDistance("lessThanXSeconds",20,s):c<40?a.formatDistance("halfAMinute",0,s):c<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):f===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",f,s);if(f<45)return a.formatDistance("xMinutes",f,s);if(f<90)return a.formatDistance("aboutXHours",1,s);if(f<ke){const b=Math.round(f/60);return a.formatDistance("aboutXHours",b,s)}else{if(f<o)return a.formatDistance("xDays",1,s);if(f<L){const b=Math.round(f/ke);return a.formatDistance("xDays",b,s)}else if(f<L*2)return C=Math.round(f/L),a.formatDistance("aboutXMonths",C,s)}if(C=Xn(h,d),C<12){const b=Math.round(f/L);return a.formatDistance("xMonths",b,s)}else{const b=C%12,w=Math.trunc(C/12);return b<3?a.formatDistance("aboutXYears",w,s):b<9?a.formatDistance("overXYears",w,s):a.formatDistance("almostXYears",w+1,s)}}var q="Accordion",Gn=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ve,Zn,ei]=un(q),[K,Xr]=on(q,[ei,He]),pe=He(),rt=x.forwardRef((t,i)=>{const{type:n,...r}=t,a=r,o=r;return e.jsx(ve.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(ri,{...o,ref:i}):e.jsx(ii,{...a,ref:i})})});rt.displayName=q;var[at,ti]=K(q),[ot,ni]=K(q,{collapsible:!1}),ii=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...l}=t,[s,d]=Ue({prop:n,defaultProp:r??"",onChange:a,caller:q});return e.jsx(at,{scope:t.__scopeAccordion,value:x.useMemo(()=>s?[s]:[],[s]),onItemOpen:d,onItemClose:x.useCallback(()=>o&&d(""),[o,d]),children:e.jsx(ot,{scope:t.__scopeAccordion,collapsible:o,children:e.jsx(st,{...l,ref:i})})})}),ri=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=t,[l,s]=Ue({prop:n,defaultProp:r??[],onChange:a,caller:q}),d=x.useCallback(c=>s((g=[])=>[...g,c]),[s]),h=x.useCallback(c=>s((g=[])=>g.filter(f=>f!==c)),[s]);return e.jsx(at,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:e.jsx(ot,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(st,{...o,ref:i})})})}),[ai,G]=K(q),st=x.forwardRef((t,i)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...l}=t,s=x.useRef(null),d=sn(s,i),h=Zn(n),g=dn(a)==="ltr",f=ln(t.onKeyDown,C=>{var Qe;if(!Gn.includes(C.key))return;const b=C.target,w=h().filter(te=>{var qe;return!((qe=te.ref.current)!=null&&qe.disabled)}),P=w.findIndex(te=>te.ref.current===b),N=w.length;if(P===-1)return;C.preventDefault();let S=P;const B=0,I=N-1,Z=()=>{S=P+1,S>I&&(S=B)},ee=()=>{S=P-1,S<B&&(S=I)};switch(C.key){case"Home":S=B;break;case"End":S=I;break;case"ArrowRight":o==="horizontal"&&(g?Z():ee());break;case"ArrowDown":o==="vertical"&&Z();break;case"ArrowLeft":o==="horizontal"&&(g?ee():Z());break;case"ArrowUp":o==="vertical"&&ee();break}const Ht=S%N;(Qe=w[Ht].ref.current)==null||Qe.focus()});return e.jsx(ai,{scope:n,disabled:r,direction:a,orientation:o,children:e.jsx(ve.Slot,{scope:n,children:e.jsx(Ve.div,{...l,"data-orientation":o,ref:d,onKeyDown:r?void 0:f})})})}),X="AccordionItem",[oi,ge]=K(X),lt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,value:r,...a}=t,o=G(X,n),l=ti(X,n),s=pe(n),d=yn(),h=r&&l.value.includes(r)||!1,c=o.disabled||t.disabled;return e.jsx(oi,{scope:n,open:h,disabled:c,triggerId:d,children:e.jsx(mn,{"data-orientation":o.orientation,"data-state":ft(h),...s,...a,ref:i,disabled:c,open:h,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});lt.displayName=X;var ut="AccordionHeader",dt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=G(q,n),o=ge(ut,n);return e.jsx(Ve.h3,{"data-orientation":a.orientation,"data-state":ft(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:i})});dt.displayName=ut;var se="AccordionTrigger",ct=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=G(q,n),o=ge(se,n),l=ni(se,n),s=pe(n);return e.jsx(ve.ItemSlot,{scope:n,children:e.jsx(hn,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...r,ref:i})})});ct.displayName=se;var mt="AccordionContent",ht=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=G(q,n),o=ge(mt,n),l=pe(n);return e.jsx(fn,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...l,...r,ref:i,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ht.displayName=mt;function ft(t){return t?"open":"closed"}var si=rt,li=lt,ui=dt,yt=ct,vt=ht;const di=si,Ce=y.forwardRef(({className:t,...i},n)=>e.jsx(li,{ref:n,className:R("border-b",t),...i}));Ce.displayName="AccordionItem";const be=y.forwardRef(({className:t,children:i,chevronPlacement:n="left",...r},a)=>e.jsx(ui,{className:"flex justify-between items-center",children:e.jsx(yt,{ref:a,className:R("py-2 transition-all group w-full",t),...r,children:e.jsxs("div",{className:"flex flex-1 items-center",children:[n==="left"&&e.jsx(cn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-90 transition-transform duration-200 mr-2"}),i,n==="right"&&e.jsx(vn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-180 transition-transform duration-200 ml-2"})]})})}));be.displayName=yt.displayName;const xe=y.forwardRef(({className:t,children:i,...n},r)=>e.jsx(vt,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:e.jsx("div",{className:R("pb-2 pt-0",t),children:i})}));xe.displayName=vt.displayName;Ce.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};be.__docgenInfo={description:"",methods:[],props:{chevronPlacement:{required:!1,tsType:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"",defaultValue:{value:"'left'",computed:!1}}}};xe.__docgenInfo={description:"",methods:[]};function pt(){const{query:t}=D(),{getQueryReferenceColor:i}=v(),n=t.isReferencedInActiveQuery()?i(t.index()):null;return e.jsx("div",{className:"w-1 rounded-s-sm bg-muted-foreground group-data-[query-active=true]/query:bg-primary",style:n?{backgroundColor:n}:{}})}pt.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function gt(){const{query:t}=D();return e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>t.duplicate(),children:e.jsx(Re,{})})}gt.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};function Ct(){const{query:t}=D(),i=p();return e.jsxs(Xt,{children:[e.jsx($t,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",children:e.jsx(We,{})})}),e.jsxs(Kt,{side:"left",className:"w-[200px] space-y-3",children:[e.jsx("span",{className:"text-sm",children:i.queryBar.deletePopover.title}),e.jsxs("div",{className:"flex gap-1 justify-end",children:[e.jsx(we,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"outline",children:i.queryBar.deletePopover.cancel})}),e.jsx(we,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"destructive",onClick:()=>t.delete(),children:i.queryBar.deletePopover.ok})})]})]})]})}Ct.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};const ci=Y.object({title:Y.string()});function bt({open:t,onOpenChange:i,query:n}){const[r,a]=y.useState(!1),o=p(),l=Je({resolver:Ye(ci),values:{title:""}}),s=async d=>(a(!0),Promise.resolve(n.saveAsCustomPill(d.title)).then(()=>i(!1)).finally(()=>a(!1)));return e.jsx(ue,{open:t,onOpenChange:i,children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsx(me,{children:o.queryBar.saveDialog.title})}),e.jsx(Xe,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(s),className:"space-y-6",children:[e.jsx($e,{control:l.control,name:"title",render:({field:d})=>e.jsxs(Ke,{children:[e.jsx(Ge,{children:o.queryBar.saveDialog.fields.title.label}),e.jsx(Ze,{children:e.jsx(nt,{placeholder:o.queryBar.saveDialog.fields.title.placeholder,...d})}),e.jsx(et,{})]})}),e.jsx("div",{className:"text-sm",children:o.queryBar.saveDialog.notice}),e.jsxs(he,{children:[e.jsx(fe,{asChild:!0,children:e.jsx(m,{variant:"outline",children:o.queryBar.saveDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",loading:r,children:o.queryBar.saveDialog.ok})]})]})})]})})}bt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function xt(){const{query:t}=D(),i=p(),[n,r]=y.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>r(!0),disabled:t.hasCustomPill(),children:e.jsx(it,{})})}),e.jsx(F,{className:"max-w-[200px]",children:t.hasCustomPill()?i.queryBar.customPill.cannotSaveAsCustomPill:i.queryBar.customPill.createTooltip})]}),e.jsx(bt,{open:n,onOpenChange:r,query:t})]})}xt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function St(){const{customPillConfig:t}=v();return e.jsxs("div",{className:`
      flex items-center p-2 border-r border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground`,onClick:i=>i.stopPropagation(),children:[(t==null?void 0:t.enable)&&e.jsx(xt,{}),e.jsx(gt,{}),e.jsx(Ct,{})]})}St.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function Qt(){const{queryBuilder:t,queryCountIcon:i,fetchQueryCount:n}=v(),{query:r}=D(),a=y.useRef(null),[o,l]=y.useState(0),[s,d]=y.useState(!0);return y.useEffect(()=>{if(t.getRawQueries().find(h=>h.id===r.id)){const h=a.current,c=Wt(r.raw(),t.getRawQueries());(!a.current||!Jt(h,c))&&(a.current=c,d(!0),n(c).then(l).finally(()=>{d(!1)}))}},[n,r.raw(),t.getRawQueries()]),e.jsx("div",{className:"flex items-center gap-1",children:s?e.jsx(bn,{}):e.jsxs(e.Fragment,{children:[i,e.jsx("span",{className:"font-medium",children:xn(o)})]})})}Qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function qt(){const{query:t}=D();return t.isSelectable()?e.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground
      `,children:[e.jsx(Sn,{size:"sm",checked:t.isSelected(),onClick:i=>{i.stopPropagation(),t.toggleSelect(!t.isSelected())}}),e.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};const mi=Qn({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-primary/75 bg-primary/10"],false:["border-muted-foreground/20 bg-muted/35 text-muted-foreground"]}},defaultVariants:{active:!1}});function wt({query:t}){const i=t.isActive(),n=p(),{enableCombine:r}=v(),a=()=>{i||t.setAsActive()};return e.jsx(Gt.Provider,{value:{query:t},children:e.jsxs("div",{"data-query-active":i,className:"flex group/query",onClick:a,children:[e.jsx(pt,{}),r&&e.jsx(qt,{}),e.jsx("div",{className:mi({active:i}),children:e.jsx("div",{className:"flex flex-1 items-center justify-between",children:t.isEmpty()?e.jsx(e.Fragment,{children:n.queryBar.empty}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1",children:Yt(t.raw())&&e.jsx("div",{className:"flex items-center flex-wrap pr-2",children:e.jsx(Zt,{sqon:t.raw()})})}),e.jsx(Qt,{})]})})}),t.isNotEmpty()&&e.jsx(St,{})]})})}wt.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function jt(){const t=p(),{queryBuilder:i}=v(),n=y.useCallback(()=>{qn.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{variant:"destructive",onClick:()=>i.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[i,t]);return i.getQueries().length>1?e.jsx(m,{variant:"ghost",size:"sm",className:"no-underline enabled:hover:no-underline",onClick:n,children:t.toolbar.clearAll}):null}jt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function kt(){const t=p(),{queryBuilder:i,enableCombine:n}=v();return i.canCombine()&&n?e.jsx(wn,{actions:[{label:Fe(t.queryPill.operator.and),onClick:()=>i.combineSelectedQueries(H.And)},{label:Fe(t.queryPill.operator.or),onClick:()=>i.combineSelectedQueries(H.Or)}],onDefaultAction:()=>i.combineSelectedQueries(H.And),size:"xs",color:"primary",children:t.toolbar.combine}):null}kt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function Ft(){const t=p(),{queryBuilder:i}=v();return i.canCombine()?null:e.jsxs(m,{size:"xs",disabled:i.hasEmptyQuery(),onClick:()=>i.createQuery({op:H.And,content:[]}),children:[e.jsx(tt,{}),t.toolbar.newQuery]})}Ft.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function It(){const t=p(),{queryBuilder:i,enableShowHideLabels:n,showLabels:r,toggleLabels:a}=v();return!i.canCombine()&&n?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(jn,{size:"xs",checked:r,onCheckedChange:a})," ",t.toolbar.labels]}):null}It.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function Pt(){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ft,{}),e.jsx(kt,{}),e.jsx(It,{})]}),e.jsx("div",{children:e.jsx(jt,{})})]})}Pt.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function At(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?Ee(i,t):n==null||n.duplicate()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(Re,{})})})}),e.jsx(F,{children:t.savedFilter.duplicateTooltip})]})}At.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Dt(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?Ee(i,t):i.createSavedFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:r,disabled:(n==null?void 0:n.isNew())||!n,children:e.jsx(tt,{})})})}),e.jsx(F,{children:t.savedFilter.newFilter})]})}Dt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Nt(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter(),r=n&&!n.isNew()?!n.isDirty():i.isEmpty(),a=function(){n?n.save(le.Filter):i.saveNewFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:r,className:n!=null&&n.isDirty()?"text-yellow-500":"",onClick:a,children:e.jsx(it,{})})})}),e.jsx(F,{children:i.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:n!=null&&n.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Nt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Bt(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter();return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:()=>Le(n,t),children:e.jsx(We,{})})})}),e.jsx(F,{children:t.savedFilter.deleteTooltip})]})}Bt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function _t(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter(),r=function(){};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isDirty())||(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(kn,{})})})}),e.jsx(F,{children:n!=null&&n.isDirty()||!n?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}_t.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};const hi=Y.object({title:Y.string().min(2,"Min 2 characters").max(50,"Max 50 characters")});function Se({open:t,onOpenChange:i,savedFilter:n}){const r=p(),{queryBuilder:a}=v(),o=Je({resolver:Ye(hi),values:{title:(n==null?void 0:n.raw().title)||""}});function l(s){n?n.save(le.Filter,{title:s.title}):a.saveNewFilter({title:s.title}),i(!1)}return e.jsx(ue,{open:t,onOpenChange:i,children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsx(me,{children:r.savedFilter.editDialog.title})}),e.jsx(Xe,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-8",children:[e.jsx($e,{control:o.control,name:"title",render:({field:s})=>e.jsxs(Ke,{children:[e.jsx(Ge,{children:r.savedFilter.editDialog.fields.title.label}),e.jsx(Ze,{children:e.jsx(nt,{placeholder:r.savedFilter.editDialog.fields.title.placeholder,...s})}),e.jsx(et,{})]})}),e.jsxs(he,{children:[e.jsx(fe,{asChild:!0,children:e.jsx(m,{variant:"outline",children:r.savedFilter.editDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",children:r.savedFilter.editDialog.ok})]})]})})]})})}Se.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to copy the SavedFilter
   * This will only return a new SavedFilter object without calling any side effects
   */
  copy(): ISavedFilter;

  /**
   * Call this function to duplicate the SavedFilter
   * This will update the queryBuilder state with a new SavedFilter
   * and will perform any side effects defined in the queryBuilder coreProps
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    },
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"copy",value:{name:"ISavedFilter",required:!0},description:`Call this function to copy the SavedFilter
This will only return a new SavedFilter object without calling any side effects`},{key:"duplicate",value:{name:"void",required:!0},description:`Call this function to duplicate the SavedFilter
This will update the queryBuilder state with a new SavedFilter
and will perform any side effects defined in the queryBuilder coreProps`},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const fi={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},yi=(t,i,n)=>{let r;const a=fi[t];return typeof a=="string"?r=a:i===1?r=a.one:r=a.other.replace("{{count}}",String(i)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},vi={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},pi=(t,i,n,r)=>vi[t],gi={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Ci={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},bi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},xi={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Si={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Qi=(t,i)=>{const n=Number(t),r=i==null?void 0:i.unit;if(n===0)return"0";const a=["year","week","hour","minute","second"];let o;return n===1?o=r&&a.includes(r)?"ère":"er":o="ème",n+o},qi=["MMM","MMMM"],wi={preprocessor:(t,i)=>t.getDate()===1||!i.some(r=>r.isToken&&qi.includes(r.value))?i:i.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:Qi,era:M({values:gi,defaultWidth:"wide"}),quarter:M({values:Ci,defaultWidth:"wide",argumentCallback:t=>t-1}),month:M({values:bi,defaultWidth:"wide"}),day:M({values:xi,defaultWidth:"wide"}),dayPeriod:M({values:Si,defaultWidth:"wide"})},ji=/^(\d+)(ième|ère|ème|er|e)?/i,ki=/\d+/i,Fi={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Ii={any:[/^av/i,/^ap/i]},Pi={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Ai={any:[/1/i,/2/i,/3/i,/4/i]},Di={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Ni={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bi={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},_i={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Mi={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Ti={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Oi={ordinalNumber:Cn({matchPattern:ji,parsePattern:ki,valueCallback:t=>parseInt(t)}),era:T({matchPatterns:Fi,defaultMatchWidth:"wide",parsePatterns:Ii,defaultParseWidth:"any"}),quarter:T({matchPatterns:Pi,defaultMatchWidth:"wide",parsePatterns:Ai,defaultParseWidth:"any",valueCallback:t=>t+1}),month:T({matchPatterns:Di,defaultMatchWidth:"wide",parsePatterns:Ni,defaultParseWidth:"any"}),day:T({matchPatterns:Bi,defaultMatchWidth:"wide",parsePatterns:_i,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:Mi,defaultMatchWidth:"any",parsePatterns:Ti,defaultParseWidth:"any"})},Ri={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},Ei={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Li={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zi={date:ne({formats:Ri,defaultWidth:"full"}),time:ne({formats:Ei,defaultWidth:"full"}),dateTime:ne({formats:Li,defaultWidth:"full"})},Ui={code:"fr-CA",formatDistance:yi,formatLong:zi,formatRelative:pi,localize:wi,match:Oi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mt({open:t,onOpenChange:i}){const n=p(),{queryBuilder:r}=v(),a=r.getSavedFilters().filter(o=>!o.isNew());return y.useEffect(()=>{a.length===0&&i(!1)},[a]),e.jsx(e.Fragment,{children:e.jsx(ue,{open:t,onOpenChange:i,children:e.jsxs(de,{className:"w-full max-w-[550px]",children:[e.jsx(ce,{children:e.jsx(me,{children:n.savedFilter.manageDialog.title})}),e.jsx(Fn,{bordered:!0,className:"max-h-[250px]",children:a.map(o=>e.jsx(Vi,{savedFilter:o},o.id))}),e.jsx(he,{children:e.jsx(fe,{asChild:!0,children:e.jsx(m,{children:n.savedFilter.manageDialog.close})})})]})})})}const Vi=({savedFilter:t})=>{const i=p(),[n,r]=y.useState(!1),a=y.useCallback(()=>{const o=t.raw();if(!o.updated_date)return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const l=Kn(new Date,new Date(o.updated_date),{locale:Ui});return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",l)},[t.raw()]);return e.jsxs(e.Fragment,{children:[e.jsx(In,{title:t.raw().title,description:a(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>r(!0),onDelete:()=>Le(t,i)},t.id),e.jsx(Se,{open:n,onOpenChange:r,savedFilter:t})]})};Mt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function Tt(){const t=p(),{queryBuilder:i}=v(),n=i.getSavedFilters().filter(c=>!c.isNew()),[r,a]=y.useState(!1),[o,l]=y.useState(!1),s=i.getSelectedSavedFilter(),d=function(){a(!1),l(!0)},h=y.useMemo(()=>new Date,[s==null?void 0:s.id]);return e.jsxs(e.Fragment,{children:[e.jsxs(Pn,{value:s==null?void 0:s.id,onValueChange:c=>{var g;return(g=n.find(f=>f.id===c))==null?void 0:g.select()},open:r,onOpenChange:a,disabled:n.length===0,children:[e.jsxs(j,{open:n.length>0?!1:void 0,children:[e.jsx(k,{asChild:!0,children:e.jsx(An,{className:"w-[135px] h-7",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tn,{size:14})," ",t.savedFilter.myFilters]})})}),e.jsx(F,{children:t.savedFilter.noSavedFilters})]}),e.jsxs(Dn,{children:[n.map(c=>e.jsx(Nn,{value:c.id,children:c.raw().title},c.id)),e.jsx(Bn,{}),e.jsx(m,{size:"sm",variant:"ghost",className:"w-full pl-2 justify-start",onClick:d,children:t.savedFilter.manageFilters})]})]},+h),e.jsx(Mt,{open:o,onOpenChange:l})]})}Tt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Ot({className:t,...i}){return e.jsx("div",{className:R("flex",t),...i,children:e.jsxs("div",{className:"flex gap-4 items-center",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex whitespace-nowrap",children:[e.jsx(Dt,{}),e.jsx(Nt,{}),e.jsx(At,{}),e.jsx(Bt,{}),e.jsx(_t,{})]}),e.jsx(Tt,{})]})})}Ot.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function Rt(){const{queryBuilder:t}=v(),[i,n]=y.useState(!1),r=t.getSelectedSavedFilter();return e.jsxs(e.Fragment,{children:[e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>n(!0),children:e.jsx(en,{})}),e.jsx(Se,{open:i,onOpenChange:n,savedFilter:r})]})}Rt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Et(){const t=p(),{queryBuilder:i}=v(),n=i.getSelectedSavedFilter();return n!=null&&n.isDirty()?e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!n,onClick:()=>n.discardChanges(),children:e.jsx(Rn,{})})}),e.jsx(F,{children:t.savedFilter.discardTooltip})]}):null}Et.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Lt(){const t=p(),{queryBuilder:i,enableFavorite:n}=v(),r=i.getSelectedSavedFilter();if(!n)return null;const a=function(){r?r.save(le.Filter,{favorite:!r.isFavorite()}):i.saveNewFilter({favorite:!0})};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!r,onClick:a,children:e.jsx(zn,{className:r!=null&&r.isFavorite()?"stroke-yellow-500 fill-yellow-500":""})})}),e.jsx(F,{children:r!=null&&r.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Lt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function zt({className:t,...i}){const{queryBuilder:n}=v(),r=n.getSelectedSavedFilter();return e.jsxs("div",{className:R("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...i,children:[e.jsx("div",{className:"text-ellipsis overflow-hidden text-base",children:r?r.raw().title:n.coreProps.savedFilterDefaultTitle}),e.jsxs("div",{className:"flex items-center",onClick:a=>a.stopPropagation(),children:[e.jsx(Rt,{}),e.jsx(Lt,{}),e.jsx(Et,{})]})]})}zt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};function ie(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Ut(t,i){const n={...t},r=i;return ie(t)&&ie(i)&&Object.keys(i).forEach(a=>{ie(r[a])&&a in t?n[a]=Ut(n[a],r[a]):n[a]=r[a]}),n}function E({className:t,enableCombine:i=!0,enableFavorite:n=!1,enableShowHideLabels:r,initialShowHideLabels:a=!0,queryReferenceColors:o=ze,queryCountIcon:l,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g,...f}){const C=tn(f),b=nn(),w=y.useMemo(()=>Ut(b,d||{}),[d,b]),[P,N]=y.useState(a),S=y.useCallback(I=>o[I%o.length],[o]),B=y.useMemo(()=>({queryBuilder:C,enableCombine:i,enableFavorite:n,enableShowHideLabels:r,showLabels:P,toggleLabels:N,queryCountIcon:l,getQueryReferenceColor:S,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g}),[C,i,n,r,P,N,l,S,s,d,h,c,g]);return e.jsx(rn.Provider,{value:w,children:e.jsx(an.Provider,{value:B,children:e.jsx(di,{type:"multiple",defaultValue:["query-builder"],className:t,children:e.jsxs(Ce,{value:"query-builder",className:"border-none",children:[e.jsxs(be,{asChild:!0,className:"border py-0 px-5 rounded-t data-[state=closed]:rounded hover:cursor-pointer",children:[e.jsx(zt,{className:"py-4 pr-4"}),e.jsx(Ot,{className:"ml-auto py-4"})]}),e.jsxs(xe,{className:"border-l border-b border-r py-4 px-5 space-y-4 rounded-b",children:[e.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-y-scroll",children:C.getQueries().map(I=>e.jsx(wt,{query:I},I.id))}),e.jsx(Pt,{})]})]})})})})}E.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1}}};const Hi={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:'You will find your saved queries in the sidebar under the "Queries" heading.',cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},$r={title:"Feature/Query Builder",component:E,args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:ze,resolveSyntheticSqon:u(),dictionary:Hi}},re="query-builder-id",Wi="query-builder-custom-pill-id",ae="query-builder-query-pill-filter-id";function Vt({queryBuilderId:t}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Testing Tools:"}),e.jsxs("div",{className:"flex border p-4 gap-2",children:[e.jsx(m,{color:"primary",size:"sm",onClick:()=>O.addQuery(t,Q()),children:"Add query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const z={args:{id:re,initialState:{...O.getLocalQueryBuilderState(re),savedFilters:[{id:W(),title:"Olivier's Filter",favorite:!1,queries:[Q(),Q(),Q()]},{id:W(),title:"Francis' Filter",favorite:!1,queries:[Q(),Q()]},{id:W(),title:"Luc's Filter",favorite:!1,queries:[Q(),Q(),Q()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:u(),onCustomPillUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u()},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Vt,{queryBuilderId:re})]})},Ie=W(),U={args:{id:Wi,queryCountIcon:e.jsx(_n,{size:14}),initialState:{activeQueryId:Ie,queries:[Q(Ie),Q()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:t=>(oe("onCustomPillSave")(t),new Promise(i=>setTimeout(()=>i(_(t)),750))),onCustomPillUpdate:t=>(oe("onCustomPillUpdate")(t),new Promise(i=>setTimeout(()=>i(_(t)),750))),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(_()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([_(),_()]),750))}},render:t=>e.jsx(E,{...t})},V={args:{id:ae,initialState:{...O.getLocalQueryBuilderState(ae),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(oe("onFacetClick")(t),e.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Vt,{queryBuilderId:ae})]})};var Pe,Ae,De;z.parameters={...z.parameters,docs:{...(Pe=z.parameters)==null?void 0:Pe.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(De=(Ae=z.parameters)==null?void 0:Ae.docs)==null?void 0:De.source}}};var Ne,Be,_e;U.parameters={...U.parameters,docs:{...(Ne=U.parameters)==null?void 0:Ne.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    queryCountIcon: <UserIcon size={14} />,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action('onCustomPillSave')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action('onCustomPillUpdate')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: 'qb-custom-pill-edit-id',
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(_e=(Be=U.parameters)==null?void 0:Be.docs)==null?void 0:_e.source}}};var Me,Te,Oe;V.parameters={...V.parameters,docs:{...(Me=V.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action('onFacetClick')(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Oe=(Te=V.parameters)==null?void 0:Te.docs)==null?void 0:Oe.source}}};const Kr=["Default","CustomPill","QueryPillFilter"];export{U as CustomPill,z as Default,V as QueryPillFilter,Kr as __namedExportsOrder,$r as default};
