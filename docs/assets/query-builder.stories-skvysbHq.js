var Rv=Object.defineProperty;var Nv=(t,e,r)=>e in t?Rv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var mr=(t,e,r)=>Nv(t,typeof e!="symbol"?e+"":e,r);import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{f as te}from"./index-DhvbgntC.js";import{a as Ao}from"./index-B-lxVbXh.js";import{c as an,g as $t,r as m,R as G}from"./index-DUAV1Q2A.js";import{c as Pn,u as Xt,P as ge,b as fe,d as Ee,e as vt,S as $o,g as Ev}from"./index-aKoabQ1X.js";import{d as Df,u as Ff,c as Tn,R as Qf,a as Zo,C as Mf,b as Vf,e as Ov,A as Dv}from"./ActionButton-BmAlnlEQ.js";import{P as Wo}from"./index-5epIGEb9.js";import{u as sr,P as Lf,h as Bf,R as Uf,a as $f,F as Zf,D as Wf}from"./Combination-BCojpehm.js";import{c as ue}from"./utils-BNf5BS2b.js";import{c as at}from"./createLucideIcon-DirO1-NP.js";import{I as Oe}from"./IconButton-BeZnUagB.js";import"./button.variants-Dx1t5vGh.js";import{B as Ie}from"./button-DZBFngSS.js";import{T as Hf,C as Fv,S as Qv,a as Mv,L as Vv}from"./list-item-with-action-DKG6F1FN.js";import{b as st,c as ot,T as lt,a as jn,V as Lv}from"./tooltip-sOb8UpBX.js";import{D as qn,a as kn,b as Rn,c as Nn,d as En,e as On,X as Bv}from"./dialog-Ba-0DRJa.js";import{c as zf}from"./index-C66Dxnp2.js";import{I as Ho}from"./input-B2gjFgpo.js";import{S as Uv}from"./spinner-CbKTttg0.js";import{C as $v}from"./checkbox-D3jbBsp3.js";import{a as Zv,N as Wv,E as zo,c as Hv,L as zv,b as Gv,G as Kv}from"./not-in-operator-icon-Bim0Jqau.js";import{a as or,A as Yv}from"./alert-dialog-provider-DuN39tiT.js";import{S as Jv}from"./switch-Dibfz1el.js";import{r as Gf}from"./index-VDvXe9nZ.js";import{u as Xv}from"./index-DeoL25kd.js";import{C as ey}from"./check-D0WsHlur.js";import"./v4-CtRu48qb.js";import"./index-BXOWtdLR.js";import"./index-BiAv9jRD.js";import"./index-CqVsPxxY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=at("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=at("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=at("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=at("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=at("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var qe=(t=>(t[">"]=">",t["<"]="<",t.between="between",t[">="]=">=",t["<="]="<=",t.in="in",t["not-in"]="not-in",t["some-not-in"]="some-not-in",t.all="all",t))(qe||{}),Io=(t=>(t[">"]=">",t["<"]="<",t.between="between",t[">="]=">=",t["<="]="<=",t.in="in",t))(Io||{}),Pr=(t=>(t.in="in",t["not-in"]="not-in",t.all="all",t["some-not-in"]="some-not-in",t))(Pr||{}),De=(t=>(t.and="and",t.or="or",t.not="not",t))(De||{});const sy="set_id:";var er=(t=>(t.DEFAULT="OVERRIDE_VALUES",t.OVERRIDE_VALUES="OVERRIDE_VALUES",t.APPEND_VALUES="APPEND_VALUES",t))(er||{}),Dn=(t=>(t.DEFAULT="OVERRIDE_OPERATOR",t.OVERRIDE_OPERATOR="OVERRIDE_OPERATOR",t.KEEP_OPERATOR="KEEP_OPERATOR",t))(Dn||{});const we=[];for(let t=0;t<256;++t)we.push((t+256).toString(16).slice(1));function oy(t,e=0){return(we[t[e+0]]+we[t[e+1]]+we[t[e+2]]+we[t[e+3]]+"-"+we[t[e+4]]+we[t[e+5]]+"-"+we[t[e+6]]+we[t[e+7]]+"-"+we[t[e+8]]+we[t[e+9]]+"-"+we[t[e+10]]+we[t[e+11]]+we[t[e+12]]+we[t[e+13]]+we[t[e+14]]+we[t[e+15]]).toLowerCase()}let li;const ly=new Uint8Array(16);function uy(){if(!li){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");li=crypto.getRandomValues.bind(crypto)}return li(ly)}const cy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hl={randomUUID:cy};function be(t,e,r){var i;if(Hl.randomUUID&&!t)return Hl.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??uy();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,oy(n)}var ui,zl;function Fn(){if(zl)return ui;zl=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return ui=e,ui}var ci,Gl;function Xf(){if(Gl)return ci;Gl=1;function t(e,r){return function(n){return e(r(n))}}return ci=t,ci}var di,Kl;function dy(){if(Kl)return di;Kl=1;var t=Xf(),e=t(Object.keys,Object);return di=e,di}var fi,Yl;function eh(){if(Yl)return fi;Yl=1;var t=Fn(),e=dy(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return fi=i,fi}var hi,Jl;function th(){if(Jl)return hi;Jl=1;var t=typeof an=="object"&&an&&an.Object===Object&&an;return hi=t,hi}var pi,Xl;function ut(){if(Xl)return pi;Xl=1;var t=th(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return pi=r,pi}var mi,eu;function lr(){if(eu)return mi;eu=1;var t=ut(),e=t.Symbol;return mi=e,mi}var vi,tu;function fy(){if(tu)return vi;tu=1;var t=lr(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),u=s[i];try{s[i]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(o?s[i]=u:delete s[i]),d}return vi=a,vi}var yi,ru;function hy(){if(ru)return yi;ru=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return yi=r,yi}var gi,nu;function ur(){if(nu)return gi;nu=1;var t=lr(),e=fy(),r=hy(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return gi=s,gi}var _i,iu;function gt(){if(iu)return _i;iu=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return _i=t,_i}var bi,au;function Yo(){if(au)return bi;au=1;var t=ur(),e=gt(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==i||u==r||u==a}return bi=s,bi}var xi,su;function py(){if(su)return xi;su=1;var t=ut(),e=t["__core-js_shared__"];return xi=e,xi}var Ci,ou;function my(){if(ou)return Ci;ou=1;var t=py(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Ci=r,Ci}var Si,lu;function rh(){if(lu)return Si;lu=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Si=r,Si}var wi,uu;function vy(){if(uu)return wi;uu=1;var t=Yo(),e=my(),r=gt(),n=rh(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,c=o.hasOwnProperty,d=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!r(y)||e(y))return!1;var b=t(y)?d:a;return b.test(n(y))}return wi=h,wi}var Ai,cu;function yy(){if(cu)return Ai;cu=1;function t(e,r){return e==null?void 0:e[r]}return Ai=t,Ai}var Ii,du;function Zt(){if(du)return Ii;du=1;var t=vy(),e=yy();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Ii=r,Ii}var Pi,fu;function gy(){if(fu)return Pi;fu=1;var t=Zt(),e=ut(),r=t(e,"DataView");return Pi=r,Pi}var Ti,hu;function Jo(){if(hu)return Ti;hu=1;var t=Zt(),e=ut(),r=t(e,"Map");return Ti=r,Ti}var ji,pu;function _y(){if(pu)return ji;pu=1;var t=Zt(),e=ut(),r=t(e,"Promise");return ji=r,ji}var qi,mu;function nh(){if(mu)return qi;mu=1;var t=Zt(),e=ut(),r=t(e,"Set");return qi=r,qi}var ki,vu;function by(){if(vu)return ki;vu=1;var t=Zt(),e=ut(),r=t(e,"WeakMap");return ki=r,ki}var Ri,yu;function Br(){if(yu)return Ri;yu=1;var t=gy(),e=Jo(),r=_y(),n=nh(),i=by(),a=ur(),s=rh(),o="[object Map]",u="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",y="[object DataView]",b=s(t),S=s(e),g=s(r),x=s(n),I=s(i),p=a;return(t&&p(new t(new ArrayBuffer(1)))!=y||e&&p(new e)!=o||r&&p(r.resolve())!=c||n&&p(new n)!=d||i&&p(new i)!=h)&&(p=function(A){var k=a(A),E=k==u?A.constructor:void 0,D=E?s(E):"";if(D)switch(D){case b:return y;case S:return o;case g:return c;case x:return d;case I:return h}return k}),Ri=p,Ri}var Ni,gu;function _t(){if(gu)return Ni;gu=1;function t(e){return e!=null&&typeof e=="object"}return Ni=t,Ni}var Ei,_u;function xy(){if(_u)return Ei;_u=1;var t=ur(),e=_t(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Ei=n,Ei}var Oi,bu;function Qn(){if(bu)return Oi;bu=1;var t=xy(),e=_t(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Oi=a,Oi}var Di,xu;function Rt(){if(xu)return Di;xu=1;var t=Array.isArray;return Di=t,Di}var Fi,Cu;function ih(){if(Cu)return Fi;Cu=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Fi=e,Fi}var Qi,Su;function Ur(){if(Su)return Qi;Su=1;var t=Yo(),e=ih();function r(n){return n!=null&&e(n.length)&&!t(n)}return Qi=r,Qi}var _r={exports:{}},Mi,wu;function Cy(){if(wu)return Mi;wu=1;function t(){return!1}return Mi=t,Mi}_r.exports;var Au;function $r(){return Au||(Au=1,function(t,e){var r=ut(),n=Cy(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||n;t.exports=c}(_r,_r.exports)),_r.exports}var Vi,Iu;function Sy(){if(Iu)return Vi;Iu=1;var t=ur(),e=ih(),r=_t(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",y="[object RegExp]",b="[object Set]",S="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",p="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",Q={};Q[p]=Q[A]=Q[k]=Q[E]=Q[D]=Q[R]=Q[V]=Q[U]=Q[B]=!0,Q[n]=Q[i]=Q[x]=Q[a]=Q[I]=Q[s]=Q[o]=Q[u]=Q[c]=Q[d]=Q[h]=Q[y]=Q[b]=Q[S]=Q[g]=!1;function O(M){return r(M)&&e(M.length)&&!!Q[t(M)]}return Vi=O,Vi}var Li,Pu;function Xo(){if(Pu)return Li;Pu=1;function t(e){return function(r){return e(r)}}return Li=t,Li}var br={exports:{}};br.exports;var Tu;function el(){return Tu||(Tu=1,function(t,e){var r=th(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(br,br.exports)),br.exports}var Bi,ju;function Mn(){if(ju)return Bi;ju=1;var t=Sy(),e=Xo(),r=el(),n=r&&r.isTypedArray,i=n?e(n):t;return Bi=i,Bi}var Ui,qu;function wy(){if(qu)return Ui;qu=1;var t=eh(),e=Br(),r=Qn(),n=Rt(),i=Ur(),a=$r(),s=Fn(),o=Mn(),u="[object Map]",c="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function y(b){if(b==null)return!0;if(i(b)&&(n(b)||typeof b=="string"||typeof b.splice=="function"||a(b)||o(b)||r(b)))return!b.length;var S=e(b);if(S==u||S==c)return!b.size;if(s(b))return!t(b).length;for(var g in b)if(h.call(b,g))return!1;return!0}return Ui=y,Ui}var Ay=wy();const wt=$t(Ay);var $i,ku;function Iy(){if(ku)return $i;ku=1;function t(){this.__data__=[],this.size=0}return $i=t,$i}var Zi,Ru;function Zr(){if(Ru)return Zi;Ru=1;function t(e,r){return e===r||e!==e&&r!==r}return Zi=t,Zi}var Wi,Nu;function Vn(){if(Nu)return Wi;Nu=1;var t=Zr();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Wi=e,Wi}var Hi,Eu;function Py(){if(Eu)return Hi;Eu=1;var t=Vn(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Hi=n,Hi}var zi,Ou;function Ty(){if(Ou)return zi;Ou=1;var t=Vn();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return zi=e,zi}var Gi,Du;function jy(){if(Du)return Gi;Du=1;var t=Vn();function e(r){return t(this.__data__,r)>-1}return Gi=e,Gi}var Ki,Fu;function qy(){if(Fu)return Ki;Fu=1;var t=Vn();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Ki=e,Ki}var Yi,Qu;function Ln(){if(Qu)return Yi;Qu=1;var t=Iy(),e=Py(),r=Ty(),n=jy(),i=qy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Yi=a,Yi}var Ji,Mu;function ky(){if(Mu)return Ji;Mu=1;var t=Ln();function e(){this.__data__=new t,this.size=0}return Ji=e,Ji}var Xi,Vu;function Ry(){if(Vu)return Xi;Vu=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Xi=t,Xi}var ea,Lu;function Ny(){if(Lu)return ea;Lu=1;function t(e){return this.__data__.get(e)}return ea=t,ea}var ta,Bu;function Ey(){if(Bu)return ta;Bu=1;function t(e){return this.__data__.has(e)}return ta=t,ta}var ra,Uu;function Bn(){if(Uu)return ra;Uu=1;var t=Zt(),e=t(Object,"create");return ra=e,ra}var na,$u;function Oy(){if($u)return na;$u=1;var t=Bn();function e(){this.__data__=t?t(null):{},this.size=0}return na=e,na}var ia,Zu;function Dy(){if(Zu)return ia;Zu=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ia=t,ia}var aa,Wu;function Fy(){if(Wu)return aa;Wu=1;var t=Bn(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return aa=i,aa}var sa,Hu;function Qy(){if(Hu)return sa;Hu=1;var t=Bn(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return sa=n,sa}var oa,zu;function My(){if(zu)return oa;zu=1;var t=Bn(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return oa=r,oa}var la,Gu;function Vy(){if(Gu)return la;Gu=1;var t=Oy(),e=Dy(),r=Fy(),n=Qy(),i=My();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,la=a,la}var ua,Ku;function Ly(){if(Ku)return ua;Ku=1;var t=Vy(),e=Ln(),r=Jo();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ua=n,ua}var ca,Yu;function By(){if(Yu)return ca;Yu=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ca=t,ca}var da,Ju;function Un(){if(Ju)return da;Ju=1;var t=By();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return da=e,da}var fa,Xu;function Uy(){if(Xu)return fa;Xu=1;var t=Un();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return fa=e,fa}var ha,ec;function $y(){if(ec)return ha;ec=1;var t=Un();function e(r){return t(this,r).get(r)}return ha=e,ha}var pa,tc;function Zy(){if(tc)return pa;tc=1;var t=Un();function e(r){return t(this,r).has(r)}return pa=e,pa}var ma,rc;function Wy(){if(rc)return ma;rc=1;var t=Un();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return ma=e,ma}var va,nc;function ah(){if(nc)return va;nc=1;var t=Ly(),e=Uy(),r=$y(),n=Zy(),i=Wy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,va=a,va}var ya,ic;function Hy(){if(ic)return ya;ic=1;var t=Ln(),e=Jo(),r=ah(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(a,s),this.size=o.size,this}return ya=i,ya}var ga,ac;function tl(){if(ac)return ga;ac=1;var t=Ln(),e=ky(),r=Ry(),n=Ny(),i=Ey(),a=Hy();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ga=s,ga}var _a,sc;function zy(){if(sc)return _a;sc=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return _a=t,_a}var ba,oc;function sh(){if(oc)return ba;oc=1;var t=Zt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return ba=e,ba}var xa,lc;function rl(){if(lc)return xa;lc=1;var t=sh();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return xa=e,xa}var Ca,uc;function oh(){if(uc)return Ca;uc=1;var t=rl(),e=Zr(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var u=a[s];(!(n.call(a,s)&&e(u,o))||o===void 0&&!(s in a))&&t(a,s,o)}return Ca=i,Ca}var Sa,cc;function Wr(){if(cc)return Sa;cc=1;var t=oh(),e=rl();function r(n,i,a,s){var o=!a;a||(a={});for(var u=-1,c=i.length;++u<c;){var d=i[u],h=s?s(a[d],n[d],d,a,n):void 0;h===void 0&&(h=n[d]),o?e(a,d,h):t(a,d,h)}return a}return Sa=r,Sa}var wa,dc;function Gy(){if(dc)return wa;dc=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return wa=t,wa}var Aa,fc;function lh(){if(fc)return Aa;fc=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Aa=r,Aa}var Ia,hc;function uh(){if(hc)return Ia;hc=1;var t=Gy(),e=Qn(),r=Rt(),n=$r(),i=lh(),a=Mn(),s=Object.prototype,o=s.hasOwnProperty;function u(c,d){var h=r(c),y=!h&&e(c),b=!h&&!y&&n(c),S=!h&&!y&&!b&&a(c),g=h||y||b||S,x=g?t(c.length,String):[],I=x.length;for(var p in c)(d||o.call(c,p))&&!(g&&(p=="length"||b&&(p=="offset"||p=="parent")||S&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||i(p,I)))&&x.push(p);return x}return Ia=u,Ia}var Pa,pc;function nl(){if(pc)return Pa;pc=1;var t=uh(),e=eh(),r=Ur();function n(i){return r(i)?t(i):e(i)}return Pa=n,Pa}var Ta,mc;function Ky(){if(mc)return Ta;mc=1;var t=Wr(),e=nl();function r(n,i){return n&&t(i,e(i),n)}return Ta=r,Ta}var ja,vc;function Yy(){if(vc)return ja;vc=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return ja=t,ja}var qa,yc;function Jy(){if(yc)return qa;yc=1;var t=gt(),e=Fn(),r=Yy(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),u=[];for(var c in s)c=="constructor"&&(o||!i.call(s,c))||u.push(c);return u}return qa=a,qa}var ka,gc;function Hr(){if(gc)return ka;gc=1;var t=uh(),e=Jy(),r=Ur();function n(i){return r(i)?t(i,!0):e(i)}return ka=n,ka}var Ra,_c;function Xy(){if(_c)return Ra;_c=1;var t=Wr(),e=Hr();function r(n,i){return n&&t(i,e(i),n)}return Ra=r,Ra}var xr={exports:{}};xr.exports;var bc;function ch(){return bc||(bc=1,function(t,e){var r=ut(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(c,d){if(d)return c.slice();var h=c.length,y=o?o(h):new c.constructor(h);return c.copy(y),y}t.exports=u}(xr,xr.exports)),xr.exports}var Na,xc;function dh(){if(xc)return Na;xc=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Na=t,Na}var Ea,Cc;function eg(){if(Cc)return Ea;Cc=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return Ea=t,Ea}var Oa,Sc;function fh(){if(Sc)return Oa;Sc=1;function t(){return[]}return Oa=t,Oa}var Da,wc;function il(){if(wc)return Da;wc=1;var t=eg(),e=fh(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return Da=a,Da}var Fa,Ac;function tg(){if(Ac)return Fa;Ac=1;var t=Wr(),e=il();function r(n,i){return t(n,e(n),i)}return Fa=r,Fa}var Qa,Ic;function al(){if(Ic)return Qa;Ic=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Qa=t,Qa}var Ma,Pc;function sl(){if(Pc)return Ma;Pc=1;var t=Xf(),e=t(Object.getPrototypeOf,Object);return Ma=e,Ma}var Va,Tc;function hh(){if(Tc)return Va;Tc=1;var t=al(),e=sl(),r=il(),n=fh(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return Va=a,Va}var La,jc;function rg(){if(jc)return La;jc=1;var t=Wr(),e=hh();function r(n,i){return t(n,e(n),i)}return La=r,La}var Ba,qc;function ph(){if(qc)return Ba;qc=1;var t=al(),e=Rt();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return Ba=r,Ba}var Ua,kc;function mh(){if(kc)return Ua;kc=1;var t=ph(),e=il(),r=nl();function n(i){return t(i,r,e)}return Ua=n,Ua}var $a,Rc;function ng(){if(Rc)return $a;Rc=1;var t=ph(),e=hh(),r=Hr();function n(i){return t(i,r,e)}return $a=n,$a}var Za,Nc;function ig(){if(Nc)return Za;Nc=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Za=r,Za}var Wa,Ec;function vh(){if(Ec)return Wa;Ec=1;var t=ut(),e=t.Uint8Array;return Wa=e,Wa}var Ha,Oc;function ol(){if(Oc)return Ha;Oc=1;var t=vh();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Ha=e,Ha}var za,Dc;function ag(){if(Dc)return za;Dc=1;var t=ol();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return za=e,za}var Ga,Fc;function sg(){if(Fc)return Ga;Fc=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return Ga=e,Ga}var Ka,Qc;function og(){if(Qc)return Ka;Qc=1;var t=lr(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Ka=n,Ka}var Ya,Mc;function yh(){if(Mc)return Ya;Mc=1;var t=ol();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Ya=e,Ya}var Ja,Vc;function lg(){if(Vc)return Ja;Vc=1;var t=ol(),e=ag(),r=sg(),n=og(),i=yh(),a="[object Boolean]",s="[object Date]",o="[object Map]",u="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",p="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function V(U,B,Q){var O=U.constructor;switch(B){case b:return t(U);case a:case s:return new O(+U);case S:return e(U,Q);case g:case x:case I:case p:case A:case k:case E:case D:case R:return i(U,Q);case o:return new O;case u:case h:return new O(U);case c:return r(U);case d:return new O;case y:return n(U)}}return Ja=V,Ja}var Xa,Lc;function ug(){if(Lc)return Xa;Lc=1;var t=gt(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return Xa=r,Xa}var es,Bc;function gh(){if(Bc)return es;Bc=1;var t=ug(),e=sl(),r=Fn();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return es=n,es}var ts,Uc;function cg(){if(Uc)return ts;Uc=1;var t=Br(),e=_t(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return ts=n,ts}var rs,$c;function dg(){if($c)return rs;$c=1;var t=cg(),e=Xo(),r=el(),n=r&&r.isMap,i=n?e(n):t;return rs=i,rs}var ns,Zc;function fg(){if(Zc)return ns;Zc=1;var t=Br(),e=_t(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return ns=n,ns}var is,Wc;function hg(){if(Wc)return is;Wc=1;var t=fg(),e=Xo(),r=el(),n=r&&r.isSet,i=n?e(n):t;return is=i,is}var as,Hc;function pg(){if(Hc)return as;Hc=1;var t=tl(),e=zy(),r=oh(),n=Ky(),i=Xy(),a=ch(),s=dh(),o=tg(),u=rg(),c=mh(),d=ng(),h=Br(),y=ig(),b=lg(),S=gh(),g=Rt(),x=$r(),I=dg(),p=gt(),A=hg(),k=nl(),E=Hr(),D=1,R=2,V=4,U="[object Arguments]",B="[object Array]",Q="[object Boolean]",O="[object Date]",M="[object Error]",Y="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",ce="[object Number]",Ce="[object Object]",Ae="[object RegExp]",Ue="[object Set]",ct="[object String]",xt="[object Symbol]",Dt="[object WeakMap]",$e="[object ArrayBuffer]",Ct="[object DataView]",Ze="[object Float32Array]",W="[object Float64Array]",oe="[object Int8Array]",Se="[object Int16Array]",le="[object Int32Array]",ie="[object Uint8Array]",se="[object Uint8ClampedArray]",Qe="[object Uint16Array]",Me="[object Uint32Array]",re={};re[U]=re[B]=re[$e]=re[Ct]=re[Q]=re[O]=re[Ze]=re[W]=re[oe]=re[Se]=re[le]=re[ne]=re[ce]=re[Ce]=re[Ae]=re[Ue]=re[ct]=re[xt]=re[ie]=re[se]=re[Qe]=re[Me]=!0,re[M]=re[Y]=re[Dt]=!1;function dt(J,f,v,_,j,P){var C,L=f&D,H=f&R,_e=f&V;if(v&&(C=j?v(J,_,j,P):v(J)),C!==void 0)return C;if(!p(J))return J;var me=g(J);if(me){if(C=y(J),!L)return s(J,C)}else{var Te=h(J),rn=Te==Y||Te==ee;if(x(J))return a(J,L);if(Te==Ce||Te==U||rn&&!j){if(C=H||rn?{}:S(J),!L)return H?u(J,i(C,J)):o(J,n(C,J))}else{if(!re[Te])return j?J:{};C=b(J,Te,L)}}P||(P=new t);var Ht=P.get(J);if(Ht)return Ht;P.set(J,C),A(J)?J.forEach(function(We){C.add(dt(We,f,v,We,J,P))}):I(J)&&J.forEach(function(We,ft){C.set(ft,dt(We,f,v,ft,J,P))});var pr=_e?H?d:c:H?E:k,nn=me?void 0:pr(J);return e(nn||J,function(We,ft){nn&&(ft=We,We=J[ft]),r(C,ft,dt(We,f,v,ft,J,P))}),C}return as=dt,as}var ss,zc;function mg(){if(zc)return ss;zc=1;var t=pg(),e=1,r=4;function n(i){return t(i,e|r)}return ss=n,ss}var vg=mg();const It=$t(vg);var os,Gc;function _h(){if(Gc)return os;Gc=1;var t=rl(),e=Zr();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return os=r,os}var ls,Kc;function yg(){if(Kc)return ls;Kc=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),u=o.length;u--;){var c=o[e?u:++a];if(n(s[c],c,s)===!1)break}return r}}return ls=t,ls}var us,Yc;function gg(){if(Yc)return us;Yc=1;var t=yg(),e=t();return us=e,us}var cs,Jc;function bh(){if(Jc)return cs;Jc=1;var t=Ur(),e=_t();function r(n){return e(n)&&t(n)}return cs=r,cs}var ds,Xc;function _g(){if(Xc)return ds;Xc=1;var t=ur(),e=sl(),r=_t(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,u=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var h=e(d);if(h===null)return!0;var y=o.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==u}return ds=c,ds}var fs,ed;function xh(){if(ed)return fs;ed=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return fs=t,fs}var hs,td;function bg(){if(td)return hs;td=1;var t=Wr(),e=Hr();function r(n){return t(n,e(n))}return hs=r,hs}var ps,rd;function xg(){if(rd)return ps;rd=1;var t=_h(),e=ch(),r=yh(),n=dh(),i=gh(),a=Qn(),s=Rt(),o=bh(),u=$r(),c=Yo(),d=gt(),h=_g(),y=Mn(),b=xh(),S=bg();function g(x,I,p,A,k,E,D){var R=b(x,p),V=b(I,p),U=D.get(V);if(U){t(x,p,U);return}var B=E?E(R,V,p+"",x,I,D):void 0,Q=B===void 0;if(Q){var O=s(V),M=!O&&u(V),Y=!O&&!M&&y(V);B=V,O||M||Y?s(R)?B=R:o(R)?B=n(R):M?(Q=!1,B=e(V,!0)):Y?(Q=!1,B=r(V,!0)):B=[]:h(V)||a(V)?(B=R,a(R)?B=S(R):(!d(R)||c(R))&&(B=i(V))):Q=!1}Q&&(D.set(V,B),k(B,V,A,E,D),D.delete(V)),t(x,p,B)}return ps=g,ps}var ms,nd;function Cg(){if(nd)return ms;nd=1;var t=tl(),e=_h(),r=gg(),n=xg(),i=gt(),a=Hr(),s=xh();function o(u,c,d,h,y){u!==c&&r(c,function(b,S){if(y||(y=new t),i(b))n(u,c,S,d,o,h,y);else{var g=h?h(s(u,S),b,S+"",u,c,y):void 0;g===void 0&&(g=b),e(u,S,g)}},a)}return ms=o,ms}var vs,id;function Ch(){if(id)return vs;id=1;function t(e){return e}return vs=t,vs}var ys,ad;function Sg(){if(ad)return ys;ad=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return ys=t,ys}var gs,sd;function wg(){if(sd)return gs;sd=1;var t=Sg(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,u=e(s.length-i,0),c=Array(u);++o<u;)c[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(c),t(n,this,d)}}return gs=r,gs}var _s,od;function Ag(){if(od)return _s;od=1;function t(e){return function(){return e}}return _s=t,_s}var bs,ld;function Ig(){if(ld)return bs;ld=1;var t=Ag(),e=sh(),r=Ch(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return bs=n,bs}var xs,ud;function Pg(){if(ud)return xs;ud=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),u=e-(o-s);if(s=o,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return xs=n,xs}var Cs,cd;function Tg(){if(cd)return Cs;cd=1;var t=Ig(),e=Pg(),r=e(t);return Cs=r,Cs}var Ss,dd;function Sh(){if(dd)return Ss;dd=1;var t=Ch(),e=wg(),r=Tg();function n(i,a){return r(e(i,a,t),i+"")}return Ss=n,Ss}var ws,fd;function jg(){if(fd)return ws;fd=1;var t=Zr(),e=Ur(),r=lh(),n=gt();function i(a,s,o){if(!n(o))return!1;var u=typeof s;return(u=="number"?e(o)&&r(s,o.length):u=="string"&&s in o)?t(o[s],a):!1}return ws=i,ws}var As,hd;function qg(){if(hd)return As;hd=1;var t=Sh(),e=jg();function r(n){return t(function(i,a){var s=-1,o=a.length,u=o>1?a[o-1]:void 0,c=o>2?a[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,c&&e(a[0],a[1],c)&&(u=o<3?void 0:u,o=1),i=Object(i);++s<o;){var d=a[s];d&&n(i,d,s,u)}return i})}return As=r,As}var Is,pd;function kg(){if(pd)return Is;pd=1;var t=Cg(),e=qg(),r=e(function(n,i,a){t(n,i,a)});return Is=r,Is}var Rg=kg();const Ng=$t(Rg);var Ps,md;function Eg(){if(md)return Ps;md=1;var t=lr(),e=Qn(),r=Rt(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Ps=i,Ps}var Ts,vd;function Og(){if(vd)return Ts;vd=1;var t=al(),e=Eg();function r(n,i,a,s,o){var u=-1,c=n.length;for(a||(a=e),o||(o=[]);++u<c;){var d=n[u];i>0&&a(d)?i>1?r(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return Ts=r,Ts}var js,yd;function Dg(){if(yd)return js;yd=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return js=e,js}var qs,gd;function Fg(){if(gd)return qs;gd=1;function t(e){return this.__data__.has(e)}return qs=t,qs}var ks,_d;function wh(){if(_d)return ks;_d=1;var t=ah(),e=Dg(),r=Fg();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ks=n,ks}var Rs,bd;function Qg(){if(bd)return Rs;bd=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Rs=t,Rs}var Ns,xd;function Mg(){if(xd)return Ns;xd=1;function t(e){return e!==e}return Ns=t,Ns}var Es,Cd;function Vg(){if(Cd)return Es;Cd=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Es=t,Es}var Os,Sd;function Lg(){if(Sd)return Os;Sd=1;var t=Qg(),e=Mg(),r=Vg();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Os=n,Os}var Ds,wd;function Bg(){if(wd)return Ds;wd=1;var t=Lg();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Ds=e,Ds}var Fs,Ad;function Ug(){if(Ad)return Fs;Ad=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Fs=t,Fs}var Qs,Id;function Ah(){if(Id)return Qs;Id=1;function t(e,r){return e.has(r)}return Qs=t,Qs}var Ms,Pd;function $g(){if(Pd)return Ms;Pd=1;function t(){}return Ms=t,Ms}var Vs,Td;function ll(){if(Td)return Vs;Td=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Vs=t,Vs}var Ls,jd;function Zg(){if(jd)return Ls;jd=1;var t=nh(),e=$g(),r=ll(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Ls=i,Ls}var Bs,qd;function Wg(){if(qd)return Bs;qd=1;var t=wh(),e=Bg(),r=Ug(),n=Ah(),i=Zg(),a=ll(),s=200;function o(u,c,d){var h=-1,y=e,b=u.length,S=!0,g=[],x=g;if(d)S=!1,y=r;else if(b>=s){var I=c?null:i(u);if(I)return a(I);S=!1,y=n,x=new t}else x=c?[]:g;e:for(;++h<b;){var p=u[h],A=c?c(p):p;if(p=d||p!==0?p:0,S&&A===A){for(var k=x.length;k--;)if(x[k]===A)continue e;c&&x.push(A),g.push(p)}else y(x,A,d)||(x!==g&&x.push(A),g.push(p))}return g}return Bs=o,Bs}var Us,kd;function Hg(){if(kd)return Us;kd=1;var t=Og(),e=Sh(),r=Wg(),n=bh(),i=e(function(a){return r(t(a,1,n,!0))});return Us=i,Us}var zg=Hg();const Gg=$t(zg),At=t=>!Object.keys(t).length||wt(t==null?void 0:t.content),Ih=t=>!At(t),zr=t=>!Kg(t),Kg=t=>isNaN(t),Yg=t=>t.content.value&&t.content.value.some(e=>e==null?void 0:e.toString().startsWith(sy)),Jg=t=>!!t.content.isUploadedList,Xg=t=>!!t.content.remoteComponent,cr=t=>typeof t=="object"&&Ih(t)&&"op"in t&&t.op in De,e_=t=>t.content.value.every(e=>["false","true"].includes(e.toString().toLowerCase())),t_=t=>t.op===Io.in?!1:t.op in Io,r_=t=>!!t.title,tr=(t=be())=>({id:t,content:[],op:De.and}),Tr=t=>{let e=t;const r=t.filter(i=>At(i)),n=t.filter(i=>Ih(i));if(r.length){const i=r[0];e=[...n,i]}return It(e)},Ph=(t,e)=>{const r=(a,s)=>s.filter(o=>o!==a).map(o=>zr(o)&&typeof o=="number"&&o>a?o-1:o),n=e.filter((a,s)=>s!==t).map(a=>At(a)?a:{...a,content:r(t,a.content)}),i=n.filter(a=>wt(a.content));return i.length?Ph(n.findIndex(a=>a.id==i[0].id),n):n},Rd=(t,e)=>{var i,a,s,o;const r=e.getRawQueries(),n=e.getState().activeQueryId;if(r.length===1)e.resetQueries(t);else{const u=e.getQueryIndex(t),c=Tr(Ph(u,r));if(c.length){const d=n_(c,u),h=c[d];let y=e.getSelectedQueryIndexes();y.includes(u)&&(y=y.filter(g=>g!==u).map(g=>g>u?g-1:g),(a=(i=e.coreProps).onQuerySelectChange)==null||a.call(i,y));const b=c.find(g=>g.id===n),S={activeQueryId:b?n:h.id,queries:c,selectedQueryIndexes:y};b||(o=(s=e.coreProps).onActiveQueryChange)==null||o.call(s,h),e.setState(g=>({...g,...S}))}else e.resetQueries(t)}},n_=(t,e)=>t.length-1>=e?e:e+1>t.length-1?e-1<t.length&&e-1>=0?e-1:t.length-1:e+1,Th=(t,e)=>({...e,content:e.content.map(r=>cr(r)&&!r.skipBooleanOperatorCheck?Th(t,r):r),op:t}),jh=(t,e)=>({...e,content:e.content.filter(function r(n){return zr(n)?!0:cr(n)?n.content.filter(r).length>0:n.content.field!==t})}),i_=({sqon:t,field:e,index:r,isUploadedList:n,merge_strategy:i=er.APPEND_VALUES,operator:a=Pr.in,overrideValuesName:s,remoteComponent:o,value:u})=>{let c;const d={content:{field:e,index:r,isUploadedList:n,overrideValuesName:s,remoteComponent:o,value:u},op:a};return wt(t)?(c=tr(),c.content=[d]):c=a_(t,d,{operator:Dn.OVERRIDE_OPERATOR,values:i}),c},a_=(t,e,r)=>{const n=It(t);return r=Ng({},{operator:Dn.DEFAULT,values:er.DEFAULT},r),qh(n,e,r)?n:{...n,content:[...n.content,e]}},qh=(t,e,r)=>{let n=!1;return t.content.forEach(i=>{if(zr(i)||i.title)return;const a=i;if(cr(a)){n=qh(a,e,r);return}const s=a;s.content.field===e.content.field&&(n=!0,e.content.overrideValuesName&&(s.content.overrideValuesName=e.content.overrideValuesName),e.op&&r.operator!==Dn.KEEP_OPERATOR&&(s.op=e.op),r.values===er.APPEND_VALUES&&(s.content.value=Gg([],s.content.value,e.content.value)),r.values===er.OVERRIDE_VALUES&&(s.content.value=e.content.value))}),n},s_=(t,e)=>{const r=e.content,n=typeof t=="number"?r.filter(i=>i!==t):r.filter(i=>{if(typeof i=="number")return!0;const a=i,{skipBooleanOperatorCheck:s}=a,o=s&&a.content[0].content.field!==t,u=i.content.field!==t;return s?o:u});return{...e,content:n,op:e.op}},o_=(t,e)=>{const n=e.content.filter(i=>i.id!==t);return{...e,content:n,op:e.op}},kh=(t,e)=>cr(e)?e.content.reduce((r,n)=>r||kh(t,n),!1):typeof e=="number"&&e===t,l_=(t,e)=>It(t).map(n=>{const i=n.content.map(a=>a.id===e.id?{id:e.id,content:e.queries[0].content,op:a.op,title:e.title}:a);return{...n,content:i}}),Rh=t=>It(t).map(n=>{const i=n.content.map(a=>a.hasOwnProperty("title")&&a.id?{filterID:a.id}:a);return{...n,content:i}}),u_=(t,e)=>{let r=-1;const n=t.content.filter((i,a)=>{if(zr(i))return!0;const s=i,{skipBooleanOperatorCheck:o}=s,u=o&&s.content.find(c=>c.content.field===e);return(u||i.content.field==e)&&(r=a),o?!u:i.content.field!==e});return[r,{...t,content:n}]},c_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]),d_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]);function Nh(t="New Filter"){const e=be(),r={id:be(),queries:[tr(e)],title:t,favorite:!1,isDirty:!1,isNew:!0};return{newActiveQueryId:e,newSavedFilter:r}}var Wt=(t=>(t.Filter="filter",t.Query="query",t))(Wt||{});const Eh=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,index:()=>e.getState().queries.findIndex(a=>a.id===n),isActive:()=>e.getState().activeQueryId===n,isEmpty:()=>At(t),isNotEmpty:()=>!At(t),toggleSelect:a=>{var u,c;const s=e.getQueryIndex(n);let o=[];a?o=[...e.getState().selectedQueryIndexes,s]:o=e.getState().selectedQueryIndexes.filter(d=>d!==s),e.setState(d=>({...d,selectedQueryIndexes:o})),(c=(u=e.coreProps).onQuerySelectChange)==null||c.call(u,o)},isSelected:()=>e.getState().selectedQueryIndexes.includes(e.getQueryIndex(n)),isSelectable:()=>{const a=e.getState().queries;return a.length===2&&e.hasEmptyQuery()?!1:a.length>1&&r.isNotEmpty()},saveAsCustomPill:async a=>{var o,u;const s={favorite:!1,id:be(),queries:[r.raw()],title:a,type:Wt.Query};return Promise.resolve((u=(o=e.coreProps).onCustomPillSave)==null?void 0:u.call(o,s)).then(()=>r.update({...r.raw(),content:[{id:s.id,op:s.queries[0].op,content:s.queries[0].content,title:s.title}]}))},delete:()=>{var a,s;Rd(n,e),(s=(a=e.coreProps).onQueryDelete)==null||s.call(a,n)},update:a=>{var s,o;if(wt(a.content))Rd(n,e);else{const u=e.getQueryIndex(n),c=It(e.getRawQueries()),d={...a,id:n,content:a.content,op:a.op};c[u]=d,e.setState(h=>({...h,queries:Tr(c)})),(o=(s=e.coreProps).onQueryUpdate)==null||o.call(s,d)}},duplicate:()=>{const a=e.getQuery(n);a&&e.createQuery({op:a.raw().op,content:a.raw().content})},setAsActive:()=>{var a,s;e.setState(o=>({...o,activeQueryId:n})),(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,r.raw())},changeCombineOperator:a=>{const s=It(e.getRawQueries()),o=e.getQueryIndex(n),u=s[o],c=Th(a,u);s[o]={...u,content:c.content,op:c.op},e.setState(d=>({...d,queries:Tr(s)}))},addPill:a=>{r.update({...t,content:[...t.content,a]})},removePillById:a=>{r.update(o_(a,t))},removePillByFieldOrIndex:a=>{r.update(s_(a,t))},isReferencedInActiveQuery:()=>{const a=e.getActiveQuery();return a?kh(r.index(),a.raw()):!1},hasCustomPill:()=>r.raw().content.some(a=>a.title||!a.content)}),r};var $s,Nd;function f_(){if(Nd)return $s;Nd=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return $s=t,$s}var Zs,Ed;function Oh(){if(Ed)return Zs;Ed=1;var t=wh(),e=f_(),r=Ah(),n=1,i=2;function a(s,o,u,c,d,h){var y=u&n,b=s.length,S=o.length;if(b!=S&&!(y&&S>b))return!1;var g=h.get(s),x=h.get(o);if(g&&x)return g==o&&x==s;var I=-1,p=!0,A=u&i?new t:void 0;for(h.set(s,o),h.set(o,s);++I<b;){var k=s[I],E=o[I];if(c)var D=y?c(E,k,I,o,s,h):c(k,E,I,s,o,h);if(D!==void 0){if(D)continue;p=!1;break}if(A){if(!e(o,function(R,V){if(!r(A,V)&&(k===R||d(k,R,u,c,h)))return A.push(V)})){p=!1;break}}else if(!(k===E||d(k,E,u,c,h))){p=!1;break}}return h.delete(s),h.delete(o),p}return Zs=a,Zs}var Ws,Od;function h_(){if(Od)return Ws;Od=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Ws=t,Ws}var Hs,Dd;function p_(){if(Dd)return Hs;Dd=1;var t=lr(),e=vh(),r=Zr(),n=Oh(),i=h_(),a=ll(),s=1,o=2,u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",y="[object Number]",b="[object RegExp]",S="[object Set]",g="[object String]",x="[object Symbol]",I="[object ArrayBuffer]",p="[object DataView]",A=t?t.prototype:void 0,k=A?A.valueOf:void 0;function E(D,R,V,U,B,Q,O){switch(V){case p:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case I:return!(D.byteLength!=R.byteLength||!Q(new e(D),new e(R)));case u:case c:case y:return r(+D,+R);case d:return D.name==R.name&&D.message==R.message;case b:case g:return D==R+"";case h:var M=i;case S:var Y=U&s;if(M||(M=a),D.size!=R.size&&!Y)return!1;var ee=O.get(D);if(ee)return ee==R;U|=o,O.set(D,R);var ne=n(M(D),M(R),U,B,Q,O);return O.delete(D),ne;case x:if(k)return k.call(D)==k.call(R)}return!1}return Hs=E,Hs}var zs,Fd;function m_(){if(Fd)return zs;Fd=1;var t=mh(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,u,c,d){var h=o&e,y=t(a),b=y.length,S=t(s),g=S.length;if(b!=g&&!h)return!1;for(var x=b;x--;){var I=y[x];if(!(h?I in s:n.call(s,I)))return!1}var p=d.get(a),A=d.get(s);if(p&&A)return p==s&&A==a;var k=!0;d.set(a,s),d.set(s,a);for(var E=h;++x<b;){I=y[x];var D=a[I],R=s[I];if(u)var V=h?u(R,D,I,s,a,d):u(D,R,I,a,s,d);if(!(V===void 0?D===R||c(D,R,o,u,d):V)){k=!1;break}E||(E=I=="constructor")}if(k&&!E){var U=a.constructor,B=s.constructor;U!=B&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof B=="function"&&B instanceof B)&&(k=!1)}return d.delete(a),d.delete(s),k}return zs=i,zs}var Gs,Qd;function v_(){if(Qd)return Gs;Qd=1;var t=tl(),e=Oh(),r=p_(),n=m_(),i=Br(),a=Rt(),s=$r(),o=Mn(),u=1,c="[object Arguments]",d="[object Array]",h="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function S(g,x,I,p,A,k){var E=a(g),D=a(x),R=E?d:i(g),V=D?d:i(x);R=R==c?h:R,V=V==c?h:V;var U=R==h,B=V==h,Q=R==V;if(Q&&s(g)){if(!s(x))return!1;E=!0,U=!1}if(Q&&!U)return k||(k=new t),E||o(g)?e(g,x,I,p,A,k):r(g,x,R,I,p,A,k);if(!(I&u)){var O=U&&b.call(g,"__wrapped__"),M=B&&b.call(x,"__wrapped__");if(O||M){var Y=O?g.value():g,ee=M?x.value():x;return k||(k=new t),A(Y,ee,I,p,k)}}return Q?(k||(k=new t),n(g,x,I,p,A,k)):!1}return Gs=S,Gs}var Ks,Md;function y_(){if(Md)return Ks;Md=1;var t=v_(),e=_t();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return Ks=r,Ks}var Ys,Vd;function g_(){if(Vd)return Ys;Vd=1;var t=y_();function e(r,n){return t(r,n)}return Ys=e,Ys}var __=g_();const b_=$t(__),x_=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,getQueries:()=>t.queries&&t.queries.length>0?t.queries.map(a=>Eh(a,e)):[],getRawQueries:()=>t.queries,getQueryById:a=>r.getQueries().find(s=>s.id===a)||null,duplicate:()=>{var a,s;if(r.isSelected()){const o=r.getRawQueries().map(c=>({...c,id:be()})),u={favorite:!1,id:be(),queries:o,title:`${r.raw().title||""} COPY`,isDirty:!1,isNew:!0};e.setState(c=>({...c,activeQueryId:u.queries[0].id,queries:o,savedFilters:[...c.savedFilters,u]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,u)}else console.error("Can only duplicate the selected saved filter")},delete:async()=>{var a,s;return Promise.resolve((s=(a=e.coreProps).onSavedFilterDelete)==null?void 0:s.call(a,n)).then(()=>{var c,d;const{newActiveQueryId:o,newSavedFilter:u}=Nh();e.setState(h=>({...h,activeQueryId:o,queries:u.queries,savedFilters:[...h.savedFilters.filter(y=>y.id!==n),u]})),(d=(c=e.coreProps).onSavedFilterCreate)==null||d.call(c,u)})},save:async(a,s)=>{var c,d,h,y;const o={...r.raw(),title:(s==null?void 0:s.title)||r.raw().title,favorite:(s==null?void 0:s.favorite)!==void 0?s.favorite:r.raw().favorite,type:a,queries:e.getRawQueries()};return a===Wt.Query?Promise.resolve((d=(c=e.coreProps).onCustomPillUpdate)==null?void 0:d.call(c,o)).then(()=>{}):Promise.resolve((y=(h=e.coreProps).onSavedFilterUpdate)==null?void 0:y.call(h,{...o,queries:Rh(o.queries)})).then(()=>e.setState(b=>({...b,savedFilters:b.savedFilters.map(S=>S.id===n?{...o,isNew:!1,isDirty:!1}:S)})))},select:()=>{e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries}))},discardChanges:()=>{r.isSelected()?e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries})):console.error("Can only discard changes to the selected saved filter")},hasQueries:()=>r.getQueries().length>0,isSelected:()=>{const a=e.getState().queries.map(s=>s.id);return t.queries.find(s=>a.includes(s.id))!==void 0},isFavorite:()=>t.favorite||!1,isNew:()=>t.isNew||!1,isDirty:()=>!r.isSelected()||t.isNew?!1:t.isDirty||e.getRawQueries().length!==t.queries.length?!0:!t.queries.every(a=>{const s=e.getRawQueries().find(o=>o.id==a.id);return s?b_({content:s.content,id:s.id,op:s.op},{content:a.content,id:a.id,op:a.op}):!1})}),r},Dh=()=>{const t=be();return{activeQueryId:t,queries:[tr(t)],savedFilters:[],selectedQueryIndexes:[]}},C_=t=>{const e={};return Object.assign(e,{coreProps:t,setCoreProps:n=>{e.coreProps=n(e.coreProps)},setState:n=>{var i,a;(a=(i=e.coreProps).onStateChange)==null||a.call(i,n(e.coreProps.state))},getState:()=>e.coreProps.state,reset:()=>{e.setState(()=>e.coreProps.initialState)},clearQueries:()=>{const n=be(),i=tr(n);e.setState(a=>({...a,activeQueryId:n,queries:[i]}))},saveNewFilter:async n=>{var a,s;const i={id:be(),title:(n==null?void 0:n.title)||e.coreProps.savedFilterDefaultTitle||"New Filter",favorite:(n==null?void 0:n.favorite)===void 0?!1:n.favorite,queries:e.getRawQueries()};return Promise.resolve((s=(a=e.coreProps).onSavedFilterSave)==null?void 0:s.call(a,{...i,queries:Rh(i.queries)})).then(()=>e.setState(o=>({...o,savedFilters:[...o.savedFilters,{...i,isNew:!1,isDirty:!1}]})))},createSavedFilter:()=>{var a,s;const{newActiveQueryId:n,newSavedFilter:i}=Nh();e.setState(o=>({...o,activeQueryId:n,queries:i.queries,savedFilters:[...o.savedFilters,i]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,i)},getSelectedSavedFilter:()=>e.getActiveQuery()&&e.getSavedFilters().find(i=>i.isSelected()&&!i.isNew())||null,getSavedFilters:()=>e.coreProps.state.savedFilters&&e.coreProps.state.savedFilters.length>0?e.coreProps.state.savedFilters.map(n=>x_(n,e)).filter(n=>!n.isNew()):[],getQueries:()=>e.coreProps.state.queries&&e.coreProps.state.queries.length>0?e.coreProps.state.queries.map(n=>Eh(n,e)):[],getRawQueries:()=>e.coreProps.state.queries||[],getSelectedQueryIndexes:()=>e.getState().selectedQueryIndexes,toggleQuerySelect:(n,i)=>{var a;(a=e.getQuery(n))==null||a.toggleSelect(i)},resetQuerySelection:()=>{var n,i;e.setState(a=>({...a,selectedQueryIndexes:[]})),(i=(n=e.coreProps).onQuerySelectChange)==null||i.call(n,[])},createQuery:({id:n=be(),op:i=De.and,content:a})=>{var o,u,c,d;const s={id:n,op:i,content:a};return e.setState(h=>({...h,activeQueryId:s.id,queries:Tr([...e.getRawQueries(),s])})),(u=(o=e.coreProps).onActiveQueryChange)==null||u.call(o,s),(d=(c=e.coreProps).onQueryCreate)==null||d.call(c,s),s.id},getQuery:n=>e.getQueries().find(i=>i.id===n)||null,setActiveQuery:n=>{var i;(i=e.getQuery(n))==null||i.setAsActive()},getActiveQuery:()=>e.coreProps.state.activeQueryId?e.getQuery(e.coreProps.state.activeQueryId):null,getQueryIndex:n=>{const i=e.getQuery(n);return i?i.index():-1},updateQuery:(n,i)=>{var a;(a=e.getQuery(n))==null||a.update(i)},duplicateQuery:n=>{var i;(i=e.getQuery(n))==null||i.duplicate()},deleteQuery:n=>{var i;(i=e.getQuery(n))==null||i.delete()},changeQueryCombineOperator:(n,i)=>{var a;(a=e.getQuery(n))==null||a.changeCombineOperator(i)},hasEmptyQuery:()=>e.getQueries().some(n=>n.isEmpty()),hasQueries:()=>e.getQueries().length>0,canCombine:()=>e.getQueries().length>1&&e.getSelectedQueryIndexes().length>1,resetQueries:n=>{var a,s;const i=tr(n);(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,i),e.setState(o=>({...o,activeQueryId:n,queries:[i]}))},combineSelectedQueries:n=>{var s,o,u,c;if(!e.canCombine()){console.error("Cannot combine queries. There must be at least 2 queries selected.");return}const i={id:be(),op:n,content:e.getSelectedQueryIndexes().sort()},a=[];e.setState(d=>({...d,activeQueryId:i.id,queries:Tr([...d.queries,i]),selectedQueryIndexes:a})),(o=(s=e.coreProps).onQueryCreate)==null||o.call(s,i),(c=(u=e.coreProps).onQuerySelectChange)==null||c.call(u,a)},isEmpty:()=>e.getQueries().length===1&&e.getQueries()[0].isEmpty()}),e},Po="QBCacheUpdate",Fh="query-builder-cache";var To=(t=>(t.ADD_QUERY="ADD_QUERY",t.UPDATE_QUERY="UPDATE_QUERY",t.SET_STATE="SET_STATE",t))(To||{});class S_ extends Event{constructor(r){super(Po);mr(this,"eventData");mr(this,"eventType");mr(this,"value");mr(this,"queryBuilderId");this.eventType=r.eventType,this.queryBuilderId=r.queryBuilderId,this.value=r.value,this.eventData=r.eventData}}const $n=(t,{eventType:e,eventData:r,value:n,skipEvent:i})=>{if(window.localStorage.setItem(`${Fh}-${t}`,JSON.stringify(n)),!i){const a=new S_({queryBuilderId:t,value:n,eventType:e,eventData:r});window.dispatchEvent(a)}},jo=t=>{const e=Dh();return $n(t,{value:e,eventType:"SET_STATE",eventData:e}),e},Zn=t=>{if(typeof window<"u"){const e=window.localStorage.getItem(`${Fh}-${t}`);if(!e)return jo(t);try{return JSON.parse(e)}catch{return jo(t)}}else return{}},w_=(t,e,r=!1)=>{const n=Zn(t),i=(n==null?void 0:n.queries)??[],a=i.find(o=>At(o)),s=i.find(o=>o.id===n.activeQueryId&&At(o));$n(t,{eventType:"ADD_QUERY",eventData:e,value:{activeQueryId:r||s?e.id:(n==null?void 0:n.activeQueryId)??e.id,queries:a?i.map(o=>At(o)?e:o):[...i,e]}})},Gr=t=>{var r;const e=Zn(t);return((r=e==null?void 0:e.queries)==null?void 0:r.find(({id:n})=>n===e.activeQueryId))??tr()},dr=(t,e)=>{var i;const r=Zn(t),n=(i=r==null?void 0:r.queries)==null?void 0:i.find(({id:a})=>a===e.id);if(n)n.content=e.content,n.op=e.op;else throw new Error(`Query with id ${e.id} not found`);$n(t,{eventType:"UPDATE_QUERY",eventData:n,value:r})},A_=(t,{field:e,index:r,isUploadedList:n,merge_strategy:i=er.APPEND_VALUES,operator:a=Pr.in,overrideValuesName:s,remoteComponent:o,value:u})=>{const c=Qt.getActiveQuery(t);dr(t,wt(u)?jh(e,c):i_({sqon:c,field:e,index:r,isUploadedList:n,merge_strategy:i,operator:a,overrideValuesName:s,remoteComponent:o,value:u}))},I_=(t,e)=>dr(t,Qh(t,{field:e.filterGroup.field,operator:e.operator,sqonContent:d_(e.filterGroup,e.selectedFilters,e.index)})),Qh=(t,{field:e,operator:r=De.and,sqonContent:n})=>{const i=Gr(t);let a={id:be(),content:n,op:r};if(!wt(i)){const s=u_(i,e),o=s[0],u=s[1],c={...u};wt(c.content)&&wt(i)?a={id:be(),content:[],op:r}:(o>=0?c.content.splice(o,0,...n):c.content=[...c.content,...n],a={...c,content:[...c.content]},u.content.length===0&&(a.op=r))}return a},P_=(t,e)=>dr(t,e.selectedFilters.length>0?Qh(t,{field:e.field,sqonContent:c_(e.field,e.selectedFilters)}):jh(e.field,Gr(t))),T_=(t,e)=>{const r=Gr(t);dr(t,{...r,content:[...r.content,e]})},j_=(t,e)=>{const r=Gr(t);r.content=r.content.filter(n=>n.id!==e).filter(n=>n!==void 0),dr(t,r)},Qt={addQuery:w_,updateQuery:dr,getActiveQuery:Gr,updateActiveQueryField:A_,updateActiveQueryFilters:I_,updateQueryByTableFilter:P_,addPillToActiveQuery:T_,removePillFromActiveQuery:j_,setLocalQueryBuilderState:$n,getLocalQueryBuilderState:Zn,setDefaultLocalQueryBuilderState:jo};function Mh(t){const e={state:{...Dh(),savedFilters:[],selectedQueryIndexes:[]},onStateChange:()=>{},...t},[r]=m.useState(()=>({current:C_(e)})),[n,i]=m.useState(()=>e.initialState||e.state);return m.useEffect(()=>{var a;n&&((a=t.onStateChange)==null||a.call(t,n))},[n]),m.useEffect(()=>{const a=s=>{var o,u,c,d;if(s.queryBuilderId===t.id){if(s.eventType===To.ADD_QUERY){const h=s.eventData;(o=t.onQueryCreate)==null||o.call(t,h),h.id===s.value.activeQueryId&&((u=t.onActiveQueryChange)==null||u.call(t,h))}else if(s.eventType===To.UPDATE_QUERY){const h=s.eventData;(c=t.onQueryUpdate)==null||c.call(t,h),h.id===s.value.activeQueryId&&((d=t.onActiveQueryChange)==null||d.call(t,h))}i(h=>({...h,...t.state,...s.value}))}};return window.addEventListener(Po,a),()=>{window.removeEventListener(Po,a)}},[t.state]),r.current.setCoreProps(a=>({savedFilterDefaultTitle:"Untitled filter",...a,...t,state:{...n,...t.state},onStateChange:s=>{i(s),Qt.setLocalQueryBuilderState(t.id,{value:s,skipEvent:!0})}})),r.current}var ul="Collapsible",[q_,Vh]=Pn(ul),[k_,cl]=q_(ul),Lh=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[u=!1,c]=Xt({prop:n,defaultProp:i,onChange:s});return l.jsx(k_,{scope:r,disabled:a,contentId:sr(),open:u,onOpenToggle:m.useCallback(()=>c(d=>!d),[c]),children:l.jsx(ge.div,{"data-state":fl(u),"data-disabled":a?"":void 0,...o,ref:e})})});Lh.displayName=ul;var Bh="CollapsibleTrigger",Uh=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=cl(Bh,r);return l.jsx(ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":fl(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:fe(t.onClick,i.onOpenToggle)})});Uh.displayName=Bh;var dl="CollapsibleContent",$h=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=cl(dl,t.__scopeCollapsible);return l.jsx(Wo,{present:r||i.open,children:({present:a})=>l.jsx(R_,{...n,ref:e,present:a})})});$h.displayName=dl;var R_=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=cl(dl,r),[o,u]=m.useState(n),c=m.useRef(null),d=Ee(e,c),h=m.useRef(0),y=h.current,b=m.useRef(0),S=b.current,g=s.open||o,x=m.useRef(g),I=m.useRef(void 0);return m.useEffect(()=>{const p=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(p)},[]),vt(()=>{const p=c.current;if(p){I.current=I.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const A=p.getBoundingClientRect();h.current=A.height,b.current=A.width,x.current||(p.style.transitionDuration=I.current.transitionDuration,p.style.animationName=I.current.animationName),u(n)}},[s.open,n]),l.jsx(ge.div,{"data-state":fl(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:g&&i})});function fl(t){return t?"open":"closed"}var N_=Lh,E_=Uh,O_=$h,bt="Accordion",D_=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hl,F_,Q_]=Df(bt),[Wn,Mw]=Pn(bt,[Q_,Vh]),pl=Vh(),Zh=G.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return l.jsx(hl.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(B_,{...a,ref:e}):l.jsx(L_,{...i,ref:e})})});Zh.displayName=bt;var[Wh,M_]=Wn(bt),[Hh,V_]=Wn(bt,{collapsible:!1}),L_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,u]=Xt({prop:r,defaultProp:n,onChange:i});return l.jsx(Wh,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:u,onItemClose:G.useCallback(()=>a&&u(""),[a,u]),children:l.jsx(Hh,{scope:t.__scopeAccordion,collapsible:a,children:l.jsx(zh,{...s,ref:e})})})}),B_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s=[],o]=Xt({prop:r,defaultProp:n,onChange:i}),u=G.useCallback(d=>o((h=[])=>[...h,d]),[o]),c=G.useCallback(d=>o((h=[])=>h.filter(y=>y!==d)),[o]);return l.jsx(Wh,{scope:t.__scopeAccordion,value:s,onItemOpen:u,onItemClose:c,children:l.jsx(Hh,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(zh,{...a,ref:e})})})}),[U_,Hn]=Wn(bt),zh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=G.useRef(null),u=Ee(o,e),c=F_(r),h=Ff(i)==="ltr",y=fe(t.onKeyDown,b=>{var V;if(!D_.includes(b.key))return;const S=b.target,g=c().filter(U=>{var B;return!((B=U.ref.current)!=null&&B.disabled)}),x=g.findIndex(U=>U.ref.current===S),I=g.length;if(x===-1)return;b.preventDefault();let p=x;const A=0,k=I-1,E=()=>{p=x+1,p>k&&(p=A)},D=()=>{p=x-1,p<A&&(p=k)};switch(b.key){case"Home":p=A;break;case"End":p=k;break;case"ArrowRight":a==="horizontal"&&(h?E():D());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(h?D():E());break;case"ArrowUp":a==="vertical"&&D();break}const R=p%I;(V=g[R].ref.current)==null||V.focus()});return l.jsx(U_,{scope:r,disabled:n,direction:i,orientation:a,children:l.jsx(hl.Slot,{scope:r,children:l.jsx(ge.div,{...s,"data-orientation":a,ref:u,onKeyDown:n?void 0:y})})})}),fn="AccordionItem",[$_,ml]=Wn(fn),Gh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=Hn(fn,r),s=M_(fn,r),o=pl(r),u=sr(),c=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return l.jsx($_,{scope:r,open:c,disabled:d,triggerId:u,children:l.jsx(N_,{"data-orientation":a.orientation,"data-state":tp(c),...o,...i,ref:e,disabled:d,open:c,onOpenChange:h=>{h?s.onItemOpen(n):s.onItemClose(n)}})})});Gh.displayName=fn;var Kh="AccordionHeader",Yh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Hn(bt,r),a=ml(Kh,r);return l.jsx(ge.h3,{"data-orientation":i.orientation,"data-state":tp(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Yh.displayName=Kh;var qo="AccordionTrigger",Jh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Hn(bt,r),a=ml(qo,r),s=V_(qo,r),o=pl(r);return l.jsx(hl.ItemSlot,{scope:r,children:l.jsx(E_,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});Jh.displayName=qo;var Xh="AccordionContent",ep=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Hn(bt,r),a=ml(Xh,r),s=pl(r);return l.jsx(O_,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ep.displayName=Xh;function tp(t){return t?"open":"closed"}var Z_=Zh,W_=Gh,H_=Yh,rp=Jh,np=ep;const z_=Z_,vl=m.forwardRef(({className:t,...e},r)=>l.jsx(W_,{ref:r,className:ue("border-b",t),...e}));vl.displayName="AccordionItem";const yl=m.forwardRef(({className:t,children:e,...r},n)=>l.jsx(H_,{className:"flex justify-between items-center",children:l.jsx(rp,{ref:n,className:ue("py-2 transition-all [&[data-state=open]>svg]:rotate-180 w-full",t),...r,children:l.jsxs("div",{className:"flex flex-1 items-center",children:[l.jsx("div",{children:l.jsx(Go,{className:"h-4 w-4 shrink-0 transition-transform duration-200 mr-2"})}),e]})})}));yl.displayName=rp.displayName;const gl=m.forwardRef(({className:t,children:e,...r},n)=>l.jsx(np,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:ue("pb-2 pt-0",t),children:e})}));gl.displayName=np.displayName;vl.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};yl.__docgenInfo={description:"",methods:[]};gl.__docgenInfo={description:"",methods:[]};const _l=m.createContext(null);function he(){const t=m.useContext(_l);if(!t)throw new Error("useQueryBuilderContext must be used within a QueryBuilderContextProvider");return t}const ip=m.createContext(null);function de(){const t=m.useContext(ip);if(!t)throw new Error("useQueryBuilderDictContext must be used within a QueryBuilderDictContextProvider");return t}const bl=m.createContext(null);function Be(){const t=m.useContext(bl);if(!t)throw new Error("useQueryBarContext must be used within a QueryBarContextProvider");return t}function ap(){const{query:t}=Be(),{getQueryReferenceColor:e}=he(),r=t.isReferencedInActiveQuery()?e(t.index()):null;return l.jsx("div",{className:"w-1 rounded-s-sm bg-[--gray-6] group-data-[query-active=true]/query:bg-[--query-bar-identifier-active]",style:r?{backgroundColor:r}:{}})}ap.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function sp(){const{query:t}=Be();return l.jsx(Oe,{icon:Kf,onClick:()=>t.duplicate()})}sp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};var xl="Popover",[op,Vw]=Pn(xl,[Tn]),Kr=Tn(),[G_,Nt]=op(xl),lp=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=Kr(e),u=m.useRef(null),[c,d]=m.useState(!1),[h=!1,y]=Xt({prop:n,defaultProp:i,onChange:a});return l.jsx(Qf,{...o,children:l.jsx(G_,{scope:e,contentId:sr(),triggerRef:u,open:h,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:s,children:r})})};lp.displayName=xl;var up="PopoverAnchor",K_=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Nt(up,r),a=Kr(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return m.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx(Zo,{...a,...n,ref:e})});K_.displayName=up;var cp="PopoverTrigger",Cl=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Nt(cp,r),a=Kr(r),s=Ee(e,i.triggerRef),o=l.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mp(i.open),...n,ref:s,onClick:fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(Zo,{asChild:!0,...a,children:o})});Cl.displayName=cp;var Sl="PopoverPortal",[Y_,J_]=op(Sl,{forceMount:void 0}),dp=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Nt(Sl,e);return l.jsx(Y_,{scope:e,forceMount:r,children:l.jsx(Wo,{present:r||a.open,children:l.jsx(Lf,{asChild:!0,container:i,children:n})})})};dp.displayName=Sl;var rr="PopoverContent",fp=m.forwardRef((t,e)=>{const r=J_(rr,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Nt(rr,t.__scopePopover);return l.jsx(Wo,{present:n||a.open,children:a.modal?l.jsx(X_,{...i,ref:e}):l.jsx(eb,{...i,ref:e})})});fp.displayName=rr;var X_=m.forwardRef((t,e)=>{const r=Nt(rr,t.__scopePopover),n=m.useRef(null),i=Ee(e,n),a=m.useRef(!1);return m.useEffect(()=>{const s=n.current;if(s)return Bf(s)},[]),l.jsx(Uf,{as:$o,allowPinchZoom:!0,children:l.jsx(hp,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,c=o.button===2||u;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),eb=m.forwardRef((t,e)=>{const r=Nt(rr,t.__scopePopover),n=m.useRef(!1),i=m.useRef(!1);return l.jsx(hp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hp=m.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...h}=t,y=Nt(rr,r),b=Kr(r);return $f(),l.jsx(Zf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>y.onOpenChange(!1),children:l.jsx(Mf,{"data-state":mp(y.open),role:"dialog",id:y.contentId,...b,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pp="PopoverClose",ko=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Nt(pp,r);return l.jsx(ge.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});ko.displayName=pp;var tb="PopoverArrow",rb=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kr(r);return l.jsx(Vf,{...i,...n,ref:e})});rb.displayName=tb;function mp(t){return t?"open":"closed"}var nb=lp,ib=Cl,ab=dp,vp=fp;const yp=nb,sb=ib,zn=m.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(ab,{children:l.jsx(vp,{ref:i,align:e,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));zn.displayName=vp.displayName;zn.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function gp(){const{query:t}=Be(),e=de();return l.jsxs(yp,{children:[l.jsx(sb,{asChild:!0,children:l.jsx(Oe,{icon:Hf})}),l.jsxs(zn,{side:"left",className:"w-[200px] space-y-3",children:[l.jsx("span",{className:"text-sm",children:e.queryBar.deletePopover.title}),l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx(ko,{asChild:!0,children:l.jsx(Ie,{size:"xs",children:e.queryBar.deletePopover.cancel})}),l.jsx(ko,{asChild:!0,children:l.jsx(Ie,{size:"xs",variant:"destructive",onClick:()=>t.delete(),children:e.queryBar.deletePopover.ok})})]})]})]})}gp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};var Yr=t=>t.type==="checkbox",Ft=t=>t instanceof Date,je=t=>t==null;const _p=t=>typeof t=="object";var ye=t=>!je(t)&&!Array.isArray(t)&&_p(t)&&!Ft(t),bp=t=>ye(t)&&t.target?Yr(t.target)?t.target.checked:t.target.value:t,ob=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xp=(t,e)=>t.has(ob(e)),lb=t=>{const e=t.constructor&&t.constructor.prototype;return ye(e)&&e.hasOwnProperty("isPrototypeOf")},wl=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wl&&(t instanceof Blob||n))&&(r||ye(t)))if(e=r?[]:{},!r&&!lb(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Re(t[i]));else return t;return e}var Gn=t=>Array.isArray(t)?t.filter(Boolean):[],ve=t=>t===void 0,T=(t,e,r)=>{if(!e||!ye(t))return r;const n=Gn(e.split(/[,[\].]+?/)).reduce((i,a)=>je(i)?i:i[a],t);return ve(n)||n===t?ve(t[e])?r:t[e]:n},Le=t=>typeof t=="boolean",Al=t=>/^\w*$/.test(t),Cp=t=>Gn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{let n=-1;const i=Al(e)?[e]:Cp(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let u=r;if(n!==s){const c=t[o];u=ye(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}return t};const hn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ze={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ht={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Sp=G.createContext(null),Kn=()=>G.useContext(Sp),ub=t=>{const{children:e,...r}=t;return G.createElement(Sp.Provider,{value:r},e)};var wp=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ze.all&&(e._proxyFormState[s]=!n||ze.all),r&&(r[s]=!0),t[s]}});return i},Ne=t=>ye(t)&&!Object.keys(t).length,Ap=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Ne(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||ze.all))},Ar=t=>Array.isArray(t)?t:[t],Ip=(t,e,r)=>!t||!e||t===e||Ar(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Il(t){const e=G.useRef(t);e.current=t,G.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function cb(t){const e=Kn(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,o]=G.useState(r._formState),u=G.useRef(!0),c=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=G.useRef(i);return d.current=i,Il({disabled:n,next:h=>u.current&&Ip(d.current,h.name,a)&&Ap(h,c.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),G.useEffect(()=>(u.current=!0,c.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),G.useMemo(()=>wp(s,r,c.current,!1),[s,r])}var tt=t=>typeof t=="string",Pp=(t,e,r,n,i)=>tt(t)?(n&&e.watch.add(t),T(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),T(r,a))):(n&&(e.watchAll=!0),r);function db(t){const e=Kn(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=G.useRef(n);o.current=n,Il({disabled:a,subject:r._subjects.values,next:d=>{Ip(o.current,d.name,s)&&c(Re(Pp(o.current,r._names,d.values||r._formValues,!1,i)))}});const[u,c]=G.useState(r._getWatch(n,i));return G.useEffect(()=>r._removeUnmounted()),u}function fb(t){const e=Kn(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,s=xp(i._names.array,r),o=db({control:i,name:r,defaultValue:T(i._formValues,r,T(i._defaultValues,r,t.defaultValue)),exact:!0}),u=cb({control:i,name:r,exact:!0}),c=G.useRef(i.register(r,{...t.rules,value:o,...Le(t.disabled)?{disabled:t.disabled}:{}})),d=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!T(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!T(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!T(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!T(u.validatingFields,r)},error:{enumerable:!0,get:()=>T(u.errors,r)}}),[u,r]),h=G.useMemo(()=>({name:r,value:o,...Le(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:y=>c.current.onChange({target:{value:bp(y),name:r},type:hn.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:T(i._formValues,r),name:r},type:hn.BLUR}),ref:y=>{const b=T(i._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})}}),[r,i._formValues,n,u.disabled,o,i._fields]);return G.useEffect(()=>{const y=i._options.shouldUnregister||a,b=(S,g)=>{const x=T(i._fields,S);x&&x._f&&(x._f.mount=g)};if(b(r,!0),y){const S=Re(T(i._options.defaultValues,r));ae(i._defaultValues,r,S),ve(T(i._formValues,r))&&ae(i._formValues,r,S)}return!s&&i.register(r),()=>{(s?y&&!i._state.action:y)?i.unregister(r):b(r,!1)}},[r,i,s,a]),G.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),G.useMemo(()=>({field:h,formState:u,fieldState:d}),[h,u,d])}const hb=t=>t.render(fb(t));var Tp=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Ld=t=>({isOnSubmit:!t||t===ze.onSubmit,isOnBlur:t===ze.onBlur,isOnChange:t===ze.onChange,isOnAll:t===ze.all,isOnTouch:t===ze.onTouched}),Bd=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ir=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=T(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Ir(o,e))break}else if(ye(o)&&Ir(o,e))break}}};var pb=(t,e,r)=>{const n=Ar(T(t,r));return ae(n,"root",e[r]),ae(t,r,n),t},Pl=t=>t.type==="file",Je=t=>typeof t=="function",pn=t=>{if(!wl)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cn=t=>tt(t),Tl=t=>t.type==="radio",mn=t=>t instanceof RegExp;const Ud={value:!1,isValid:!1},$d={value:!0,isValid:!0};var jp=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ve(t[0].attributes.value)?ve(t[0].value)||t[0].value===""?$d:{value:t[0].value,isValid:!0}:$d:Ud}return Ud};const Zd={isValid:!1,value:null};var qp=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Zd):Zd;function Wd(t,e,r="validate"){if(cn(t)||Array.isArray(t)&&t.every(cn)||Le(t)&&!t)return{type:r,message:cn(t)?t:"",ref:e}}var zt=t=>ye(t)&&!mn(t)?t:{value:t,message:""},Hd=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:u,maxLength:c,minLength:d,min:h,max:y,pattern:b,validate:S,name:g,valueAsNumber:x,mount:I}=t._f,p=T(r,g);if(!I||e.has(g))return{};const A=o?o[0]:s,k=O=>{i&&A.reportValidity&&(A.setCustomValidity(Le(O)?"":O||""),A.reportValidity())},E={},D=Tl(s),R=Yr(s),V=D||R,U=(x||Pl(s))&&ve(s.value)&&ve(p)||pn(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,B=Tp.bind(null,g,n,E),Q=(O,M,Y,ee=ht.maxLength,ne=ht.minLength)=>{const ce=O?M:Y;E[g]={type:O?ee:ne,message:ce,ref:s,...B(O?ee:ne,ce)}};if(a?!Array.isArray(p)||!p.length:u&&(!V&&(U||je(p))||Le(p)&&!p||R&&!jp(o).isValid||D&&!qp(o).isValid)){const{value:O,message:M}=cn(u)?{value:!!u,message:u}:zt(u);if(O&&(E[g]={type:ht.required,message:M,ref:A,...B(ht.required,M)},!n))return k(M),E}if(!U&&(!je(h)||!je(y))){let O,M;const Y=zt(y),ee=zt(h);if(!je(p)&&!isNaN(p)){const ne=s.valueAsNumber||p&&+p;je(Y.value)||(O=ne>Y.value),je(ee.value)||(M=ne<ee.value)}else{const ne=s.valueAsDate||new Date(p),ce=Ue=>new Date(new Date().toDateString()+" "+Ue),Ce=s.type=="time",Ae=s.type=="week";tt(Y.value)&&p&&(O=Ce?ce(p)>ce(Y.value):Ae?p>Y.value:ne>new Date(Y.value)),tt(ee.value)&&p&&(M=Ce?ce(p)<ce(ee.value):Ae?p<ee.value:ne<new Date(ee.value))}if((O||M)&&(Q(!!O,Y.message,ee.message,ht.max,ht.min),!n))return k(E[g].message),E}if((c||d)&&!U&&(tt(p)||a&&Array.isArray(p))){const O=zt(c),M=zt(d),Y=!je(O.value)&&p.length>+O.value,ee=!je(M.value)&&p.length<+M.value;if((Y||ee)&&(Q(Y,O.message,M.message),!n))return k(E[g].message),E}if(b&&!U&&tt(p)){const{value:O,message:M}=zt(b);if(mn(O)&&!p.match(O)&&(E[g]={type:ht.pattern,message:M,ref:s,...B(ht.pattern,M)},!n))return k(M),E}if(S){if(Je(S)){const O=await S(p,r),M=Wd(O,A);if(M&&(E[g]={...M,...B(ht.validate,M.message)},!n))return k(M.message),E}else if(ye(S)){let O={};for(const M in S){if(!Ne(O)&&!n)break;const Y=Wd(await S[M](p,r),A,M);Y&&(O={...Y,...B(M,Y.message)},k(Y.message),n&&(E[g]=O))}if(!Ne(O)&&(E[g]={ref:A,...O},!n))return E}}return k(!0),E};function mb(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ve(t)?n++:t[e[n++]];return t}function vb(t){for(const e in t)if(t.hasOwnProperty(e)&&!ve(t[e]))return!1;return!0}function xe(t,e){const r=Array.isArray(e)?e:Al(e)?[e]:Cp(e),n=r.length===1?t:mb(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ye(n)&&Ne(n)||Array.isArray(n)&&vb(n))&&xe(t,r.slice(0,-1)),t}var Js=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Ro=t=>je(t)||!_p(t);function St(t,e){if(Ro(t)||Ro(e))return t===e;if(Ft(t)&&Ft(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Ft(a)&&Ft(s)||ye(a)&&ye(s)||Array.isArray(a)&&Array.isArray(s)?!St(a,s):a!==s)return!1}}return!0}var kp=t=>t.type==="select-multiple",yb=t=>Tl(t)||Yr(t),Xs=t=>pn(t)&&t.isConnected,Rp=t=>{for(const e in t)if(Je(t[e]))return!0;return!1};function vn(t,e={}){const r=Array.isArray(t);if(ye(t)||r)for(const n in t)Array.isArray(t[n])||ye(t[n])&&!Rp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},vn(t[n],e[n])):je(t[n])||(e[n]=!0);return e}function Np(t,e,r){const n=Array.isArray(t);if(ye(t)||n)for(const i in t)Array.isArray(t[i])||ye(t[i])&&!Rp(t[i])?ve(e)||Ro(r[i])?r[i]=Array.isArray(t[i])?vn(t[i],[]):{...vn(t[i])}:Np(t[i],je(e)?{}:e[i],r[i]):r[i]=!St(t[i],e[i]);return r}var vr=(t,e)=>Np(t,e,vn(e)),Ep=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ve(t)?t:e?t===""?NaN:t&&+t:r&&tt(t)?new Date(t):n?n(t):t;function eo(t){const e=t.ref;return Pl(e)?e.files:Tl(e)?qp(t.refs).value:kp(e)?[...e.selectedOptions].map(({value:r})=>r):Yr(e)?jp(t.refs).value:Ep(ve(e.value)?t.ref.value:e.value,t)}var gb=(t,e,r,n)=>{const i={};for(const a of t){const s=T(e,a);s&&ae(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},yr=t=>ve(t)?t:mn(t)?t.source:ye(t)?mn(t.value)?t.value.source:t.value:t;const zd="AsyncFunction";var _b=t=>!!t&&!!t.validate&&!!(Je(t.validate)&&t.validate.constructor.name===zd||ye(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zd)),bb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Gd(t,e,r){const n=T(t,r);if(n||Al(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=T(e,a),o=T(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var xb=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Cb=(t,e)=>!Gn(T(t,e)).length&&xe(t,e);const Sb={mode:ze.onSubmit,reValidateMode:ze.onChange,shouldFocusError:!0};function wb(t={}){let e={...Sb,...t},r={submitCount:0,isDirty:!1,isLoading:Je(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ye(e.defaultValues)||ye(e.values)?Re(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Re(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Js(),array:Js(),state:Js()},y=Ld(e.mode),b=Ld(e.reValidateMode),S=e.criteriaMode===ze.all,g=f=>v=>{clearTimeout(c),c=setTimeout(f,v)},x=async f=>{if(!e.disabled&&(d.isValid||f)){const v=e.resolver?Ne((await V()).errors):await B(n,!0);v!==r.isValid&&h.state.next({isValid:v})}},I=(f,v)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((f||Array.from(o.mount)).forEach(_=>{_&&(v?ae(r.validatingFields,_,v):xe(r.validatingFields,_))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ne(r.validatingFields)}))},p=(f,v=[],_,j,P=!0,C=!0)=>{if(j&&_&&!e.disabled){if(s.action=!0,C&&Array.isArray(T(n,f))){const L=_(T(n,f),j.argA,j.argB);P&&ae(n,f,L)}if(C&&Array.isArray(T(r.errors,f))){const L=_(T(r.errors,f),j.argA,j.argB);P&&ae(r.errors,f,L),Cb(r.errors,f)}if(d.touchedFields&&C&&Array.isArray(T(r.touchedFields,f))){const L=_(T(r.touchedFields,f),j.argA,j.argB);P&&ae(r.touchedFields,f,L)}d.dirtyFields&&(r.dirtyFields=vr(i,a)),h.state.next({name:f,isDirty:O(f,v),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ae(a,f,v)},A=(f,v)=>{ae(r.errors,f,v),h.state.next({errors:r.errors})},k=f=>{r.errors=f,h.state.next({errors:r.errors,isValid:!1})},E=(f,v,_,j)=>{const P=T(n,f);if(P){const C=T(a,f,ve(_)?T(i,f):_);ve(C)||j&&j.defaultChecked||v?ae(a,f,v?C:eo(P._f)):ee(f,C),s.mount&&x()}},D=(f,v,_,j,P)=>{let C=!1,L=!1;const H={name:f};if(!e.disabled){const _e=!!(T(n,f)&&T(n,f)._f&&T(n,f)._f.disabled);if(!_||j){d.isDirty&&(L=r.isDirty,r.isDirty=H.isDirty=O(),C=L!==H.isDirty);const me=_e||St(T(i,f),v);L=!!(!_e&&T(r.dirtyFields,f)),me||_e?xe(r.dirtyFields,f):ae(r.dirtyFields,f,!0),H.dirtyFields=r.dirtyFields,C=C||d.dirtyFields&&L!==!me}if(_){const me=T(r.touchedFields,f);me||(ae(r.touchedFields,f,_),H.touchedFields=r.touchedFields,C=C||d.touchedFields&&me!==_)}C&&P&&h.state.next(H)}return C?H:{}},R=(f,v,_,j)=>{const P=T(r.errors,f),C=d.isValid&&Le(v)&&r.isValid!==v;if(e.delayError&&_?(u=g(()=>A(f,_)),u(e.delayError)):(clearTimeout(c),u=null,_?ae(r.errors,f,_):xe(r.errors,f)),(_?!St(P,_):P)||!Ne(j)||C){const L={...j,...C&&Le(v)?{isValid:v}:{},errors:r.errors,name:f};r={...r,...L},h.state.next(L)}},V=async f=>{I(f,!0);const v=await e.resolver(a,e.context,gb(f||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return I(f),v},U=async f=>{const{errors:v}=await V(f);if(f)for(const _ of f){const j=T(v,_);j?ae(r.errors,_,j):xe(r.errors,_)}else r.errors=v;return v},B=async(f,v,_={valid:!0})=>{for(const j in f){const P=f[j];if(P){const{_f:C,...L}=P;if(C){const H=o.array.has(C.name),_e=P._f&&_b(P._f);_e&&d.validatingFields&&I([j],!0);const me=await Hd(P,o.disabled,a,S,e.shouldUseNativeValidation&&!v,H);if(_e&&d.validatingFields&&I([j]),me[C.name]&&(_.valid=!1,v))break;!v&&(T(me,C.name)?H?pb(r.errors,me,C.name):ae(r.errors,C.name,me[C.name]):xe(r.errors,C.name))}!Ne(L)&&await B(L,v,_)}}return _.valid},Q=()=>{for(const f of o.unMount){const v=T(n,f);v&&(v._f.refs?v._f.refs.every(_=>!Xs(_)):!Xs(v._f.ref))&&Ze(f)}o.unMount=new Set},O=(f,v)=>!e.disabled&&(f&&v&&ae(a,f,v),!St(ct(),i)),M=(f,v,_)=>Pp(f,o,{...s.mount?a:ve(v)?i:tt(f)?{[f]:v}:v},_,v),Y=f=>Gn(T(s.mount?a:i,f,e.shouldUnregister?T(i,f,[]):[])),ee=(f,v,_={})=>{const j=T(n,f);let P=v;if(j){const C=j._f;C&&(!C.disabled&&ae(a,f,Ep(v,C)),P=pn(C.ref)&&je(v)?"":v,kp(C.ref)?[...C.ref.options].forEach(L=>L.selected=P.includes(L.value)):C.refs?Yr(C.ref)?C.refs.length>1?C.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(P)?!!P.find(H=>H===L.value):P===L.value)):C.refs[0]&&(C.refs[0].checked=!!P):C.refs.forEach(L=>L.checked=L.value===P):Pl(C.ref)?C.ref.value="":(C.ref.value=P,C.ref.type||h.values.next({name:f,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&D(f,P,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Ue(f)},ne=(f,v,_)=>{for(const j in v){const P=v[j],C=`${f}.${j}`,L=T(n,C);(o.array.has(f)||ye(P)||L&&!L._f)&&!Ft(P)?ne(C,P,_):ee(C,P,_)}},ce=(f,v,_={})=>{const j=T(n,f),P=o.array.has(f),C=Re(v);ae(a,f,C),P?(h.array.next({name:f,values:{...a}}),(d.isDirty||d.dirtyFields)&&_.shouldDirty&&h.state.next({name:f,dirtyFields:vr(i,a),isDirty:O(f,C)})):j&&!j._f&&!je(C)?ne(f,C,_):ee(f,C,_),Bd(f,o)&&h.state.next({...r}),h.values.next({name:s.mount?f:void 0,values:{...a}})},Ce=async f=>{s.mount=!0;const v=f.target;let _=v.name,j=!0;const P=T(n,_),C=()=>v.type?eo(P._f):bp(f),L=H=>{j=Number.isNaN(H)||Ft(H)&&isNaN(H.getTime())||St(H,T(a,_,H))};if(P){let H,_e;const me=C(),Te=f.type===hn.BLUR||f.type===hn.FOCUS_OUT,rn=!bb(P._f)&&!e.resolver&&!T(r.errors,_)&&!P._f.deps||xb(Te,T(r.touchedFields,_),r.isSubmitted,b,y),Ht=Bd(_,o,Te);ae(a,_,me),Te?(P._f.onBlur&&P._f.onBlur(f),u&&u(0)):P._f.onChange&&P._f.onChange(f);const pr=D(_,me,Te,!1),nn=!Ne(pr)||Ht;if(!Te&&h.values.next({name:_,type:f.type,values:{...a}}),rn)return d.isValid&&(e.mode==="onBlur"&&Te?x():Te||x()),nn&&h.state.next({name:_,...Ht?{}:pr});if(!Te&&Ht&&h.state.next({...r}),e.resolver){const{errors:We}=await V([_]);if(L(me),j){const ft=Gd(r.errors,n,_),Wl=Gd(We,n,ft.name||_);H=Wl.error,_=Wl.name,_e=Ne(We)}}else I([_],!0),H=(await Hd(P,o.disabled,a,S,e.shouldUseNativeValidation))[_],I([_]),L(me),j&&(H?_e=!1:d.isValid&&(_e=await B(n,!0)));j&&(P._f.deps&&Ue(P._f.deps),R(_,_e,H,pr))}},Ae=(f,v)=>{if(T(r.errors,v)&&f.focus)return f.focus(),1},Ue=async(f,v={})=>{let _,j;const P=Ar(f);if(e.resolver){const C=await U(ve(f)?f:P);_=Ne(C),j=f?!P.some(L=>T(C,L)):_}else f?(j=(await Promise.all(P.map(async C=>{const L=T(n,C);return await B(L&&L._f?{[C]:L}:L)}))).every(Boolean),!(!j&&!r.isValid)&&x()):j=_=await B(n);return h.state.next({...!tt(f)||d.isValid&&_!==r.isValid?{}:{name:f},...e.resolver||!f?{isValid:_}:{},errors:r.errors}),v.shouldFocus&&!j&&Ir(n,Ae,f?P:o.mount),j},ct=f=>{const v={...s.mount?a:i};return ve(f)?v:tt(f)?T(v,f):f.map(_=>T(v,_))},xt=(f,v)=>({invalid:!!T((v||r).errors,f),isDirty:!!T((v||r).dirtyFields,f),error:T((v||r).errors,f),isValidating:!!T(r.validatingFields,f),isTouched:!!T((v||r).touchedFields,f)}),Dt=f=>{f&&Ar(f).forEach(v=>xe(r.errors,v)),h.state.next({errors:f?r.errors:{}})},$e=(f,v,_)=>{const j=(T(n,f,{_f:{}})._f||{}).ref,P=T(r.errors,f)||{},{ref:C,message:L,type:H,..._e}=P;ae(r.errors,f,{..._e,...v,ref:j}),h.state.next({name:f,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&j&&j.focus&&j.focus()},Ct=(f,v)=>Je(f)?h.values.subscribe({next:_=>f(M(void 0,v),_)}):M(f,v,!0),Ze=(f,v={})=>{for(const _ of f?Ar(f):o.mount)o.mount.delete(_),o.array.delete(_),v.keepValue||(xe(n,_),xe(a,_)),!v.keepError&&xe(r.errors,_),!v.keepDirty&&xe(r.dirtyFields,_),!v.keepTouched&&xe(r.touchedFields,_),!v.keepIsValidating&&xe(r.validatingFields,_),!e.shouldUnregister&&!v.keepDefaultValue&&xe(i,_);h.values.next({values:{...a}}),h.state.next({...r,...v.keepDirty?{isDirty:O()}:{}}),!v.keepIsValid&&x()},W=({disabled:f,name:v,field:_,fields:j})=>{(Le(f)&&s.mount||f||o.disabled.has(v))&&(f?o.disabled.add(v):o.disabled.delete(v),D(v,eo(_?_._f:T(j,v)._f),!1,!1,!0))},oe=(f,v={})=>{let _=T(n,f);const j=Le(v.disabled)||Le(e.disabled);return ae(n,f,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:f}},name:f,mount:!0,...v}}),o.mount.add(f),_?W({field:_,disabled:Le(v.disabled)?v.disabled:e.disabled,name:f}):E(f,!0,v.value),{...j?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:yr(v.min),max:yr(v.max),minLength:yr(v.minLength),maxLength:yr(v.maxLength),pattern:yr(v.pattern)}:{},name:f,onChange:Ce,onBlur:Ce,ref:P=>{if(P){oe(f,v),_=T(n,f);const C=ve(P.value)&&P.querySelectorAll&&P.querySelectorAll("input,select,textarea")[0]||P,L=yb(C),H=_._f.refs||[];if(L?H.find(_e=>_e===C):C===_._f.ref)return;ae(n,f,{_f:{..._._f,...L?{refs:[...H.filter(Xs),C,...Array.isArray(T(i,f))?[{}]:[]],ref:{type:C.type,name:f}}:{ref:C}}}),E(f,!1,void 0,C)}else _=T(n,f,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(xp(o.array,f)&&s.action)&&o.unMount.add(f)}}},Se=()=>e.shouldFocusError&&Ir(n,Ae,o.mount),le=f=>{Le(f)&&(h.state.next({disabled:f}),Ir(n,(v,_)=>{const j=T(n,_);j&&(v.disabled=j._f.disabled||f,Array.isArray(j._f.refs)&&j._f.refs.forEach(P=>{P.disabled=j._f.disabled||f}))},0,!1))},ie=(f,v)=>async _=>{let j;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let P=Re(a);if(o.disabled.size)for(const C of o.disabled)ae(P,C,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:C,values:L}=await V();r.errors=C,P=L}else await B(n);if(xe(r.errors,"root"),Ne(r.errors)){h.state.next({errors:{}});try{await f(P,_)}catch(C){j=C}}else v&&await v({...r.errors},_),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ne(r.errors)&&!j,submitCount:r.submitCount+1,errors:r.errors}),j)throw j},se=(f,v={})=>{T(n,f)&&(ve(v.defaultValue)?ce(f,Re(T(i,f))):(ce(f,v.defaultValue),ae(i,f,Re(v.defaultValue))),v.keepTouched||xe(r.touchedFields,f),v.keepDirty||(xe(r.dirtyFields,f),r.isDirty=v.defaultValue?O(f,Re(T(i,f))):O()),v.keepError||(xe(r.errors,f),d.isValid&&x()),h.state.next({...r}))},Qe=(f,v={})=>{const _=f?Re(f):i,j=Re(_),P=Ne(f),C=P?i:j;if(v.keepDefaultValues||(i=_),!v.keepValues){if(v.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(vr(i,a))]);for(const H of Array.from(L))T(r.dirtyFields,H)?ae(C,H,T(a,H)):ce(H,T(C,H))}else{if(wl&&ve(f))for(const L of o.mount){const H=T(n,L);if(H&&H._f){const _e=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(pn(_e)){const me=_e.closest("form");if(me){me.reset();break}}}}n={}}a=e.shouldUnregister?v.keepDefaultValues?Re(i):{}:Re(C),h.array.next({values:{...C}}),h.values.next({values:{...C}})}o={mount:v.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:v.keepSubmitCount?r.submitCount:0,isDirty:P?!1:v.keepDirty?r.isDirty:!!(v.keepDefaultValues&&!St(f,i)),isSubmitted:v.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P?{}:v.keepDirtyValues?v.keepDefaultValues&&a?vr(i,a):r.dirtyFields:v.keepDefaultValues&&f?vr(i,f):v.keepDirty?r.dirtyFields:{},touchedFields:v.keepTouched?r.touchedFields:{},errors:v.keepErrors?r.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(f,v)=>Qe(Je(f)?f(a):f,v);return{control:{register:oe,unregister:Ze,getFieldState:xt,handleSubmit:ie,setError:$e,_executeSchema:V,_getWatch:M,_getDirty:O,_updateValid:x,_removeUnmounted:Q,_updateFieldArray:p,_updateDisabledField:W,_getFieldArray:Y,_reset:Qe,_resetDefaultValues:()=>Je(e.defaultValues)&&e.defaultValues().then(f=>{Me(f,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:f=>{r={...r,...f}},_disableForm:le,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(f){s=f},get _defaultValues(){return i},get _names(){return o},set _names(f){o=f},get _formState(){return r},set _formState(f){r=f},get _options(){return e},set _options(f){e={...e,...f}}},trigger:Ue,register:oe,handleSubmit:ie,watch:Ct,setValue:ce,getValues:ct,reset:Me,resetField:se,clearErrors:Dt,unregister:Ze,setError:$e,setFocus:(f,v={})=>{const _=T(n,f),j=_&&_._f;if(j){const P=j.refs?j.refs[0]:j.ref;P.focus&&(P.focus(),v.shouldSelect&&Je(P.select)&&P.select())}},getFieldState:xt}}function Op(t={}){const e=G.useRef(void 0),r=G.useRef(void 0),[n,i]=G.useState({isDirty:!1,isValidating:!1,isLoading:Je(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Je(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...wb(t),formState:n});const a=e.current.control;return a._options=t,Il({subject:a._subjects.state,next:s=>{Ap(s,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),G.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),G.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),G.useEffect(()=>{t.values&&!St(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),G.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),G.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),G.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=wp(n,a),e.current}const Kd=(t,e,r)=>{if(t&&"reportValidity"in t){const n=T(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Dp=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Kd(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>Kd(i,r,t))}},Ab=(t,e)=>{e.shouldUseNativeValidation&&Dp(t,e);const r={};for(const n in t){const i=T(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(Ib(e.names||Object.keys(t),n)){const s=Object.assign({},T(r,n));ae(s,"root",a),ae(r,n,s)}else ae(r,n,a)}return r},Ib=(t,e)=>t.some(r=>r.match(`^${e}\\.\\d+`));function Pb(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var u=r[s].types,c=u&&u[n.code];r[s]=Tp(s,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r}function Fp(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&Dp({},a),{errors:{},values:r.raw?Object.assign({},n):c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:Ab(Pb(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}}var X;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(X||(X={}));var No;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(No||(No={}));const N=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mt=t=>{switch(typeof t){case"undefined":return N.undefined;case"string":return N.string;case"number":return isNaN(t)?N.nan:N.number;case"boolean":return N.boolean;case"function":return N.function;case"bigint":return N.bigint;case"symbol":return N.symbol;case"object":return Array.isArray(t)?N.array:t===null?N.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?N.promise:typeof Map<"u"&&t instanceof Map?N.map:typeof Set<"u"&&t instanceof Set?N.set:typeof Date<"u"&&t instanceof Date?N.date:N.object;default:return N.unknown}},w=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tb=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const c=s.path[u];u===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof Fe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fe.create=t=>new Fe(t);const nr=(t,e)=>{let r;switch(t.code){case w.invalid_type:t.received===N.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case w.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case w.invalid_union:r="Invalid input";break;case w.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case w.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case w.invalid_arguments:r="Invalid function arguments";break;case w.invalid_return_type:r="Invalid function return type";break;case w.invalid_date:r="Invalid date";break;case w.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case w.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case w.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case w.custom:r="Invalid input";break;case w.invalid_intersection_types:r="Intersection results could not be merged";break;case w.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case w.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}};let Qp=nr;function jb(t){Qp=t}function yn(){return Qp}const gn=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},qb=[];function q(t,e){const r=yn(),n=gn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===nr?void 0:nr].filter(i=>!!i)});t.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Z=Object.freeze({status:"aborted"}),Kt=t=>({status:"dirty",value:t}),ke=t=>({status:"valid",value:t}),Eo=t=>t.status==="aborted",Oo=t=>t.status==="dirty",Vt=t=>t.status==="valid",jr=t=>typeof Promise<"u"&&t instanceof Promise;function _n(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Mp(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(F||(F={}));var Cr,Sr;class nt{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yd=(t,e)=>{if(Vt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fe(t.common.issues);return this._error=r,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var u,c;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}},description:i}}class K{get description(){return this._def.description}_getType(e){return mt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pe,ctx:{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(jr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Yd(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Vt(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Vt(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(jr(i)?i:Promise.resolve(i));return Yd(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:w.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ye({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rt.create(this,this._def)}nullable(){return qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ke.create(this)}promise(){return ar.create(this,this._def)}or(e){return Nr.create([this,e],this._def)}and(e){return Er.create(this,e,this._def)}transform(e){return new Ye({...z(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Mr({...z(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new jl({typeName:$.ZodBranded,type:this,...z(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Vr({...z(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Jr.create(this,e)}readonly(){return Lr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kb=/^c[^\s-]{8,}$/i,Rb=/^[0-9a-z]+$/,Nb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Eb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ob=/^[a-z0-9_-]{21}$/i,Db=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let to;const Vb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ub=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$b=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wb=new RegExp(`^${Vp}$`);function Lp(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Hb(t){return new RegExp(`^${Lp(t)}$`)}function Bp(t){let e=`${Vp}T${Lp(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function zb(t,e){return!!((e==="v4"||!e)&&Vb.test(t)||(e==="v6"||!e)&&Bb.test(t))}function Gb(t,e){if(!Db.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Kb(t,e){return!!((e==="v4"||!e)&&Lb.test(t)||(e==="v6"||!e)&&Ub.test(t))}class Ge extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==N.string){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:N.string,received:a.parsedType}),Z}const n=new Pe;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?q(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&q(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Qb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")to||(to=new RegExp(Mb,"u")),to.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Eb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Ob.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")kb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Rb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Nb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:w.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:w.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Bp(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Wb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Hb(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Fb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?zb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Gb(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"jwt",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Kb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cidr",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?$b.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Zb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64url",code:w.invalid_string,message:a.message}),n.dirty()):X.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:w.invalid_string,...F.errToObj(n)})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...F.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...F.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...F.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ge.create=t=>{var e;return new Ge({checks:[],typeName:$.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function Yb(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Pt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==N.number){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:N.number,received:a.parsedType}),Z}let n;const i=new Pe;for(const a of this._def.checks)a.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:w.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Yb(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_finite,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Pt.create=t=>new Pt({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Tt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==N.bigint)return this._getInvalidInput(e);let n;const i=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return q(r,{code:w.invalid_type,expected:N.bigint,received:r.parsedType}),Z}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Tt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tt.create=t=>{var e;return new Tt({checks:[],typeName:$.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};class qr extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==N.boolean){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.boolean,received:n.parsedType}),Z}return ke(e.data)}}qr.create=t=>new qr({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Lt extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==N.date){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:N.date,received:a.parsedType}),Z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_date}),Z}const n=new Pe;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):X.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Lt.create=t=>new Lt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...z(t)});class bn extends K{_parse(e){if(this._getType(e)!==N.symbol){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.symbol,received:n.parsedType}),Z}return ke(e.data)}}bn.create=t=>new bn({typeName:$.ZodSymbol,...z(t)});class kr extends K{_parse(e){if(this._getType(e)!==N.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.undefined,received:n.parsedType}),Z}return ke(e.data)}}kr.create=t=>new kr({typeName:$.ZodUndefined,...z(t)});class Rr extends K{_parse(e){if(this._getType(e)!==N.null){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.null,received:n.parsedType}),Z}return ke(e.data)}}Rr.create=t=>new Rr({typeName:$.ZodNull,...z(t)});class ir extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return ke(e.data)}}ir.create=t=>new ir({typeName:$.ZodAny,...z(t)});class Mt extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ke(e.data)}}Mt.create=t=>new Mt({typeName:$.ZodUnknown,...z(t)});class yt extends K{_parse(e){const r=this._getOrReturnCtx(e);return q(r,{code:w.invalid_type,expected:N.never,received:r.parsedType}),Z}}yt.create=t=>new yt({typeName:$.ZodNever,...z(t)});class xn extends K{_parse(e){if(this._getType(e)!==N.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.void,received:n.parsedType}),Z}return ke(e.data)}}xn.create=t=>new xn({typeName:$.ZodVoid,...z(t)});class Ke extends K{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==N.array)return q(r,{code:w.invalid_type,expected:N.array,received:r.parsedType}),Z;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(q(r,{code:s?w.too_big:w.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(q(r,{code:w.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(q(r,{code:w.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new nt(r,s,r.path,o)))).then(s=>Pe.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new nt(r,s,r.path,o)));return Pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ke({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new Ke({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new Ke({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}}Ke.create=(t,e)=>new Ke({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...z(e)});function Gt(t){if(t instanceof pe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=rt.create(Gt(n))}return new pe({...t._def,shape:()=>e})}else return t instanceof Ke?new Ke({...t._def,type:Gt(t.element)}):t instanceof rt?rt.create(Gt(t.unwrap())):t instanceof qt?qt.create(Gt(t.unwrap())):t instanceof it?it.create(t.items.map(e=>Gt(e))):t}class pe extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==N.object){const c=this._getOrReturnCtx(e);return q(c,{code:w.invalid_type,expected:N.object,received:c.parsedType}),Z}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof yt&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const u=[];for(const c of s){const d=a[c],h=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new nt(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof yt){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(q(i,{code:w.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new nt(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const h=await d.key,y=await d.value;c.push({key:h,value:y,alwaysSet:d.alwaysSet})}return c}).then(c=>Pe.mergeObjectSync(n,c)):Pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const u=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=F.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}omit(e){const r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}deepPartial(){return Gt(this)}partial(e){const r={};return X.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new pe({...this._def,shape:()=>r})}required(e){const r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof rt;)a=a._def.innerType;r[n]=a}}),new pe({...this._def,shape:()=>r})}keyof(){return Up(X.objectKeys(this.shape))}}pe.create=(t,e)=>new pe({shape:()=>t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});pe.strictCreate=(t,e)=>new pe({shape:()=>t,unknownKeys:"strict",catchall:yt.create(),typeName:$.ZodObject,...z(e)});pe.lazycreate=(t,e)=>new pe({shape:t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});class Nr extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Fe(o.ctx.common.issues));return q(r,{code:w.invalid_union,unionErrors:s}),Z}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(u=>new Fe(u));return q(r,{code:w.invalid_union,unionErrors:o}),Z}}get options(){return this._def.options}}Nr.create=(t,e)=>new Nr({options:t,typeName:$.ZodUnion,...z(e)});const pt=t=>t instanceof Dr?pt(t.schema):t instanceof Ye?pt(t.innerType()):t instanceof Fr?[t.value]:t instanceof jt?t.options:t instanceof Qr?X.objectValues(t.enum):t instanceof Mr?pt(t._def.innerType):t instanceof kr?[void 0]:t instanceof Rr?[null]:t instanceof rt?[void 0,...pt(t.unwrap())]:t instanceof qt?[null,...pt(t.unwrap())]:t instanceof jl||t instanceof Lr?pt(t.unwrap()):t instanceof Vr?pt(t._def.innerType):[];class Yn extends K{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.object)return q(r,{code:w.invalid_type,expected:N.object,received:r.parsedType}),Z;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=pt(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Yn({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...z(n)})}}function Do(t,e){const r=mt(t),n=mt(e);if(t===e)return{valid:!0,data:t};if(r===N.object&&n===N.object){const i=X.objectKeys(e),a=X.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const u=Do(t[o],e[o]);if(!u.valid)return{valid:!1};s[o]=u.data}return{valid:!0,data:s}}else if(r===N.array&&n===N.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],u=Do(s,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===N.date&&n===N.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Er extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(Eo(a)||Eo(s))return Z;const o=Do(a.value,s.value);return o.valid?((Oo(a)||Oo(s))&&r.dirty(),{status:r.value,value:o.data}):(q(n,{code:w.invalid_intersection_types}),Z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Er.create=(t,e,r)=>new Er({left:t,right:e,typeName:$.ZodIntersection,...z(r)});class it extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.array)return q(n,{code:w.invalid_type,expected:N.array,received:n.parsedType}),Z;if(n.data.length<this._def.items.length)return q(n,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new nt(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Pe.mergeArray(r,s)):Pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new it({...this._def,rest:e})}}it.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new it({items:t,typeName:$.ZodTuple,rest:null,...z(e)})};class Or extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.object)return q(n,{code:w.invalid_type,expected:N.object,received:n.parsedType}),Z;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new nt(n,o,n.path,o)),value:s._parse(new nt(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Pe.mergeObjectAsync(r,i):Pe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof K?new Or({keyType:e,valueType:r,typeName:$.ZodRecord,...z(n)}):new Or({keyType:Ge.create(),valueType:e,typeName:$.ZodRecord,...z(r)})}}class Cn extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.map)return q(n,{code:w.invalid_type,expected:N.map,received:n.parsedType}),Z;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,u],c)=>({key:i._parse(new nt(n,o,n.path,[c,"key"])),value:a._parse(new nt(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of s){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of s){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}Cn.create=(t,e,r)=>new Cn({valueType:e,keyType:t,typeName:$.ZodMap,...z(r)});class Bt extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.set)return q(n,{code:w.invalid_type,expected:N.set,received:n.parsedType}),Z;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(q(n,{code:w.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(q(n,{code:w.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(u){const c=new Set;for(const d of u){if(d.status==="aborted")return Z;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((u,c)=>a._parse(new nt(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>s(u)):s(o)}min(e,r){return new Bt({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new Bt({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Bt.create=(t,e)=>new Bt({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...z(e)});class Yt extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.function)return q(r,{code:w.invalid_type,expected:N.function,received:r.parsedType}),Z;function n(o,u){return gn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yn(),nr].filter(c=>!!c),issueData:{code:w.invalid_arguments,argumentsError:u}})}function i(o,u){return gn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yn(),nr].filter(c=>!!c),issueData:{code:w.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof ar){const o=this;return ke(async function(...u){const c=new Fe([]),d=await o._def.args.parseAsync(u,a).catch(b=>{throw c.addIssue(n(u,b)),c}),h=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(h,a).catch(b=>{throw c.addIssue(i(h,b)),c})})}else{const o=this;return ke(function(...u){const c=o._def.args.safeParse(u,a);if(!c.success)throw new Fe([n(u,c.error)]);const d=Reflect.apply(s,this,c.data),h=o._def.returns.safeParse(d,a);if(!h.success)throw new Fe([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yt({...this._def,args:it.create(e).rest(Mt.create())})}returns(e){return new Yt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Yt({args:e||it.create([]).rest(Mt.create()),returns:r||Mt.create(),typeName:$.ZodFunction,...z(n)})}}class Dr extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dr.create=(t,e)=>new Dr({getter:t,typeName:$.ZodLazy,...z(e)});class Fr extends K{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:w.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fr.create=(t,e)=>new Fr({value:t,typeName:$.ZodLiteral,...z(e)});function Up(t,e){return new jt({values:t,typeName:$.ZodEnum,...z(e)})}class jt extends K{constructor(){super(...arguments),Cr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{expected:X.joinValues(n),received:r.parsedType,code:w.invalid_type}),Z}if(_n(this,Cr)||Mp(this,Cr,new Set(this._def.values)),!_n(this,Cr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{received:r.data,code:w.invalid_enum_value,options:n}),Z}return ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return jt.create(e,{...this._def,...r})}exclude(e,r=this._def){return jt.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Cr=new WeakMap;jt.create=Up;class Qr extends K{constructor(){super(...arguments),Sr.set(this,void 0)}_parse(e){const r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==N.string&&n.parsedType!==N.number){const i=X.objectValues(r);return q(n,{expected:X.joinValues(i),received:n.parsedType,code:w.invalid_type}),Z}if(_n(this,Sr)||Mp(this,Sr,new Set(X.getValidEnumValues(this._def.values))),!_n(this,Sr).has(e.data)){const i=X.objectValues(r);return q(n,{received:n.data,code:w.invalid_enum_value,options:i}),Z}return ke(e.data)}get enum(){return this._def.values}}Sr=new WeakMap;Qr.create=(t,e)=>new Qr({values:t,typeName:$.ZodNativeEnum,...z(e)});class ar extends K{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.promise&&r.common.async===!1)return q(r,{code:w.invalid_type,expected:N.promise,received:r.parsedType}),Z;const n=r.parsedType===N.promise?r.data:Promise.resolve(r.data);return ke(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ar.create=(t,e)=>new ar({type:t,typeName:$.ZodPromise,...z(e)});class Ye extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{q(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Z;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?Z:u.status==="dirty"||r.value==="dirty"?Kt(u.value):u});{if(r.value==="aborted")return Z;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Z:o.status==="dirty"||r.value==="dirty"?Kt(o.value):o}}if(i.type==="refinement"){const s=o=>{const u=i.refinement(o,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vt(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Vt(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);X.assertNever(i)}}Ye.create=(t,e,r)=>new Ye({schema:t,typeName:$.ZodEffects,effect:e,...z(r)});Ye.createWithPreprocess=(t,e,r)=>new Ye({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...z(r)});class rt extends K{_parse(e){return this._getType(e)===N.undefined?ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(t,e)=>new rt({innerType:t,typeName:$.ZodOptional,...z(e)});class qt extends K{_parse(e){return this._getType(e)===N.null?ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:$.ZodNullable,...z(e)});class Mr extends K{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===N.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class Vr extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return jr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class Sn extends K{_parse(e){if(this._getType(e)!==N.nan){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:N.nan,received:n.parsedType}),Z}return{status:"valid",value:e.data}}}Sn.create=t=>new Sn({typeName:$.ZodNaN,...z(t)});const Jb=Symbol("zod_brand");class jl extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Jr extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Z:a.status==="dirty"?(r.dirty(),Kt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Z:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Jr({in:e,out:r,typeName:$.ZodPipeline})}}class Lr extends K{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Vt(i)&&(i.value=Object.freeze(i.value)),i);return jr(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:$.ZodReadonly,...z(e)});function Jd(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function $p(t,e={},r){return t?ir.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(u=>{var c,d;if(!u){const h=Jd(e,n),y=(d=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...h,fatal:y})}});if(!o){const u=Jd(e,n),c=(s=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...u,fatal:c})}}):ir.create()}const Xb={object:pe.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const ex=(t,e={message:`Input not instance of ${t.name}`})=>$p(r=>r instanceof t,e),Zp=Ge.create,Wp=Pt.create,tx=Sn.create,rx=Tt.create,Hp=qr.create,nx=Lt.create,ix=bn.create,ax=kr.create,sx=Rr.create,ox=ir.create,lx=Mt.create,ux=yt.create,cx=xn.create,dx=Ke.create,fx=pe.create,hx=pe.strictCreate,px=Nr.create,mx=Yn.create,vx=Er.create,yx=it.create,gx=Or.create,_x=Cn.create,bx=Bt.create,xx=Yt.create,Cx=Dr.create,Sx=Fr.create,wx=jt.create,Ax=Qr.create,Ix=ar.create,Xd=Ye.create,Px=rt.create,Tx=qt.create,jx=Ye.createWithPreprocess,qx=Jr.create,kx=()=>Zp().optional(),Rx=()=>Wp().optional(),Nx=()=>Hp().optional(),Ex={string:t=>Ge.create({...t,coerce:!0}),number:t=>Pt.create({...t,coerce:!0}),boolean:t=>qr.create({...t,coerce:!0}),bigint:t=>Tt.create({...t,coerce:!0}),date:t=>Lt.create({...t,coerce:!0})},Ox=Z;var wn=Object.freeze({__proto__:null,defaultErrorMap:nr,setErrorMap:jb,getErrorMap:yn,makeIssue:gn,EMPTY_PATH:qb,addIssueToContext:q,ParseStatus:Pe,INVALID:Z,DIRTY:Kt,OK:ke,isAborted:Eo,isDirty:Oo,isValid:Vt,isAsync:jr,get util(){return X},get objectUtil(){return No},ZodParsedType:N,getParsedType:mt,ZodType:K,datetimeRegex:Bp,ZodString:Ge,ZodNumber:Pt,ZodBigInt:Tt,ZodBoolean:qr,ZodDate:Lt,ZodSymbol:bn,ZodUndefined:kr,ZodNull:Rr,ZodAny:ir,ZodUnknown:Mt,ZodNever:yt,ZodVoid:xn,ZodArray:Ke,ZodObject:pe,ZodUnion:Nr,ZodDiscriminatedUnion:Yn,ZodIntersection:Er,ZodTuple:it,ZodRecord:Or,ZodMap:Cn,ZodSet:Bt,ZodFunction:Yt,ZodLazy:Dr,ZodLiteral:Fr,ZodEnum:jt,ZodNativeEnum:Qr,ZodPromise:ar,ZodEffects:Ye,ZodTransformer:Ye,ZodOptional:rt,ZodNullable:qt,ZodDefault:Mr,ZodCatch:Vr,ZodNaN:Sn,BRAND:Jb,ZodBranded:jl,ZodPipeline:Jr,ZodReadonly:Lr,custom:$p,Schema:K,ZodSchema:K,late:Xb,get ZodFirstPartyTypeKind(){return $},coerce:Ex,any:ox,array:dx,bigint:rx,boolean:Hp,date:nx,discriminatedUnion:mx,effect:Xd,enum:wx,function:xx,instanceof:ex,intersection:vx,lazy:Cx,literal:Sx,map:_x,nan:tx,nativeEnum:Ax,never:ux,null:sx,nullable:Tx,number:Wp,object:fx,oboolean:Nx,onumber:Rx,optional:Px,ostring:kx,pipeline:qx,preprocess:jx,promise:Ix,record:gx,set:bx,strictObject:hx,string:Zp,symbol:ix,transformer:Xd,tuple:yx,undefined:ax,union:px,unknown:lx,void:cx,NEVER:Ox,ZodIssueCode:w,quotelessJson:Tb,ZodError:Fe}),Dx="Label",zp=m.forwardRef((t,e)=>l.jsx(ge.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zp.displayName=Dx;var Gp=zp;const Fx=zf({base:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}),ql=m.forwardRef(({className:t,...e},r)=>l.jsx(Gp,{ref:r,className:ue(Fx(),t),...e}));ql.displayName=Gp.displayName;ql.__docgenInfo={description:"",methods:[]};const Kp=ub,Yp=m.createContext({}),kl=({...t})=>l.jsx(Yp.Provider,{value:{name:t.name},children:l.jsx(hb,{...t})}),Jn=()=>{const t=m.useContext(Yp),e=m.useContext(Jp),{getFieldState:r,formState:n}=Kn(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Jp=m.createContext({}),Xn=m.forwardRef(({className:t,...e},r)=>{const n=m.useId();return l.jsx(Jp.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ue("space-y-1",t),...e})})});Xn.displayName="FormItem";const ei=m.forwardRef(({className:t,...e},r)=>{const{formItemId:n}=Jn();return l.jsx(ql,{ref:r,className:t,htmlFor:n,...e})});ei.displayName="FormLabel";const ti=m.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Jn();return l.jsx($o,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});ti.displayName="FormControl";const Xp=m.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Jn();return l.jsx("p",{ref:r,id:n,className:ue("text-sm text-muted-foreground",t),...e})});Xp.displayName="FormDescription";const ri=m.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=Jn(),s=i?String(i==null?void 0:i.message):e;return s?l.jsx("p",{ref:n,id:a,className:ue("text-sm font-medium text-destructive",t),...r,children:s}):null});ri.displayName="FormMessage";Xn.__docgenInfo={description:"",methods:[],displayName:"FormItem"};ei.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};ti.__docgenInfo={description:"",methods:[],displayName:"FormControl"};Xp.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};ri.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};kl.__docgenInfo={description:"",methods:[],displayName:"FormField"};const Qx=wn.object({title:wn.string()});function em({open:t,onOpenChange:e,query:r}){const[n,i]=m.useState(!1),a=de(),s=Op({resolver:Fp(Qx),values:{title:""}}),o=async u=>(i(!0),Promise.resolve(r.saveAsCustomPill(u.title)).then(()=>e(!1)).finally(()=>i(!1)));return l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{children:[l.jsx(Rn,{children:l.jsx(Nn,{children:a.queryBar.saveDialog.title})}),l.jsx(Kp,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[l.jsx(kl,{control:s.control,name:"title",render:({field:u})=>l.jsxs(Xn,{children:[l.jsx(ei,{children:a.queryBar.saveDialog.fields.title.label}),l.jsx(ti,{children:l.jsx(Ho,{placeholder:a.queryBar.saveDialog.fields.title.placeholder,...u})}),l.jsx(ri,{})]})}),l.jsx("div",{className:"text-sm",children:a.queryBar.saveDialog.notice}),l.jsxs(En,{children:[l.jsx(On,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:a.queryBar.saveDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",loading:n,children:a.queryBar.saveDialog.ok})]})]})})]})})}em.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function tm(){const{query:t}=Be(),e=de(),[r,n]=m.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Oe,{icon:Jf,onClick:()=>n(!0),disabled:t.hasCustomPill()})}),l.jsx(lt,{className:"max-w-[200px]",children:t.hasCustomPill()?e.queryBar.customPill.cannotSaveAsCustomPill:e.queryBar.customPill.createTooltip})]}),l.jsx(em,{open:r,onOpenChange:n,query:t})]})}tm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function rm(){const{customPillConfig:t}=he();return l.jsx(jn,{children:l.jsxs("div",{className:`
flex gap-2 items-center py-2 px-4 border-r border-t border-b 
border-[--gray-5] bg-[--gray-2]
group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
`,onClick:e=>e.stopPropagation(),children:[(t==null?void 0:t.enable)&&l.jsx(tm,{}),l.jsx(sp,{}),l.jsx(gp,{})]})})}rm.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function nm(){const{queryBuilder:t,queryCountIcon:e,fetchQueryCount:r}=he(),{query:n}=Be(),[i,a]=m.useState(0),[s,o]=m.useState(!0);return m.useEffect(()=>{o(!0),r(n.raw()).then(u=>a(u)).finally(()=>o(!1))},[r,n.raw(),t.getRawQueries()]),l.jsx("div",{className:"flex items-center gap-1",children:s?l.jsx(Uv,{}):l.jsxs(l.Fragment,{children:[e&&l.jsx(e,{size:14}),l.jsx("span",{className:"font-medium",children:i})]})})}nm.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function im(){const{query:t}=Be();return t.isSelectable()?l.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-[--gray-5] bg-[--gray-2]
      group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
      group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
      `,children:[l.jsx($v,{size:"sm",checked:t.isSelected(),onClick:e=>{e.stopPropagation(),t.toggleSelect(!t.isSelected())}}),l.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}im.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};function am({type:t,size:e,className:r}){switch(t){case qe[">"]:return l.jsx(Kv,{size:e,className:r});case qe[">="]:return l.jsx(Gv,{size:e,className:r});case qe["<"]:return l.jsx(zv,{size:e,className:r});case qe["<="]:return l.jsx(Hv,{size:e,className:r});case qe.between:return l.jsx(zo,{size:e,className:r});case qe["not-in"]:case qe["some-not-in"]:return l.jsx(Wv,{size:e,className:r});default:return l.jsx(Zv,{size:e,className:r})}}am.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperator",props:{size:{required:!1,tsType:{name:"number"},description:""},type:{required:!0,tsType:{name:"union",raw:"FieldOperators | (string & {})",elements:[{name:"FieldOperators"},{name:"unknown"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var ro,ef;function sm(){if(ef)return ro;ef=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return ro=t,ro}var no,tf;function Mx(){if(tf)return no;tf=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return no=e,no}var io,rf;function Vx(){if(rf)return io;rf=1;var t=Mx(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return io=r,io}var ao,nf;function om(){if(nf)return ao;nf=1;var t=ur(),e=_t(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return ao=n,ao}var so,af;function Lx(){if(af)return so;af=1;var t=Vx(),e=gt(),r=om(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=a.test(c);return h||s.test(c)?o(c.slice(2),h?2:8):i.test(c)?n:+c}return so=u,so}var oo,sf;function Bx(){if(sf)return oo;sf=1;var t=Lx(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return oo=n,oo}var lo,of;function Ux(){if(of)return lo;of=1;var t=Bx();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return lo=e,lo}var uo,lf;function $x(){if(lf)return uo;lf=1;var t=sm(),e=Ux();function r(n,i,a){return n&&n.length?(i=a||i===void 0?1:e(i),t(n,0,i<0?0:i)):[]}return uo=r,uo}var Zx=$x();const Wx=$t(Zx);function lm({className:t,...e}){return l.jsx("span",{className:t,...e,children:"&"})}lm.__docgenInfo={description:"",methods:[],displayName:"IntersectionOperator"};function um({className:t,...e}){return l.jsx("span",{className:t,...e,children:","})}um.__docgenInfo={description:"",methods:[],displayName:"UnionOperator"};function Xr({canExpand:t,className:e,classNameContent:r,children:n,onClick:i,...a}){return l.jsx("div",{className:ue("bg-white rounded-sm pl-2 text-xs font-medium leading-5 relative",t?"pr-[22px]":"pr-2",e),...a,children:l.jsx("div",{onClick:i,className:ue("flex flex-wrap items-center",i?"hover:shadow-[inset_0_-4px_0_-2.5px_black] hover:cursor-pointer":"",r),children:n})})}Xr.__docgenInfo={description:"",methods:[],displayName:"QueryPillValuesContainer",props:{canExpand:{required:!1,tsType:{name:"boolean"},description:""},classNameContent:{required:!1,tsType:{name:"string"},description:""}}};function ni({valueFilter:t,...e}){const[r,n]=m.useState(!1),i=t.content.value.length>3,a=r?t.content.value:Wx(t.content.value,3);return l.jsxs(Xr,{canExpand:i,...e,children:[t.content.overrideValuesName?l.jsx("div",{children:l.jsx("span",{children:t.content.overrideValuesName})}):a.map((s,o)=>l.jsxs("div",{children:[l.jsx("span",{children:s}),a.length-1>o&&(t.op===qe.all?l.jsx(lm,{className:"px-1"}):l.jsx(um,{className:"px-1"}))]},`${s}-${o}`)),i&&l.jsx("div",{className:"absolute right-1 hover:cursor-pointer",children:r?l.jsx(ty,{size:16,onClick:s=>{s.preventDefault(),n(!1)}}):l.jsx(Ov,{size:16,onClick:s=>{s.preventDefault(),n(!0)}})})]})}ni.__docgenInfo={description:"",methods:[],displayName:"QueryPillValues",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function fr({children:t,className:e,onRemovePill:r,...n}){return l.jsxs("div",{className:ue("flex items-center rounded-sm p-[2px] bg-[--gray-4] group-data-[query-active=true]/query:bg-[--query-pill-bg-active]",e),...n,children:[t,l.jsx(Oe,{icon:Bv,variant:"link",className:"pr-[2px] pl-[4px] py-[2px] size-auto",onClick:i=>{i.stopPropagation(),r()}})]})}fr.__docgenInfo={description:"",methods:[],displayName:"QueryPillContainer",props:{onRemovePill:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function Rl({valueFilter:t,operator:e,className:r,...n}){const i=de(),{showLabels:a}=he();return l.jsx("div",{className:ue("flex items-center",r),...n,children:(a||e_(t)||t_(t))&&l.jsxs(l.Fragment,{children:[l.jsx(El,{children:i.queryPill.facet(t.content.field)}),l.jsx(Nl,{children:e})]})})}const Nl=({className:t,children:e,...r})=>l.jsx("span",{className:ue("ml-[2px] mr-[4px]",t),...r,children:e});function El({className:t,children:e,...r}){return l.jsx("span",{className:ue("ml-[4px] mr-[2px] text-xs font-medium",t),...r,children:e})}Nl.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperatorContainer"};El.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelContainer"};Rl.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelOperator",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},operator:{required:!0,tsType:{name:"ReactNode"},description:""}}};function Ol({valueFilter:t,customPillEditEnabled:e}){var u;const{query:r}=Be(),{queryPillFacetFilterConfig:n}=he(),[i,a]=m.useState(),s=!!(!e&&(n!=null&&n.enable)&&!((u=n==null?void 0:n.blacklistedFacets)!=null&&u.includes(t.content.field))),o=m.useCallback(()=>{n!=null&&n.onFacetClick&&!i&&a(n.onFacetClick(t))},[i,n==null?void 0:n.onFacetClick]);return l.jsxs(fr,{onRemovePill:function(){return r.removePillByFieldOrIndex(t.content.field)},children:[l.jsx(Rl,{valueFilter:t,operator:l.jsx(am,{size:14,type:t.op})}),l.jsx(Fv,{condition:s,wrapper:c=>l.jsxs(yp,{children:[l.jsx(Cl,{asChild:!0,onClick:o,children:c}),l.jsx(zn,{align:"start",children:i})]}),children:l.jsx(ni,{valueFilter:t})})]})}Ol.__docgenInfo={description:"",methods:[],displayName:"QueryPillField",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};function cm(){return l.jsx("div",{children:"QueryPillRemoteComponent"})}cm.__docgenInfo={description:"",methods:[],displayName:"QueryPillRemoteComponent"};function dm({valueFilter:t}){const{query:e}=Be();return l.jsxs(fr,{onRemovePill:function(){e.removePillByFieldOrIndex(t.content.field)},children:[l.jsx(Rl,{valueFilter:t,operator:l.jsx(zo,{size:14,type:t.op})}),l.jsx(ni,{valueFilter:t})]})}dm.__docgenInfo={description:"",methods:[],displayName:"QueryPillUploadList",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};var co,uf;function Hx(){if(uf)return co;uf=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return co=t,co}var fo,cf;function zx(){if(cf)return fo;cf=1;var t=lr(),e=Hx(),r=Rt(),n=om(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return fo=s,fo}var ho,df;function fm(){if(df)return ho;df=1;var t=zx();function e(r){return r==null?"":t(r)}return ho=e,ho}var po,ff;function Gx(){if(ff)return po;ff=1;var t=sm();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return po=e,po}var mo,hf;function hm(){if(hf)return mo;hf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function u(c){return o.test(c)}return mo=u,mo}var vo,pf;function Kx(){if(pf)return vo;pf=1;function t(e){return e.split("")}return vo=t,vo}var yo,mf;function Yx(){if(mf)return yo;mf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+u+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=c+"?",g="["+a+"]?",x="(?:"+b+"(?:"+[d,h,y].join("|")+")"+g+S+")*",I=g+S+x,p="(?:"+[d+o+"?",o,h,y,s].join("|")+")",A=RegExp(u+"(?="+u+")|"+p+I,"g");function k(E){return E.match(A)||[]}return yo=k,yo}var go,vf;function Jx(){if(vf)return go;vf=1;var t=Kx(),e=hm(),r=Yx();function n(i){return e(i)?r(i):t(i)}return go=n,go}var _o,yf;function Xx(){if(yf)return _o;yf=1;var t=Gx(),e=hm(),r=Jx(),n=fm();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,u=o?o[0]:s.charAt(0),c=o?t(o,1).join(""):s.slice(1);return u[a]()+c}}return _o=i,_o}var bo,gf;function eC(){if(gf)return bo;gf=1;var t=Xx(),e=t("toUpperCase");return bo=e,bo}var xo,_f;function tC(){if(_f)return xo;_f=1;var t=fm(),e=eC();function r(n){return e(t(n).toLowerCase())}return xo=r,xo}var rC=tC();const Fo=$t(rC);function pm({valueFilter:t}){const{query:e}=Be(),r=de();return l.jsxs(fr,{onRemovePill:function(){e.removePillByFieldOrIndex(t.content.field)},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(El,{children:t.content.index?Fo(t.content.index):r.queryPill.facet(t.content.field)}),l.jsx(Nl,{children:l.jsx(zo,{size:14})})]}),l.jsx(Xr,{children:l.jsx(ni,{valueFilter:t})})]})}pm.__docgenInfo={description:"",methods:[],displayName:"QueryPillSet",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function mm({refIndex:t}){const{query:e}=Be(),{getQueryReferenceColor:r}=he(),n=r(t);return l.jsx(fr,{onRemovePill:function(){e.removePillByFieldOrIndex(t)},children:l.jsx(Xr,{children:l.jsx("span",{style:{color:n},children:`Q${t+1}`})})})}mm.__docgenInfo={description:"",methods:[],displayName:"QueryPillReference",props:{refIndex:{required:!0,tsType:{name:"number"},description:""}}};const vm=({children:t,icon:e=Ko,onChangeText:r,...n})=>{const[i,a]=m.useState(!1);return l.jsx("div",{...n,children:i?l.jsx(Ho,{defaultValue:t,autoFocus:!0,onBlur:s=>{a(!1),r==null||r(s.currentTarget.value)},className:"max-w-96 w-full",onKeyUp:s=>{s.key==="Enter"&&(a(!1),r==null||r(s.currentTarget.value))}}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:t}),l.jsx(Oe,{icon:e,onClick:()=>a(!0)})]})})};vm.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{icon:{required:!1,tsType:{name:"ReactForwardRefExoticComponent",raw:`React.ForwardRefExoticComponent<
  Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>
>`,elements:[{name:"intersection",raw:'Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>',elements:[{name:"Omit",elements:[{name:"LucideProps"},{name:"literal",value:'"ref"'}],raw:'Omit<LucideProps, "ref">'},{name:"ReactRefAttributes",raw:"React.RefAttributes<SVGSVGElement>",elements:[{name:"SVGSVGElement"}]}]}]},description:"",defaultValue:{value:"PencilLineIcon",computed:!0}},children:{required:!0,tsType:{name:"string"},description:""},onChangeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""}}};var nC="Separator",bf="horizontal",iC=["horizontal","vertical"],ym=m.forwardRef((t,e)=>{const{decorative:r,orientation:n=bf,...i}=t,a=aC(n)?n:bf,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(ge.div,{"data-orientation":a,...o,...i,ref:e})});ym.displayName=nC;function aC(t){return iC.includes(t)}var gm=ym;const Dl=m.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(gm,{ref:i,decorative:r,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Dl.displayName=gm.displayName;Dl.__docgenInfo={description:"",methods:[],props:{orientation:{defaultValue:{value:'"horizontal"',computed:!1},required:!1},decorative:{defaultValue:{value:"true",computed:!1},required:!1}}};function _m(t,e){or.open({type:"warning",title:e.savedFilter.deleteDialog.title,description:e.savedFilter.deleteDialog.description,cancelProps:{children:e.savedFilter.deleteDialog.cancel},actionProps:{variant:"destructive",onClick:()=>t.delete(),children:e.savedFilter.deleteDialog.ok}})}function bm(t,e){or.open({type:"warning",title:e.savedFilter.overwriteDialog.title,description:e.savedFilter.overwriteDialog.description,cancelProps:{children:e.savedFilter.overwriteDialog.cancel},actionProps:{onClick:()=>t.createSavedFilter(),children:e.savedFilter.overwriteDialog.ok}})}function sC(t){or.open({type:"error",title:t.queryPill.customPill.cantBeEmptyDialog.title,description:t.queryPill.customPill.cantBeEmptyDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.cantBeEmptyDialog.ok}})}function oC(t){or.open({type:"error",title:t.queryPill.customPill.titleExistsDialog.title,description:t.queryPill.customPill.titleExistsDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.titleExistsDialog.ok}})}function lC(t,e,r,n){or.open({type:"warning",title:t.queryPill.customPill.saveDialog.title,description:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:t.queryPill.customPill.saveDialog.confirmationMessage.replace("{title}",e)}),(r==null?void 0:r.length)&&l.jsxs("div",{className:"border rounded p-4 space-y-2",children:[l.jsx("div",{className:"font-medium text-black",children:t.queryPill.customPill.saveDialog.affectedFilters}),l.jsx("ul",{className:"list-disc list-inside",children:r.map(i=>l.jsx("li",{className:"list-item",children:i.title}))})]})]}),cancelProps:{children:t.queryPill.customPill.saveDialog.cancel},actionProps:{children:t.queryPill.customPill.saveDialog.ok,onClick:async i=>(i.preventDefault(),n())}})}function xm({open:t,onOpenChange:e,queryPill:r}){const n=de(),{queryBuilder:i,customPillConfig:a}=he(),s=Mh({id:a==null?void 0:a.queryBuilderEditId,initialState:{activeQueryId:r.queries[0].id,queries:r.queries,savedFilters:[r],selectedQueryIndexes:[]},onCustomPillUpdate:async I=>{var A,k;return await Promise.resolve((k=(A=i.coreProps).onCustomPillUpdate)==null?void 0:k.call(A,I)).then(E=>(i.setState(D=>({...D,queries:l_(D.queries,I)})),e(!1),E))}}),[o,u]=m.useState(r.title),[c,d]=m.useState(!1),h=s.getQueries()[0],y=s.getSelectedSavedFilter(),b=o!==r.title,S=b||(y==null?void 0:y.isDirty()),g=m.useCallback(function(I){I?e(!0):(s.reset(),e(!1))},[e,s]),x=m.useCallback(async function(){if(h.isEmpty()){sC(n);return}if(d(!0),b){const p=await(a==null?void 0:a.validateCustomPillTitle(o));if(p!==void 0&&p===!1){d(!1),oC(n);return}}const I=await(a==null?void 0:a.fetchSavedFiltersByCustomPillId(r.id).finally(()=>d(!1)));lC(n,o,I,async()=>y==null?void 0:y.save(Wt.Query,{title:o}))},[h,y,n,o,r.id,a]);return l.jsx(qn,{open:t,onOpenChange:g,children:l.jsx(_l.Provider,{value:{queryBuilder:s,fetchQueryCount:async()=>0,getQueryReferenceColor:()=>"",showLabels:!0},children:l.jsxs(kn,{className:"flex flex-row gap-0 h-screen w-screen max-w-screen rounded-none border-none sm:rounded-none p-0",children:[l.jsx("aside",{className:"flex flex-col min-w-48 bg-primary",children:l.jsx("span",{className:"italic",children:"TODO Insert filters"})}),l.jsx("div",{className:"w-full bg-gray-100",children:l.jsxs("div",{className:"flex flex-col bg-white gap-6 p-6",children:[l.jsx(Rn,{children:l.jsx(Nn,{children:n.queryPill.customPill.editDialog.title})}),l.jsx(Dl,{}),l.jsx("div",{children:l.jsx(vm,{onChangeText:u,children:o})}),l.jsx("div",{"data-query-active":!0,className:"flex flex-wrap group/query",children:l.jsx(bl.Provider,{value:{query:h},children:l.jsx(ii,{sqon:h.raw(),customPillEditEnabled:!0})})}),l.jsxs(En,{className:"mt-5",children:[l.jsx(On,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:n.queryPill.customPill.editDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",loading:c,disabled:!S,onClick:x,children:n.queryPill.customPill.editDialog.ok})]})]})})]})})})}xm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustomEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},queryPill:{required:!0,tsType:{name:"ISavedFilter"},description:""}}};function Cm({valueQuery:t}){const{query:e}=Be(),[r,n]=m.useState(!1),{title:i,...a}=t,s={id:t.id,title:t.title,queries:[a],favorite:!1};return l.jsxs(l.Fragment,{children:[l.jsx(fr,{onRemovePill:()=>e.removePillById(t.id),children:l.jsxs(Xr,{className:"pr-1",classNameContent:"space-x-1",children:[l.jsx("span",{children:t.title}),l.jsx(Oe,{icon:Ko,size:"xs",className:"size-auto p-[2px]",onClick:()=>n(!0)})]})}),r&&l.jsx(xm,{open:r,onOpenChange:n,queryPill:s})]})}Cm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustom",props:{valueQuery:{required:!0,tsType:{name:"IValueQuery"},description:""}}};function Sm({groupFilter:t}){const e={},r=m.useMemo(function(){return t.content.forEach(n=>{e.hasOwnProperty(n.content.field)?(e[n.content.field]=It(e[n.content.field]),e[n.content.field].content.value=e[n.content.field].content.value.concat(n.content.value),n.op===Pr.in&&t.op===De.and&&t.skipBooleanOperatorCheck&&(e[n.content.field].op=Pr.all)):e[n.content.field]=It(n)}),{...t,content:Object.entries(e).map(n=>n[1])}},[t]);return l.jsx(Ol,{valueFilter:r.content[0]})}Sm.__docgenInfo={description:"",methods:[],displayName:"QueryPillIsolatedBoolean",props:{groupFilter:{required:!0,tsType:{name:"ISqonGroupFilter"},description:""}}};function wm({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.and})}wm.__docgenInfo={description:"",methods:[],displayName:"AndOperator"};function Am({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.or})}Am.__docgenInfo={description:"",methods:[],displayName:"OrOperator"};function Im(){const{query:t}=Be(),e=de(),r=t.raw().op===De.and;return l.jsx(jn,{children:l.jsx("div",{className:"px-2",onClick:n=>n.stopPropagation(),children:l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ie,{variant:"link",className:"text-sm p-0 h-auto font-normal",onClick:()=>t.changeCombineOperator(r?De.or:De.and),children:r?l.jsx(wm,{}):l.jsx(Am,{})})}),l.jsxs(lt,{children:[e.queryPill.operator.changeOperatorTo,' "',r?e.queryPill.operator.or:e.queryPill.operator.and,'"']})]})})})}Im.__docgenInfo={description:"",methods:[],displayName:"QueryCombiner"};function ii({sqon:t,customPillEditEnabled:e}){return l.jsx(l.Fragment,{children:t.content.map((r,n)=>l.jsxs("div",{className:"flex items-center py-[2px]",children:[r.skipBooleanOperatorCheck?l.jsx(Sm,{groupFilter:r}):r_(r)?l.jsx(Cm,{valueQuery:r}):cr(r)?l.jsx(ii,{sqon:r}):zr(r)?l.jsx(mm,{refIndex:r}):Yg(r)?l.jsx(pm,{valueFilter:r}):Jg(r)?l.jsx(dm,{valueFilter:r}):Xg(r)?l.jsx(cm,{}):l.jsx(Ol,{valueFilter:r,customPillEditEnabled:e}),uC(t.content,n)&&l.jsx(Im,{})]},n))})}const uC=(t,e)=>t.length-1>e;ii.__docgenInfo={description:"",methods:[],displayName:"QueryPillBoolean",props:{sqon:{required:!0,tsType:{name:"ISyntheticSqon"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};const cC=zf({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-[--query-bar-border-color-active] bg-[--query-bar-bg-active]"],false:["border-[--gray-5] bg-[--gray-2]"]}},defaultVariants:{active:!1}});function Pm({query:t}){const e=t.isActive(),r=de(),{enableCombine:n}=he(),i=()=>{e||t.setAsActive()};return l.jsx(bl.Provider,{value:{query:t},children:l.jsxs("div",{"data-query-active":e,className:"flex group/query",onClick:i,children:[l.jsx(ap,{}),n&&l.jsx(im,{}),l.jsx("div",{className:cC({active:e}),children:l.jsx("div",{className:"flex-1",children:t.isEmpty()?l.jsx(l.Fragment,{children:r.queryBar.empty}):l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1",children:cr(t.raw())&&l.jsx("div",{className:"flex items-center flex-wrap pr-2",children:l.jsx(ii,{sqon:t.raw()})})}),l.jsx(nm,{})]})})}),t.isNotEmpty()&&l.jsx(rm,{})]})})}Pm.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function Tm(){const t=de(),{queryBuilder:e}=he(),r=m.useCallback(()=>{or.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{variant:"destructive",onClick:()=>e.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[e,t]);return e.getQueries().length>1?l.jsx(Ie,{variant:"link",size:"xs",className:"no-underline enabled:hover:no-underline",onClick:r,children:t.toolbar.clearAll}):null}Tm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function jm(){const t=de(),{queryBuilder:e,enableCombine:r}=he();return e.canCombine()&&r?l.jsx(Dv,{actions:[{label:Fo(t.queryPill.operator.and),onClick:function(){e.combineSelectedQueries(De.and)}},{label:Fo(t.queryPill.operator.or),onClick:function(){e.combineSelectedQueries(De.or)}}],onDefaultAction:function(){e.combineSelectedQueries(De.and)},size:"xs",variant:"primary",children:t.toolbar.combine}):null}jm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function qm(){const t=de(),{queryBuilder:e}=he();return e.canCombine()?null:l.jsxs(Ie,{size:"xs",variant:"primary",disabled:e.hasEmptyQuery(),onClick:function(){e.createQuery({op:De.and,content:[]})},children:[l.jsx(Yf,{}),t.toolbar.newQuery]})}qm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function km(){const t=de(),{queryBuilder:e,enableShowHideLabels:r,showLabels:n,toggleLabels:i}=he();return!e.canCombine()&&r?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Jv,{size:"xs",checked:n,onCheckedChange:i})," ",t.toolbar.labels]}):null}km.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function Rm(){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(qm,{}),l.jsx(jm,{}),l.jsx(km,{})]}),l.jsx("div",{children:l.jsx(Tm,{})})]})}Rm.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function Nm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?bm(e,t):r==null||r.duplicate()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Oe,{icon:Kf,disabled:(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:t.savedFilter.duplicateTooltip})]})}Nm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Em(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?bm(e,t):e.createSavedFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Oe,{icon:Yf,onClick:n,disabled:(r==null?void 0:r.isNew())||!r})})}),l.jsx(lt,{children:t.savedFilter.newFilter})]})}Em.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Om(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=r?!r.isDirty():e.isEmpty(),i=function(){r?r.save(Wt.Filter):e.saveNewFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Oe,{icon:Jf,color:"orange-400",disabled:n,className:r!=null&&r.isDirty()?"text-[--gold-6]":"",onClick:i})})}),l.jsx(lt,{children:e.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:r!=null&&r.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Om.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Dm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter();return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Oe,{icon:Hf,disabled:(r==null?void 0:r.isNew())||!r,onClick:function(){_m(r,t)}})})}),l.jsx(lt,{children:t.savedFilter.deleteTooltip})]})}Dm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function Fm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Oe,{icon:Qv,disabled:(r==null?void 0:r.isDirty())||(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:r!=null&&r.isDirty()||!r?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}Fm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};function xf(t,[e,r]){return Math.min(r,Math.max(e,t))}var dC=[" ","Enter","ArrowUp","ArrowDown"],fC=[" ","Enter"],en="Select",[ai,si,hC]=Df(en),[hr,Lw]=Pn(en,[hC,Tn]),oi=Tn(),[pC,Et]=hr(en),[mC,vC]=hr(en),Qm=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:y,required:b,form:S}=t,g=oi(e),[x,I]=m.useState(null),[p,A]=m.useState(null),[k,E]=m.useState(!1),D=Ff(c),[R=!1,V]=Xt({prop:n,defaultProp:i,onChange:a}),[U,B]=Xt({prop:s,defaultProp:o,onChange:u}),Q=m.useRef(null),O=x?S||!!x.closest("form"):!0,[M,Y]=m.useState(new Set),ee=Array.from(M).map(ne=>ne.props.value).join(";");return l.jsx(Qf,{...g,children:l.jsxs(pC,{required:b,scope:e,trigger:x,onTriggerChange:I,valueNode:p,onValueNodeChange:A,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:sr(),value:U,onValueChange:B,open:R,onOpenChange:V,dir:D,triggerPointerDownPosRef:Q,disabled:y,children:[l.jsx(ai.Provider,{scope:e,children:l.jsx(mC,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{Y(ce=>new Set(ce).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{Y(ce=>{const Ce=new Set(ce);return Ce.delete(ne),Ce})},[]),children:r})}),O?l.jsxs(lv,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:h,value:U,onChange:ne=>B(ne.target.value),disabled:y,form:S,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},ee):null]})})};Qm.displayName=en;var Mm="SelectTrigger",Vm=m.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=oi(r),s=Et(Mm,r),o=s.disabled||n,u=Ee(e,s.onTriggerChange),c=si(r),d=m.useRef("touch"),[h,y,b]=uv(g=>{const x=c().filter(A=>!A.disabled),I=x.find(A=>A.value===s.value),p=cv(x,g,I);p!==void 0&&s.onValueChange(p.value)}),S=g=>{o||(s.onOpenChange(!0),b()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Zo,{asChild:!0,...a,children:l.jsx(ge.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ov(s.value)?"":void 0,...i,ref:u,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:fe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&y(g.key),!(x&&g.key===" ")&&dC.includes(g.key)&&(S(),g.preventDefault())})})})});Vm.displayName=Mm;var Lm="SelectValue",yC=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,u=Et(Lm,r),{onValueNodeHasChildrenChange:c}=u,d=a!==void 0,h=Ee(e,u.onValueNodeChange);return vt(()=>{c(d)},[c,d]),l.jsx(ge.span,{...o,ref:h,style:{pointerEvents:"none"},children:ov(u.value)?l.jsx(l.Fragment,{children:s}):a})});yC.displayName=Lm;var gC="SelectIcon",Bm=m.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(ge.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});Bm.displayName=gC;var _C="SelectPortal",Um=t=>l.jsx(Lf,{asChild:!0,...t});Um.displayName=_C;var Ut="SelectContent",$m=m.forwardRef((t,e)=>{const r=Et(Ut,t.__scopeSelect),[n,i]=m.useState();if(vt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Gf.createPortal(l.jsx(Zm,{scope:t.__scopeSelect,children:l.jsx(ai.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(Wm,{...t,ref:e})});$m.displayName=Ut;var He=10,[Zm,Ot]=hr(Ut),bC="SelectContentImpl",Wm=m.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:g,avoidCollisions:x,...I}=t,p=Et(Ut,r),[A,k]=m.useState(null),[E,D]=m.useState(null),R=Ee(e,W=>k(W)),[V,U]=m.useState(null),[B,Q]=m.useState(null),O=si(r),[M,Y]=m.useState(!1),ee=m.useRef(!1);m.useEffect(()=>{if(A)return Bf(A)},[A]),$f();const ne=m.useCallback(W=>{const[oe,...Se]=O().map(se=>se.ref.current),[le]=Se.slice(-1),ie=document.activeElement;for(const se of W)if(se===ie||(se==null||se.scrollIntoView({block:"nearest"}),se===oe&&E&&(E.scrollTop=0),se===le&&E&&(E.scrollTop=E.scrollHeight),se==null||se.focus(),document.activeElement!==ie))return},[O,E]),ce=m.useCallback(()=>ne([V,A]),[ne,V,A]);m.useEffect(()=>{M&&ce()},[M,ce]);const{onOpenChange:Ce,triggerPointerDownPosRef:Ae}=p;m.useEffect(()=>{if(A){let W={x:0,y:0};const oe=le=>{var ie,se;W={x:Math.abs(Math.round(le.pageX)-(((ie=Ae.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(le.pageY)-(((se=Ae.current)==null?void 0:se.y)??0))}},Se=le=>{W.x<=10&&W.y<=10?le.preventDefault():A.contains(le.target)||Ce(!1),document.removeEventListener("pointermove",oe),Ae.current=null};return Ae.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[A,Ce,Ae]),m.useEffect(()=>{const W=()=>Ce(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[Ce]);const[Ue,ct]=uv(W=>{const oe=O().filter(ie=>!ie.disabled),Se=oe.find(ie=>ie.ref.current===document.activeElement),le=cv(oe,W,Se);le&&setTimeout(()=>le.ref.current.focus())}),xt=m.useCallback((W,oe,Se)=>{const le=!ee.current&&!Se;(p.value!==void 0&&p.value===oe||le)&&(U(W),le&&(ee.current=!0))},[p.value]),Dt=m.useCallback(()=>A==null?void 0:A.focus(),[A]),$e=m.useCallback((W,oe,Se)=>{const le=!ee.current&&!Se;(p.value!==void 0&&p.value===oe||le)&&Q(W)},[p.value]),Ct=n==="popper"?Qo:Hm,Ze=Ct===Qo?{side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(Zm,{scope:r,content:A,viewport:E,onViewportChange:D,itemRefCallback:xt,selectedItem:V,onItemLeave:Dt,itemTextRefCallback:$e,focusSelectedItem:ce,selectedItemText:B,position:n,isPositioned:M,searchRef:Ue,children:l.jsx(Uf,{as:$o,allowPinchZoom:!0,children:l.jsx(Zf,{asChild:!0,trapped:p.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:fe(i,W=>{var oe;(oe=p.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:l.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:l.jsx(Ct,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:W=>W.preventDefault(),...I,...Ze,onPlaced:()=>Y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:fe(I.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&ct(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let le=O().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(W.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ie=W.target,se=le.indexOf(ie);le=le.slice(se+1)}setTimeout(()=>ne(le)),W.preventDefault()}})})})})})})});Wm.displayName=bC;var xC="SelectItemAlignedPosition",Hm=m.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Et(Ut,r),s=Ot(Ut,r),[o,u]=m.useState(null),[c,d]=m.useState(null),h=Ee(e,R=>d(R)),y=si(r),b=m.useRef(!1),S=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:I,focusSelectedItem:p}=s,A=m.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&x&&I){const R=a.trigger.getBoundingClientRect(),V=c.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),B=I.getBoundingClientRect();if(a.dir!=="rtl"){const ie=B.left-V.left,se=U.left-ie,Qe=R.left-se,Me=R.width+Qe,re=Math.max(Me,V.width),dt=window.innerWidth-He,J=xf(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Me+"px",o.style.left=J+"px"}else{const ie=V.right-B.right,se=window.innerWidth-U.right-ie,Qe=window.innerWidth-R.right-se,Me=R.width+Qe,re=Math.max(Me,V.width),dt=window.innerWidth-He,J=xf(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Me+"px",o.style.right=J+"px"}const Q=y(),O=window.innerHeight-He*2,M=g.scrollHeight,Y=window.getComputedStyle(c),ee=parseInt(Y.borderTopWidth,10),ne=parseInt(Y.paddingTop,10),ce=parseInt(Y.borderBottomWidth,10),Ce=parseInt(Y.paddingBottom,10),Ae=ee+ne+M+Ce+ce,Ue=Math.min(x.offsetHeight*5,Ae),ct=window.getComputedStyle(g),xt=parseInt(ct.paddingTop,10),Dt=parseInt(ct.paddingBottom,10),$e=R.top+R.height/2-He,Ct=O-$e,Ze=x.offsetHeight/2,W=x.offsetTop+Ze,oe=ee+ne+W,Se=Ae-oe;if(oe<=$e){const ie=Q.length>0&&x===Q[Q.length-1].ref.current;o.style.bottom="0px";const se=c.clientHeight-g.offsetTop-g.offsetHeight,Qe=Math.max(Ct,Ze+(ie?Dt:0)+se+ce),Me=oe+Qe;o.style.height=Me+"px"}else{const ie=Q.length>0&&x===Q[0].ref.current;o.style.top="0px";const Qe=Math.max($e,ee+g.offsetTop+(ie?xt:0)+Ze)+Se;o.style.height=Qe+"px",g.scrollTop=oe-$e+g.offsetTop}o.style.margin=`${He}px 0`,o.style.minHeight=Ue+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[y,a.trigger,a.valueNode,o,c,g,x,I,a.dir,n]);vt(()=>A(),[A]);const[k,E]=m.useState();vt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const D=m.useCallback(R=>{R&&S.current===!0&&(A(),p==null||p(),S.current=!1)},[A,p]);return l.jsx(SC,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(ge.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Hm.displayName=xC;var CC="SelectPopperPosition",Qo=m.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=He,...a}=t,s=oi(r);return l.jsx(Mf,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qo.displayName=CC;var[SC,Fl]=hr(Ut,{}),Mo="SelectViewport",zm=m.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Ot(Mo,r),s=Fl(Mo,r),o=Ee(e,a.onViewportChange),u=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(ai.Slot,{scope:r,children:l.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&h){const b=Math.abs(u.current-d.scrollTop);if(b>0){const S=window.innerHeight-He*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),I=Math.max(g,x);if(I<S){const p=I+b,A=Math.min(S,p),k=p-A;h.style.height=A+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});zm.displayName=Mo;var Gm="SelectGroup",[wC,AC]=hr(Gm),IC=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=sr();return l.jsx(wC,{scope:r,id:i,children:l.jsx(ge.div,{role:"group","aria-labelledby":i,...n,ref:e})})});IC.displayName=Gm;var Km="SelectLabel",Ym=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=AC(Km,r);return l.jsx(ge.div,{id:i.id,...n,ref:e})});Ym.displayName=Km;var An="SelectItem",[PC,Jm]=hr(An),Xm=m.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Et(An,r),u=Ot(An,r),c=o.value===n,[d,h]=m.useState(a??""),[y,b]=m.useState(!1),S=Ee(e,p=>{var A;return(A=u.itemRefCallback)==null?void 0:A.call(u,p,n,i)}),g=sr(),x=m.useRef("touch"),I=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(PC,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:m.useCallback(p=>{h(A=>A||((p==null?void 0:p.textContent)??"").trim())},[]),children:l.jsx(ai.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":y?"":void 0,"aria-selected":c&&y,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:S,onFocus:fe(s.onFocus,()=>b(!0)),onBlur:fe(s.onBlur,()=>b(!1)),onClick:fe(s.onClick,()=>{x.current!=="mouse"&&I()}),onPointerUp:fe(s.onPointerUp,()=>{x.current==="mouse"&&I()}),onPointerDown:fe(s.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:fe(s.onPointerMove,p=>{var A;x.current=p.pointerType,i?(A=u.onItemLeave)==null||A.call(u):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(s.onPointerLeave,p=>{var A;p.currentTarget===document.activeElement&&((A=u.onItemLeave)==null||A.call(u))}),onKeyDown:fe(s.onKeyDown,p=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&p.key===" "||(fC.includes(p.key)&&I(),p.key===" "&&p.preventDefault())})})})})});Xm.displayName=An;var wr="SelectItemText",ev=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Et(wr,r),o=Ot(wr,r),u=Jm(wr,r),c=vC(wr,r),[d,h]=m.useState(null),y=Ee(e,I=>h(I),u.onItemTextChange,I=>{var p;return(p=o.itemTextRefCallback)==null?void 0:p.call(o,I,u.value,u.disabled)}),b=d==null?void 0:d.textContent,S=m.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return vt(()=>(g(S),()=>x(S)),[g,x,S]),l.jsxs(l.Fragment,{children:[l.jsx(ge.span,{id:u.textId,...a,ref:y}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Gf.createPortal(a.children,s.valueNode):null]})});ev.displayName=wr;var tv="SelectItemIndicator",rv=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Jm(tv,r).isSelected?l.jsx(ge.span,{"aria-hidden":!0,...n,ref:e}):null});rv.displayName=tv;var Vo="SelectScrollUpButton",nv=m.forwardRef((t,e)=>{const r=Ot(Vo,t.__scopeSelect),n=Fl(Vo,t.__scopeSelect),[i,a]=m.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollTop>0;a(c)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(av,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});nv.displayName=Vo;var Lo="SelectScrollDownButton",iv=m.forwardRef((t,e)=>{const r=Ot(Lo,t.__scopeSelect),n=Fl(Lo,t.__scopeSelect),[i,a]=m.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;a(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(av,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});iv.displayName=Lo;var av=m.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Ot("SelectScrollButton",r),s=m.useRef(null),o=si(r),u=m.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),vt(()=>{var d;const c=o().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ge.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:fe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{u()})})}),TC="SelectSeparator",sv=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(ge.div,{"aria-hidden":!0,...n,ref:e})});sv.displayName=TC;var Bo="SelectArrow",jC=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=oi(r),a=Et(Bo,r),s=Ot(Bo,r);return a.open&&s.position==="popper"?l.jsx(Vf,{...i,...n,ref:e}):null});jC.displayName=Bo;function ov(t){return t===""||t===void 0}var lv=m.forwardRef((t,e)=>{const{value:r,...n}=t,i=m.useRef(null),a=Ee(e,i),s=Xv(r);return m.useEffect(()=>{const o=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[s,r]),l.jsx(Lv,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});lv.displayName="BubbleSelect";function uv(t){const e=Ev(t),r=m.useRef(""),n=m.useRef(0),i=m.useCallback(s=>{const o=r.current+s;e(o),function u(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(o)},[e]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function cv(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=qC(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const u=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function qC(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var kC=Qm,dv=Vm,RC=Bm,NC=Um,fv=$m,EC=zm,hv=Ym,pv=Xm,OC=ev,DC=rv,mv=nv,vv=iv,yv=sv;const FC=kC,Ql=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(dv,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(RC,{asChild:!0,children:l.jsx(Go,{className:"h-4 w-4 opacity-50"})})]}));Ql.displayName=dv.displayName;const Ml=m.forwardRef(({className:t,...e},r)=>l.jsx(mv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ry,{className:"h-4 w-4"})}));Ml.displayName=mv.displayName;const Vl=m.forwardRef(({className:t,...e},r)=>l.jsx(vv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Go,{className:"h-4 w-4"})}));Vl.displayName=vv.displayName;const Ll=m.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(NC,{children:l.jsxs(fv,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(Ml,{}),l.jsx(EC,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Vl,{})]})}));Ll.displayName=fv.displayName;const gv=m.forwardRef(({className:t,...e},r)=>l.jsx(hv,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gv.displayName=hv.displayName;const Bl=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(pv,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(DC,{children:l.jsx(ey,{className:"h-4 w-4"})})}),l.jsx(OC,{children:e})]}));Bl.displayName=pv.displayName;const Ul=m.forwardRef(({className:t,...e},r)=>l.jsx(yv,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Ul.displayName=yv.displayName;Ql.__docgenInfo={description:"",methods:[]};Ll.__docgenInfo={description:"",methods:[],props:{position:{defaultValue:{value:'"popper"',computed:!1},required:!1}}};gv.__docgenInfo={description:"",methods:[]};Bl.__docgenInfo={description:"",methods:[]};Ul.__docgenInfo={description:"",methods:[]};Ml.__docgenInfo={description:"",methods:[]};Vl.__docgenInfo={description:"",methods:[]};const QC=wn.object({title:wn.string().min(2,"Min 2 characters").max(50,"Max 50 characters")});function $l({open:t,onOpenChange:e,savedFilter:r}){const n=de(),{queryBuilder:i}=he(),a=Op({resolver:Fp(QC),values:{title:(r==null?void 0:r.raw().title)||""}});function s(o){r?r.save(Wt.Filter,{title:o.title}):i.saveNewFilter({title:o.title}),e(!1)}return l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{children:[l.jsx(Rn,{children:l.jsx(Nn,{children:n.savedFilter.editDialog.title})}),l.jsx(Kp,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-8",children:[l.jsx(kl,{control:a.control,name:"title",render:({field:o})=>l.jsxs(Xn,{children:[l.jsx(ei,{children:n.savedFilter.editDialog.fields.title.label}),l.jsx(ti,{children:l.jsx(Ho,{placeholder:n.savedFilter.editDialog.fields.title.placeholder,...o})}),l.jsx(ri,{})]})}),l.jsxs(En,{children:[l.jsx(On,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:n.savedFilter.editDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",children:n.savedFilter.editDialog.ok})]})]})})]})})}$l.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to duplicate the SavedFilter
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    }
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the SavedFilter"},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const MC={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},VC=(t,e,r)=>{let n;const i=MC[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},LC={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},BC=(t,e,r,n)=>LC[t];function Xe(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const UC={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},$C={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},ZC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},WC={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},HC={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},zC=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"ère":"er":a="ème",r+a},GC=["MMM","MMMM"],KC={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&GC.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:zC,era:Xe({values:UC,defaultWidth:"wide"}),quarter:Xe({values:$C,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:ZC,defaultWidth:"wide"}),day:Xe({values:WC,defaultWidth:"wide"}),dayPeriod:Xe({values:HC,defaultWidth:"wide"})};function et(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?JC(o,h=>h.test(s)):YC(o,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function YC(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function JC(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function _v(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const XC=/^(\d+)(ième|ère|ème|er|e)?/i,eS=/\d+/i,tS={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},rS={any:[/^av/i,/^ap/i]},nS={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},iS={any:[/1/i,/2/i,/3/i,/4/i]},aS={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},sS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},oS={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},lS={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},uS={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},cS={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},dS={ordinalNumber:_v({matchPattern:XC,parsePattern:eS,valueCallback:t=>parseInt(t)}),era:et({matchPatterns:tS,defaultMatchWidth:"wide",parsePatterns:rS,defaultParseWidth:"any"}),quarter:et({matchPatterns:nS,defaultMatchWidth:"wide",parsePatterns:iS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:aS,defaultMatchWidth:"wide",parsePatterns:sS,defaultParseWidth:"any"}),day:et({matchPatterns:oS,defaultMatchWidth:"wide",parsePatterns:lS,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:uS,defaultMatchWidth:"any",parsePatterns:cS,defaultParseWidth:"any"})};function Jt(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fS={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},hS={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},pS={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mS={date:Jt({formats:fS,defaultWidth:"full"}),time:Jt({formats:hS,defaultWidth:"full"}),dateTime:Jt({formats:pS,defaultWidth:"full"})},vS={code:"fr-CA",formatDistance:VC,formatLong:mS,formatRelative:BC,localize:KC,match:dS,options:{weekStartsOn:0,firstWeekContainsDate:1}},sn=43200,Cf=1440,Sf=Symbol.for("constructDateFrom");function bv(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Sf in t?t[Sf](e):t instanceof Date?new t.constructor(e):new Date(e)}function kt(t,e){return bv(t,t)}let yS={};function gS(){return yS}function wf(t){const e=kt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Zl(t,...e){const r=bv.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function dn(t,e){const r=+kt(t)-+kt(e);return r<0?-1:r>0?1:r}function _S(t,e,r){const[n,i]=Zl(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function bS(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function xS(t,e){return+kt(t)-+kt(e)}function CS(t,e){const r=kt(t);return r.setHours(23,59,59,999),r}function SS(t,e){const r=kt(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function wS(t,e){const r=kt(t);return+CS(r)==+SS(r)}function AS(t,e,r){const[n,i,a]=Zl(r==null?void 0:r.in,t,t,e),s=dn(i,a),o=Math.abs(_S(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let u=dn(i,a)===-s;wS(n)&&o===1&&dn(n,a)===1&&(u=!1);const c=s*(o-+u);return c===0?0:c}function IS(t,e,r){const n=xS(t,e)/1e3;return bS(r==null?void 0:r.roundingMethod)(n)}const PS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TS=(t,e,r)=>{let n;const i=PS[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},jS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RS={date:Jt({formats:jS,defaultWidth:"full"}),time:Jt({formats:qS,defaultWidth:"full"}),dateTime:Jt({formats:kS,defaultWidth:"full"})},NS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ES=(t,e,r,n)=>NS[t],OS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LS=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BS={ordinalNumber:LS,era:Xe({values:OS,defaultWidth:"wide"}),quarter:Xe({values:DS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:FS,defaultWidth:"wide"}),day:Xe({values:QS,defaultWidth:"wide"}),dayPeriod:Xe({values:MS,defaultWidth:"wide",formattingValues:VS,defaultFormattingWidth:"wide"})},US=/^(\d+)(th|st|nd|rd)?/i,$S=/\d+/i,ZS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WS={any:[/^b/i,/^(a|c)/i]},HS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zS={any:[/1/i,/2/i,/3/i,/4/i]},GS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ew={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tw={ordinalNumber:_v({matchPattern:US,parsePattern:$S,valueCallback:t=>parseInt(t,10)}),era:et({matchPatterns:ZS,defaultMatchWidth:"wide",parsePatterns:WS,defaultParseWidth:"any"}),quarter:et({matchPatterns:HS,defaultMatchWidth:"wide",parsePatterns:zS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:GS,defaultMatchWidth:"wide",parsePatterns:KS,defaultParseWidth:"any"}),day:et({matchPatterns:YS,defaultMatchWidth:"wide",parsePatterns:JS,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:XS,defaultMatchWidth:"any",parsePatterns:ew,defaultParseWidth:"any"})},rw={code:"en-US",formatDistance:TS,formatLong:RS,formatRelative:ES,localize:BS,match:tw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nw(t,e,r){const n=gS(),i=(r==null?void 0:r.locale)??n.locale??rw,a=2520,s=dn(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[u,c]=Zl(r==null?void 0:r.in,...s>0?[e,t]:[t,e]),d=IS(c,u),h=(wf(c)-wf(u))/1e3,y=Math.round((d-h)/60);let b;if(y<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):y===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",y,o);if(y<45)return i.formatDistance("xMinutes",y,o);if(y<90)return i.formatDistance("aboutXHours",1,o);if(y<Cf){const S=Math.round(y/60);return i.formatDistance("aboutXHours",S,o)}else{if(y<a)return i.formatDistance("xDays",1,o);if(y<sn){const S=Math.round(y/Cf);return i.formatDistance("xDays",S,o)}else if(y<sn*2)return b=Math.round(y/sn),i.formatDistance("aboutXMonths",b,o)}if(b=AS(c,u),b<12){const S=Math.round(y/sn);return i.formatDistance("xMonths",S,o)}else{const S=b%12,g=Math.trunc(b/12);return S<3?i.formatDistance("aboutXYears",g,o):S<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function xv({open:t,onOpenChange:e}){const r=de(),{queryBuilder:n}=he(),i=n.getSavedFilters();return m.useEffect(function(){i.length===0&&e(!1)},[i]),l.jsx(l.Fragment,{children:l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{className:"w-full max-w-[550px]",children:[l.jsx(Rn,{children:l.jsx(Nn,{children:r.savedFilter.manageDialog.title})}),l.jsx(Mv,{bordered:!0,className:"max-h-[250px]",children:i.map(function(a){return l.jsx(iw,{savedFilter:a},a.id)})}),l.jsx(En,{children:l.jsx(On,{asChild:!0,children:l.jsx(Ie,{variant:"primary",children:r.savedFilter.manageDialog.close})})})]})})})}const iw=({savedFilter:t})=>{const e=de(),[r,n]=m.useState(!1),[i,a]=m.useState(!1),s=m.useCallback(()=>{const o=t.raw();if(!o.updated_date)return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const u=nw(new Date,new Date(o.updated_date),{locale:vS});return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",u)},[t.raw()]);return l.jsxs(l.Fragment,{children:[l.jsx(Vv,{title:t.raw().title,description:s(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>a(!0),onDelete:()=>_m(t,e)},t.id),l.jsx($l,{open:i,onOpenChange:a,savedFilter:t})]})};xv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function Cv(){const t=de(),{queryBuilder:e}=he(),r=e.getSavedFilters(),[n,i]=m.useState(!1),[a,s]=m.useState(!1),o=e.getSelectedSavedFilter(),u=function(){i(!1),s(!0)},c=m.useMemo(function(){return new Date},[o==null?void 0:o.id]);return l.jsxs(l.Fragment,{children:[l.jsxs(FC,{value:o==null?void 0:o.id,onValueChange:function(d){var h;(h=r.find(y=>y.id===d))==null||h.select()},open:n,onOpenChange:i,disabled:r.length===0,children:[l.jsxs(st,{open:r.length>0?!1:void 0,children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ql,{className:"w-[135px] h-7",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ny,{size:14})," ",t.savedFilter.myFilters]})})}),l.jsx(lt,{children:t.savedFilter.noSavedFilters})]}),l.jsxs(Ll,{children:[r.map(d=>l.jsx(Bl,{value:d.id,children:d.raw().title},d.id)),l.jsx(Ul,{}),l.jsx(Ie,{size:"sm",className:"w-full pl-2 justify-start",onClick:u,children:t.savedFilter.manageFilters})]})]},+c),l.jsx(xv,{open:a,onOpenChange:s})]})}Cv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Sv({className:t,...e}){return l.jsx(jn,{children:l.jsx("div",{className:ue("flex",t),...e,children:l.jsxs("div",{className:"flex gap-4 items-center",onClick:function(r){r.stopPropagation()},children:[l.jsxs("div",{className:"flex gap-1.5 whitespace-nowrap",children:[l.jsx(Em,{}),l.jsx(Om,{}),l.jsx(Nm,{}),l.jsx(Dm,{}),l.jsx(Fm,{})]}),l.jsx(Cv,{})]})})})}Sv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function wv(){const{queryBuilder:t}=he(),[e,r]=m.useState(!1),n=t.getSelectedSavedFilter();return l.jsxs(l.Fragment,{children:[l.jsx(Oe,{icon:Ko,onClick:function(){r(!0)}}),l.jsx($l,{open:e,onOpenChange:r,savedFilter:n})]})}wv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Av(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter();return r!=null&&r.isDirty()?l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Oe,{icon:iy,disabled:!r,onClick:function(){r.discardChanges()}})}),l.jsx(lt,{children:t.savedFilter.discardTooltip})]}):null}Av.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Iv(){const t=de(),{queryBuilder:e,enableFavorite:r}=he(),n=e.getSelectedSavedFilter();if(!r)return null;const i=function(){n?n.save(Wt.Filter,{favorite:!n.isFavorite()}):e.saveNewFilter({favorite:!0})};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Oe,{icon:ay,iconClassName:n!=null&&n.isFavorite()?"stroke-[--gold-6] fill-[--gold-6]":"",disabled:!n,onClick:i})}),l.jsx(lt,{children:n!=null&&n.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Iv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function Pv({className:t,...e}){const{queryBuilder:r}=he(),n=r.getSelectedSavedFilter();return l.jsxs("div",{className:ue("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...e,children:[l.jsx("div",{className:"text-ellipsis overflow-hidden",children:n?n.raw().title:r.coreProps.savedFilterDefaultTitle}),l.jsx(jn,{children:l.jsxs("div",{className:"flex gap-1.5",onClick:i=>i.stopPropagation(),children:[l.jsx(wv,{}),l.jsx(Iv,{}),l.jsx(Av,{})]})})]})}Pv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};const Uo={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:"You will find your saved queries in the sidebar under the “Queries” heading.",cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Tv=["#C31D7E","#328536","#AA00FF","#C2410C","#047ABE","#E5231F","#007D85","#C51162","#7B5A90","#B85C00","#722ED1","#4D7C0F","#9F1239","#2D7D9A","#847545"];function Co(t){return t&&typeof t=="object"&&!Array.isArray(t)}function jv(t,e){const r={...t},n=e;return Co(t)&&Co(e)&&Object.keys(e).forEach(i=>{Co(n[i])&&i in t?r[i]=jv(r[i],n[i]):r[i]=n[i]}),r}function tn({className:t,enableCombine:e=!0,enableFavorite:r=!1,enableShowHideLabels:n,initialShowHideLabels:i=!0,queryReferenceColors:a=Tv,queryCountIcon:s,fetchQueryCount:o,dictionary:u=Uo,customPillConfig:c,queryPillFacetFilterConfig:d,...h}){const y=Mh(h),b=m.useMemo(()=>jv(Uo,u),[u]),[S,g]=m.useState(i),x=m.useCallback(function(p){return a[p%a.length]},[a]),I=m.useMemo(()=>({queryBuilder:y,enableCombine:e,enableFavorite:r,enableShowHideLabels:n,showLabels:S,toggleLabels:g,queryCountIcon:s,getQueryReferenceColor:x,fetchQueryCount:o,dictionary:u,customPillConfig:c,queryPillFacetFilterConfig:d}),[y,e,r,n,S,g,s,x,o,u,c,d]);return l.jsx(ip.Provider,{value:b,children:l.jsx(_l.Provider,{value:I,children:l.jsx(z_,{type:"multiple",defaultValue:["query-builder"],className:t,children:l.jsxs(vl,{value:"query-builder",className:"border-none",children:[l.jsxs(yl,{asChild:!0,className:"border py-0 px-5 rounded-t-sm data-[state=closed]:rounded-sm hover:cursor-pointer",children:[l.jsx(Pv,{className:"py-4 pr-4"}),l.jsx(Sv,{className:"ml-auto py-4"})]}),l.jsxs(gl,{className:"border-l border-b border-r py-4 px-5 space-y-4 rounded-b-sm",children:[l.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-scroll",children:y.getQueries().map(p=>l.jsx(Pm,{query:p},p.id))}),l.jsx(Rm,{})]})]})})})})}tn.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1},dictionary:{defaultValue:{value:`{
  queryBar: {
    empty: "Use the search tools & facets on the left to build a query",
    deletePopover: {
      title: "Delete this query?",
      cancel: "Cancel",
      ok: "Delete",
    },
    customPill: {
      createTooltip: "Create a custom query",
      cannotSaveAsCustomPill:
        "Custom queries cannot include other custom queries",
    },
    saveDialog: {
      title: "Save this query",
      fields: {
        title: {
          label: "Query name",
          placeholder: "Untitled query",
        },
      },
      notice:
        "You will find your saved queries in the sidebar under the “Queries” heading.",
      cancel: "Cancel",
      ok: "Save",
    },
  },
  queryPill: {
    operator: {
      changeOperatorTo: "Change operator to",
      and: "and",
      or: "or",
    },
    facet: (key) => key,
    customPill: {
      editDialog: {
        title: "Edit custom query",
        cancel: "Cancel",
        ok: "Save",
      },
      cantBeEmptyDialog: {
        title: "Query cannot be empty",
        description: "Your custom query must contain at least one criteria.",
        ok: "Close",
      },
      titleExistsDialog: {
        title: "Name already in use",
        description:
          "A custom query with this name already exists. Please assign a unique name.",
        ok: "Close",
      },
      saveDialog: {
        title: "Edit this query?",
        confirmationMessage:
          'You are about to edit the custom query "{title}", which may affect your results.',
        affectedFilters: "Affected saved filters:",
        cancel: "Cancel",
        ok: "Save",
      },
    },
  },
  toolbar: {
    combine: "Combine",
    newQuery: "New query",
    clearAll: "Clear all",
    clearAllDialog: {
      title: "Delete all queries?",
      description:
        "You are about to delete all your queries. They will be lost forever.",
      cancel: "Cancel",
      ok: "Delete",
    },
    labels: "Labels",
  },
  savedFilter: {
    deleteTooltip: "Delete filter",
    deleteDialog: {
      title: "Permanently delete this filter?",
      description:
        "You are about to permanently delete this filter and all of its queries.",
      cancel: "Cancel",
      ok: "Delete filter",
    },
    duplicateTooltip: "Duplicate filter",
    overwriteDialog: {
      title: "Unsaved changes",
      description:
        "You are about to create a new filter; all modifications will be lost.",
      cancel: "Cancel",
      ok: "Create",
    },
    editDialog: {
      title: "Edit filter",
      cancel: "Cancel",
      ok: "Save",
      fields: {
        title: {
          label: "Title",
          placeholder: "Untitled query",
        },
      },
    },
    myFilters: "My Filters",
    manageFilters: "Manage filters",
    manageDialog: {
      title: "Manage filters",
      close: "Close",
      lastSaveAt: "Last saved at: {lastSaveAt} ago",
    },
    newFilter: "New filter",
    saveTooltip: {
      whenEmpty: "Add a query to save",
      whenDirty: "Save changes",
      default: "Save filter",
    },
    shareTooltip: {
      whenNotSaved: "Save filter to share",
      default: "Share (Copy url)",
    },
    favoriteTooltip: {
      set: "Set as default filter",
      unset: "Unset default filter",
    },
    discardTooltip: "Discard unsaved changes",
    noSavedFilters: "You have no saved filters",
  },
}`,computed:!1},required:!1}}};const Bw={title:"Feature/Query Builder",component:tn,tags:["autodocs"],args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Tv,dictionary:Uo},decorators:[t=>l.jsx(Yv,{children:l.jsx(t,{})})]},So="query-builder-id",aw="query-builder-custom-pill-id",wo="query-builder-query-pill-filter-id",Af=t=>t[Math.floor(Math.random()*t.length)],In=(t=1,e=100)=>Math.floor(Math.random()*(e-t+1))+t,qv=()=>Math.random().toString(36).substring(7),sw=[qe[">"],qe["<"],qe.between,qe[">="],qe["<="]],gr=t=>({id:be(),title:(t==null?void 0:t.title)||`Custom Pill ${In(1,50)}`,queries:[Ve()],keycloak_id:be(),creation_date:new Date().toISOString(),updated_date:new Date().toISOString(),tag:"tag",favorite:!1}),ow=t=>sw.includes(t)?Array.from({length:2},()=>In()):Array.from({length:In(2,5)},()=>qv()),Ve=(t=be())=>{const e=In(1,3),r=Array.from({length:e},()=>{const n=Af(Object.values(qe));return{op:n,content:{field:`field_${qv()}`,value:ow(n)}}});return{id:t,op:Af(["and","or"]),content:r}};function kv({queryBuilderId:t}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{children:"Testing Tools:"}),l.jsxs("div",{className:"flex border p-4 gap-2",children:[l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>Qt.addQuery(t,Ve()),children:"Add query"}),l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const on={args:{id:So,initialState:{...Qt.getLocalQueryBuilderState(So),savedFilters:[{id:be(),title:"Olivier's Filter",favorite:!1,queries:[Ve(),Ve(),Ve()]},{id:be(),title:"Francis' Filter",favorite:!1,queries:[Ve(),Ve()]},{id:be(),title:"Luc's Filter",favorite:!1,queries:[Ve(),Ve(),Ve()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:te(),onCustomPillUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te()},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(tn,{...t}),l.jsx(kv,{queryBuilderId:So})]})},If=be(),ln={args:{id:aw,initialState:{activeQueryId:If,queries:[Ve(If),Ve()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:t=>(Ao("onCustomPillSave")(t),new Promise(e=>setTimeout(()=>e(gr(t)),750))),onCustomPillUpdate:t=>(Ao("onCustomPillUpdate")(t),new Promise(e=>setTimeout(()=>e(gr(t)),750))),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(gr()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([gr(),gr()]),750))}},render:t=>l.jsx(tn,{...t})},un={args:{id:wo,initialState:{...Qt.getLocalQueryBuilderState(wo),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(Ao("onFacetClick")(t),l.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(tn,{...t}),l.jsx(kv,{queryBuilderId:wo})]})};var Pf,Tf,jf;on.parameters={...on.parameters,docs:{...(Pf=on.parameters)==null?void 0:Pf.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(jf=(Tf=on.parameters)==null?void 0:Tf.docs)==null?void 0:jf.source}}};var qf,kf,Rf;ln.parameters={...ln.parameters,docs:{...(qf=ln.parameters)==null?void 0:qf.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action("onCustomPillSave")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action("onCustomPillUpdate")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: "qb-custom-pill-edit-id",
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(Rf=(kf=ln.parameters)==null?void 0:kf.docs)==null?void 0:Rf.source}}};var Nf,Ef,Of;un.parameters={...un.parameters,docs:{...(Nf=un.parameters)==null?void 0:Nf.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action("onFacetClick")(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Of=(Ef=un.parameters)==null?void 0:Ef.docs)==null?void 0:Of.source}}};const Uw=["Default","CustomPill","QueryPillFilter"];export{ln as CustomPill,on as Default,un as QueryPillFilter,Uw as __namedExportsOrder,Bw as default};
