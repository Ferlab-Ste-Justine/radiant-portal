import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as ee}from"./index-B-lxVbXh.js";import{q as j,M as re}from"./query-builder-remote-CKB4cq7d.js";import{r as n}from"./index-CTzypqlY.js";import{B as oe}from"./button-Hs0NxiJB.js";import{L as te}from"./label-DpW8oBa6.js";import{u as ae,c as T,P as k,b as I,a as N}from"./index-DSqg7KUl.js";import{j as O,u as se,R as ie,I as ne,C as ce}from"./dropdown-menu-BAWNGxRC.js";import{u as de}from"./index-Y7TeOx8d.js";import{u as le}from"./index-W4gAHHet.js";import{P as ue}from"./index-BEp8L1N2.js";import{c as B}from"./utils-bRKmu4jq.js";import{u as pe,C as me}from"./applications-config-DjklmI9G.js";import{u as fe}from"./i18n-BkZK_zZp.js";import"./v4-CtRu48qb.js";import"./api-CU3RBd8i.js";import"./ActionButton-D_6N7jQy.js";import"./button.variants-Bi9Y1jMV.js";import"./index-C66Dxnp2.js";import"./ellipsis-ClICah0q.js";import"./createLucideIcon-j2ULFFRy.js";import"./spinner-4Iyzy26w.js";import"./index-8Ey6BpB7.js";import"./index-X_f_OX5J.js";import"./index-CqHHZPb-.js";import"./Combination-3tVHk2hX.js";import"./index-BFdFQidM.js";import"./check-BwCYBAs1.js";import"./iframe-C5WwkfMb.js";var C="Radio",[ye,q]=T(C),[ve,ge]=ye(C),L=n.forwardRef((r,c)=>{const{__scopeRadio:s,name:l,checked:a=!1,required:t,disabled:d,value:v="on",onCheck:u,form:m,...f}=r,[p,o]=n.useState(null),i=I(c,x=>o(x)),y=n.useRef(!1),g=p?m||!!p.closest("form"):!0;return e.jsxs(ve,{scope:s,checked:a,disabled:d,children:[e.jsx(k.button,{type:"button",role:"radio","aria-checked":a,"data-state":U(a),"data-disabled":d?"":void 0,disabled:d,value:v,...f,ref:i,onClick:N(r.onClick,x=>{a||u==null||u(),g&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),g&&e.jsx(V,{control:p,bubbles:!y.current,name:l,value:v,checked:a,required:t,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});L.displayName=C;var M="RadioIndicator",Q=n.forwardRef((r,c)=>{const{__scopeRadio:s,forceMount:l,...a}=r,t=ge(M,s);return e.jsx(ue,{present:l||t.checked,children:e.jsx(k.span,{"data-state":U(t.checked),"data-disabled":t.disabled?"":void 0,...a,ref:c})})});Q.displayName=M;var xe="RadioBubbleInput",V=n.forwardRef(({__scopeRadio:r,control:c,checked:s,bubbles:l=!0,...a},t)=>{const d=n.useRef(null),v=I(d,t),u=le(s),m=de(c);return n.useEffect(()=>{const f=d.current;if(!f)return;const p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==s&&i){const y=new Event("click",{bubbles:l});i.call(f,s),f.dispatchEvent(y)}},[u,s,l]),e.jsx(k.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:v,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});V.displayName=xe;function U(r){return r?"checked":"unchecked"}var Re=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[he,er]=T(_,[O,q]),K=O(),z=q(),[ke,_e]=he(_),H=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,name:l,defaultValue:a,value:t,required:d=!1,disabled:v=!1,orientation:u,dir:m,loop:f=!0,onValueChange:p,...o}=r,i=K(s),y=se(m),[g,x]=ae({prop:t,defaultProp:a??null,onChange:p,caller:_});return e.jsx(ke,{scope:s,name:l,required:d,disabled:v,value:g,onValueChange:x,children:e.jsx(ie,{asChild:!0,...i,orientation:u,dir:y,loop:f,children:e.jsx(k.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":v?"":void 0,dir:y,...o,ref:c})})})});H.displayName=_;var $="RadioGroupItem",W=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,disabled:l,...a}=r,t=_e($,s),d=t.disabled||l,v=K(s),u=z(s),m=n.useRef(null),f=I(c,m),p=t.value===a.value,o=n.useRef(!1);return n.useEffect(()=>{const i=g=>{Re.includes(g.key)&&(o.current=!0)},y=()=>o.current=!1;return document.addEventListener("keydown",i),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",y)}},[]),e.jsx(ne,{asChild:!0,...v,focusable:!d,active:p,children:e.jsx(L,{disabled:d,required:t.required,checked:p,...u,...a,name:t.name,ref:f,onCheck:()=>t.onValueChange(a.value),onKeyDown:N(i=>{i.key==="Enter"&&i.preventDefault()}),onFocus:N(a.onFocus,()=>{var i;o.current&&((i=m.current)==null||i.click())})})})});W.displayName=$;var be="RadioGroupIndicator",X=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,...l}=r,a=z(s);return e.jsx(Q,{...a,...l,ref:c})});X.displayName=be;var Y=H,J=W,je=X;function E({className:r,...c}){return e.jsx(Y,{className:B("grid gap-2",r),...c})}E.displayName=Y.displayName;function S({className:r,...c}){return e.jsx(J,{className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...c,children:e.jsx(je,{className:"flex items-center justify-center",children:e.jsx(ce,{className:"h-2.5 w-2.5 fill-current text-current"})})})}S.displayName=J.displayName;E.__docgenInfo={description:"",methods:[]};S.__docgenInfo={description:"",methods:[]};function b({data:r,field:c}){const{t:s}=fe(),[l,a]=n.useState(r||[]),[t,d]=n.useState(null),u=pe().variant_exploration.app_id;n.useEffect(()=>{let o=j.getActiveQuery(u).content.find(i=>i.content.field===c.key);if(o){let i=o.content.value;i.length>=1&&d(i[0])}else d(null);a(r||[])},[r]);const m=n.useCallback(o=>{o.key!==t&&o.key!==void 0&&(d(o.key||null),j.updateActiveQueryField(u,{field:c.key,value:[...o.key],merge_strategy:re.OVERRIDE_VALUES}))},[t]),f=n.useCallback(o=>t===o.key,[t]),p=n.useCallback(()=>{d(null)},[t]);return e.jsxs("div",{className:"p-2 w-full max-w-md",children:[e.jsx(E,{children:l.map(o=>e.jsx("div",{className:"space-y-3 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{value:o.key||"",id:o.key,checked:f(o),onClick:()=>{m(o)}}),e.jsx(te,{htmlFor:o.key,children:o.key})]}),e.jsx("span",{className:"bg-accent px-2 py-1 rounded-md font-mono text-xs",children:o.count})]})},o.key))}),t!==null&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-border"}),e.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:e.jsx(oe,{onClick:p,size:"xs",children:s("common.filters.buttons.clear")})})]})]})}b.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const Z={variant_exploration:{app_id:"variant_exploration_toggle_filter",aggregations:[{key:"chromosome",type:"multiple"},{key:"filter",type:"multiple"},{key:"zygosity",type:"multiple"},{key:"impact_score",type:"multiple"},{key:"variant_class",type:"multiple"},{key:"symbol",type:"multiple"}]}},rr={title:"Feature/Query Filters/Toggle Filter",component:b,args:{data:[],field:{key:"chromosome",type:"boolean"}},decorators:[r=>e.jsx(me,{config:Z,children:e.jsx(r,{})})]},R={args:{data:[{key:"true",count:10030},{key:"false",count:200}]},render:r=>e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})})},h={args:{data:[{key:"Option6",count:600},{key:"Option5",count:500}]},render:r=>(ee("activeQuery")(j.updateActiveQueryField(Z.variant_exploration.app_id,{field:"chromosome",value:["true"]})),e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})}))};var A,w,P;R.parameters={...R.parameters,docs:{...(A=R.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'true',
      count: 10030
    }, {
      key: 'false',
      count: 200
    }]
  },
  render: args => {
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(P=(w=R.parameters)==null?void 0:w.docs)==null?void 0:P.source}}};var G,F,D;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'Option6',
      count: 600
    }, {
      key: 'Option5',
      count: 500
    }]
  },
  render: args => {
    action('activeQuery')(queryBuilderRemote.updateActiveQueryField(config.variant_exploration.app_id, {
      field: 'chromosome',
      value: ['true']
    }));
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(D=(F=h.parameters)==null?void 0:F.docs)==null?void 0:D.source}}};const or=["Default","DataAppliedToQueryBuilder"];export{h as DataAppliedToQueryBuilder,R as Default,or as __namedExportsOrder,rr as default};
