import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{a as Z}from"./index-B-lxVbXh.js";import{q as b,M as ee}from"./query-builder-remote-4G-kxmmP.js";import{r as i}from"./index-tvICUrOf.js";import{B as re}from"./button-Bt0dR50w.js";import{L as oe}from"./label-QUUB1y4o.js";import{u as te,c as D,P as j,d as T,b as _}from"./index-DHoK6HQ1.js";import{h as O,u as ae,i as se,I as ie,j as ne}from"./dropdown-menu-Df-q2eXS.js";import{u as ce}from"./index-B7VY1_KI.js";import{u as de}from"./index-C1xbsqtW.js";import{P as le}from"./index-C-096Y_y.js";import{c as q}from"./utils-BNf5BS2b.js";import{u as ue,C as pe}from"./applications-config-B4jBJrF9.js";import{u as me}from"./i18n-C7oxrTKN.js";import"./index-yBjzXJbu.js";import"./v4-CtRu48qb.js";import"./ActionButton-3jPSD3_g.js";import"./index-C66Dxnp2.js";import"./ellipsis-NIzCCAdy.js";import"./createLucideIcon-DKFpjrVJ.js";import"./index-_r67kdfS.js";import"./index-fNjTmf9T.js";import"./Combination-CHLpyrt-.js";import"./iframe-B2ZmP5zN.js";var N="Radio",[fe,L]=D(N),[ye,ve]=fe(N),M=i.forwardRef((r,n)=>{const{__scopeRadio:t,name:l,checked:s=!1,required:a,disabled:c,value:f="on",onCheck:u,form:m,...v}=r,[p,o]=i.useState(null),d=T(n,R=>o(R)),y=i.useRef(!1),g=p?m||!!p.closest("form"):!0;return e.jsxs(ye,{scope:t,checked:s,disabled:c,children:[e.jsx(j.button,{type:"button",role:"radio","aria-checked":s,"data-state":V(s),"data-disabled":c?"":void 0,disabled:c,value:f,...v,ref:d,onClick:_(r.onClick,R=>{s||u==null||u(),g&&(y.current=R.isPropagationStopped(),y.current||R.stopPropagation())})}),g&&e.jsx(ge,{control:p,bubbles:!y.current,name:l,value:f,checked:s,required:a,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});M.displayName=N;var Q="RadioIndicator",B=i.forwardRef((r,n)=>{const{__scopeRadio:t,forceMount:l,...s}=r,a=ve(Q,t);return e.jsx(le,{present:l||a.checked,children:e.jsx(j.span,{"data-state":V(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:n})})});B.displayName=Q;var ge=r=>{const{control:n,checked:t,bubbles:l=!0,...s}=r,a=i.useRef(null),c=de(t),f=ce(n);return i.useEffect(()=>{const u=a.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==t&&p){const o=new Event("click",{bubbles:l});p.call(u,t),u.dispatchEvent(o)}},[c,t,l]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:a,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function V(r){return r?"checked":"unchecked"}var Re=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[xe,$e]=D(C,[O,L]),K=O(),U=L(),[he,ke]=xe(C),z=i.forwardRef((r,n)=>{const{__scopeRadioGroup:t,name:l,defaultValue:s,value:a,required:c=!1,disabled:f=!1,orientation:u,dir:m,loop:v=!0,onValueChange:p,...o}=r,d=K(t),y=ae(m),[g,R]=te({prop:a,defaultProp:s,onChange:p});return e.jsx(he,{scope:t,name:l,required:c,disabled:f,value:g,onValueChange:R,children:e.jsx(se,{asChild:!0,...d,orientation:u,dir:y,loop:v,children:e.jsx(j.div,{role:"radiogroup","aria-required":c,"aria-orientation":u,"data-disabled":f?"":void 0,dir:y,...o,ref:n})})})});z.displayName=C;var H="RadioGroupItem",$=i.forwardRef((r,n)=>{const{__scopeRadioGroup:t,disabled:l,...s}=r,a=ke(H,t),c=a.disabled||l,f=K(t),u=U(t),m=i.useRef(null),v=T(n,m),p=a.value===s.value,o=i.useRef(!1);return i.useEffect(()=>{const d=g=>{Re.includes(g.key)&&(o.current=!0)},y=()=>o.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",y)}},[]),e.jsx(ie,{asChild:!0,...f,focusable:!c,active:p,children:e.jsx(M,{disabled:c,required:a.required,checked:p,...u,...s,name:a.name,ref:v,onCheck:()=>a.onValueChange(s.value),onKeyDown:_(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:_(s.onFocus,()=>{var d;o.current&&((d=m.current)==null||d.click())})})})});$.displayName=H;var be="RadioGroupIndicator",W=i.forwardRef((r,n)=>{const{__scopeRadioGroup:t,...l}=r,s=U(t);return e.jsx(B,{...s,...l,ref:n})});W.displayName=be;var X=z,Y=$,_e=W;const I=i.forwardRef(({className:r,...n},t)=>e.jsx(X,{className:q("grid gap-2",r),...n,ref:t}));I.displayName=X.displayName;const E=i.forwardRef(({className:r,...n},t)=>e.jsx(Y,{ref:t,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:e.jsx(_e,{className:"flex items-center justify-center",children:e.jsx(ne,{className:"h-2.5 w-2.5 fill-current text-current"})})}));E.displayName=Y.displayName;I.__docgenInfo={description:"",methods:[]};E.__docgenInfo={description:"",methods:[]};function k({data:r,field:n}){const{t}=me(),[l,s]=i.useState(r||[]),[a,c]=i.useState(null),u=ue().variant_entity.app_id;i.useEffect(()=>{let o=b.getActiveQuery(u).content.find(d=>d.content.field===n.key);if(o){let d=o.content.value;d.length>=1&&c(d[0])}else c(null);s(r||[])},[r]);const m=i.useCallback(o=>{o.key!==a&&o.key!==void 0&&(c(o.key||null),b.updateActiveQueryField(u,{field:n.key,value:[...o.key],merge_strategy:ee.OVERRIDE_VALUES}))},[a]),v=i.useCallback(o=>a===o.key,[a]),p=i.useCallback(()=>{c(null)},[a]);return e.jsxs("div",{className:"p-2 w-full max-w-md",children:[e.jsx(I,{children:l.map(o=>e.jsx("div",{className:"space-y-3 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{value:o.key||"",id:o.key,checked:v(o),onClick:()=>{m(o)}}),e.jsx(oe,{htmlFor:o.key,children:o.key})]}),e.jsx("span",{className:"bg-gray-200 px-2 py-1 rounded-md font-mono text-xs",children:o.count})]})},o.key))}),a!==null&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-border"}),e.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:e.jsx(re,{className:"text-gray-600",onClick:p,children:t("common.filters.buttons.clear")})})]})]})}k.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const J={variant_entity:{app_id:"variant_entity_toggle_filter",aggregations:[{key:"chromosome",type:"multiple"},{key:"filter",type:"multiple"},{key:"zygosity",type:"multiple"},{key:"impact_score",type:"multiple"},{key:"variant_class",type:"multiple"},{key:"symbol",type:"multiple"}]}},We={title:"Feature/Query Filters/Toggle Filter",component:k,tags:["autodocs"],args:{data:[],field:{key:"chromosome",type:"boolean"}},decorators:[r=>e.jsx(pe,{config:J,children:e.jsx(r,{})})]},x={args:{data:[{key:"true",count:10030},{key:"false",count:200}]},render:r=>e.jsx("div",{className:"space-y-6",children:e.jsx(k,{...r})})},h={args:{data:[{key:"Option6",count:600},{key:"Option5",count:500}]},render:r=>(Z("activeQuery")(b.updateActiveQueryField(J.variant_entity.app_id,{field:"chromosome",value:["true"]})),e.jsx("div",{className:"space-y-6",children:e.jsx(k,{...r})}))};var S,w,A;x.parameters={...x.parameters,docs:{...(S=x.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'true',
      count: 10030
    }, {
      key: 'false',
      count: 200
    }]
  },
  render: args => {
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(A=(w=x.parameters)==null?void 0:w.docs)==null?void 0:A.source}}};var P,G,F;h.parameters={...h.parameters,docs:{...(P=h.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    data: [{
      key: 'Option6',
      count: 600
    }, {
      key: 'Option5',
      count: 500
    }]
  },
  render: args => {
    action('activeQuery')(queryBuilderRemote.updateActiveQueryField(config.variant_entity.app_id, {
      field: 'chromosome',
      value: ['true']
    }));
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(F=(G=h.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};const Xe=["Default","DataAppliedToQueryBuilder"];export{h as DataAppliedToQueryBuilder,x as Default,Xe as __namedExportsOrder,We as default};
